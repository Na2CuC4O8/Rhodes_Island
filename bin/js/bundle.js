var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Struc;
(function (Struc) {
    var PointerList = /** @class */ (function () {
        function PointerList(source, initPoint) {
            if (source === void 0) { source = []; }
            if (initPoint === void 0) { initPoint = 0; }
            var _this = this;
            this.list = [];
            this.pointer = 0;
            source.forEach(function (ele) {
                _this.list.push(ele);
            });
        }
        PointerList.prototype.read = function () {
            return this.list[this.pointer];
        };
        PointerList.prototype.step = function () {
            this.pointer += 1;
            return this;
        };
        PointerList.prototype.to = function (place) {
            this.pointer = place;
            return this;
        };
        PointerList.prototype.push = function (data) {
            this.list.push(data);
            return this;
        };
        PointerList.prototype.set = function (index, data) {
            this.list[index] = data;
            return this;
        };
        PointerList.prototype.next = function (shift) {
            if (shift === void 0) { shift = 1; }
            return this.list[this.pointer + shift];
        };
        Object.defineProperty(PointerList.prototype, "length", {
            get: function () {
                return this.list.length;
            },
            enumerable: true,
            configurable: true
        });
        return PointerList;
    }());
    Struc.PointerList = PointerList;
})(Struc = exports.Struc || (exports.Struc = {}));
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameField_1 = require("./SceneScript/GameField");
var Loading_1 = require("./SceneScript/Loading");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("SceneScript/GameField.ts", GameField_1.default);
        reg("SceneScript/Loading.ts", Loading_1.default);
    };
    GameConfig.width = 1400;
    GameConfig.height = 900;
    GameConfig.scaleMode = "noscale";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "LoadingScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./SceneScript/GameField":7,"./SceneScript/Loading":8}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DataStructure_1 = require("../DataStructure");
var gameSet_URL = "./Database/GameSet.json", enemyDatabase_URL = "./Database/EnemyDatabase.json", operatorDatabase_URL = "./Database/OperatorDatabase.json";
var Database = /** @class */ (function () {
    function Database() {
        this.enemyData = Laya.loader.getRes(enemyDatabase_URL);
        this.operatorData = Laya.loader.getRes(operatorDatabase_URL);
        this.gameSet = Laya.loader.getRes(gameSet_URL);
        this.initTimeTable();
    }
    Database.prototype.initTimeTable = function () {
        var _this = this;
        this.timeTable = new DataStructure_1.Struc.PointerList();
        this.gameSet["timetableBref"].forEach(function (element) {
            var time = element["time"];
            var typeData = _this.enemyData[element["type"]];
            var path = _this.gameSet["paths"][element.path];
            _this.timeTable.push({ time: time, typeData: typeData, path: path });
        });
    };
    Database.prototype.isHappening = function (time) {
        return this.timeTable.read() && time === this.timeTable.read().time;
    };
    Database.prototype.readTimeEvent = function () {
        return this.timeTable.read();
    };
    Database.prototype.readTimeEventDone = function () {
        this.timeTable.step();
    };
    Database.prototype.getPath = function (pathName) {
        return this.gameSet["paths"][pathName];
    };
    Database.prototype.getEnemy = function (enemyName) {
        return this.enemyData[enemyName];
    };
    Database.prototype.getOperator = function (operatorName) {
        return this.operatorData[operatorName];
    };
    Database.prototype.getGround = function () {
        return this.gameSet["ground"];
    };
    return Database;
}());
exports.default = Database;
},{"../DataStructure":1}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Enemy = /** @class */ (function () {
    function Enemy(upperPath, father, enemyData, path) {
        this.upperPath = upperPath;
        this.father = father;
        this.data = enemyData;
        this.path = path;
        console.log("已新建敌人");
        console.log(this);
        console.log("已新建敌人");
    }
    return Enemy;
}());
exports.default = Enemy;
// export default class Enemy extends basic.People{
//     constructor(father:Laya.Sprite,upperPath:GameField,data:any,path:number[][]){
//         super()
//         this.state.init(data,path)
//         this.present.init(father, "Basic/There-2.png", 0,0)
//         // this.state.speed = 5
//         // this.state.setAxisSpeed()
//         this.update = ()=>{
//             // this.state.updatePosition()
//             // this.present.setPosition(this.state.position)
//             // this.state.isArrived() && this.state.nextAim()
//         }
//         Laya.timer.once(2000,this,console.log,[this])
//     }
// }
/*
export default class Enemy extends basic.People{
    public speed:number = 0.4       //速度
    public CentreShift:number = 35  //与Ground.Grids.size的一半保持一致，稍后改为变量
    private hitDoctor:number = 1    //进门之后打刀客他多少血
    // public path:number[][] = [
    //     [0,0],
    //     [100,100],
    //     [0,0]
    // ]
    
    public path:number[][] = []     //路径对象
    public father:Laya.Sprite       //原点坐标对象
    private place:Grids             //地图方格对象
    private upperPath:GameField     //含有此实例的实例

    constructor(father:Laya.Sprite, place:Grids, upperPath:GameField){
        super()
        // alert(1)
        this.upperPath = upperPath
        this.father = father
        this.place = place
        this.state.ele = Laya.Sprite.fromImage("Basic/There.png")
        // alert(2)

        // const start:number[] = this.path.shift()
        this.state.ele.pos(0,0).size(30,30)
        father.addChild(this.state.ele)

        this.SetPath()
        this.move()
    }

    private SetPath(){
        const points:number[][] = [
            [0,0],
            [0,5],
            [5,5],
            [5,3],
            [3,3],
            [3,0],
            [5,0],
            [5,9]
        ]
        points.forEach((ele)=>{
            // console.log(this.upperPath)
            const rec:Laya.Rectangle = this.upperPath.grids.RecMap[ele[0]][ele[1]]
            const current:number[] = [
                rec.x,
                rec.y
            ]
            this.path.push(current)
        })
    }

    private move(){
        const target:number[] = this.path.shift()
        if (target === undefined){
            this.goal()
            return
        }
        const {x,y} = this.state.ele
        const hypotenuse:number = Math.sqrt(Math.pow(x-target[0],2)+Math.pow(y-target[1],2))
        const time:number = Math.floor(hypotenuse/this.speed)
        const tween:Laya.Tween = Laya.Tween.to(this.state.ele, {x:target[0],y:target[1]}, time, null,
            Laya.Handler.create(this,this.move),100)

    }
    

    private goal(){
        this.upperPath.doctor.damaged(this.hitDoctor)
    }
}
*/ 
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Grids = /** @class */ (function () {
    function Grids(upperPath, father, database) {
        this.spriteGroup = [];
        this.rectGroup = [];
        this.upperPath = upperPath;
        this.father = father;
        this.database = database;
        //创建游戏场地: Start
        var ground = database.getGround(), width = ground["width"], height = ground["height"], size = ground["size"], matrix = ground["matrix"];
        for (var x = 0; x < width; x += 1) {
            this.spriteGroup[x] = [];
            this.rectGroup[x] = [];
            for (var y = 0; y < height; y += 1) {
                //创建sprite: Start
                var sprite = Laya.Sprite.fromImage("Basic/Rec.png");
                sprite.pos(x * size, y * size).size(size, size);
                father.addChild(sprite);
                this.spriteGroup[x][y] = sprite;
                //创建Sprite: End
                //创建Rectangle: Start
                var rect = new Laya.Rectangle(x * size, y * size, size, size);
                this.rectGroup[x][y] = rect;
                //创建Rectangle: End
            }
        }
        //创建游戏场地: End
        console.log("Grids对象创建完成");
        console.log(this);
        console.log("Grids对象创建完成");
    }
    return Grids;
}());
exports.Grids = Grids;
// export class Grids{
//     public Map:Array<Array<Laya.Sprite>> = []
//     public RecMap:Array<Array<Laya.Rectangle>> = []
//     private static size:number = 90
//     private father:Laya.Sprite
//     private upperPath:GameField
//     private data:JSON
//     //old
//     //new
//     private database:Database
//     constructor(father:Laya.Sprite, upperPath:GameField, database:Database){
//         this.database = database
//         // this.father = father
//         // this.upperPath = upperPath
//         // this.data = data
//         // let cols = data["ground"]["width"],
//         // raws = data["ground"]["height"]
//         // for (let n = 0; n < raws; n += 1) {
//         //     this.Map[n] = []
//         //     this.RecMap[n] = []
//         //     for (let m = 0; m < cols; m += 1) {
//         //         this.initElement(n,m)
//         //     }
//         // }
//         // console.log(this.RecMap)
//     }
//     initElement(raw:number,count:number){
//         const current:Laya.Sprite = Laya.Sprite.fromImage("Basic/Rec.png");//载入图片
//         current.pos(Grids.size*count, Grids.size*raw)
//             .size(Grids.size,Grids.size)//依据static size属性改变大小、依据编号改变位置
//         current.name = `grid${raw}-${count}`//重命名为 grid行数-列数
//         this.Map[raw][count] = current
//         this.RecMap[raw][count] = new Laya.Rectangle(current.x,current.y,Grids.size,Grids.size)
//         // current.on(Laya.Event.CLICK, this.upperPath, this.upperPath.addOperator, [this.getPlace(count,raw)])//设定鼠标点击事件
//         //向GameField中添加Operator实例
//         this.father.addChild(current)
//     }
//     getPlace(count:number,raw:number):number[]{
//         //raw:第几行
//         //count:第几个
//         return [
//             this.RecMap[raw][count].x,
//             this.RecMap[raw][count].y
//         ]
//     }
// }
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":2}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Enemy_1 = require("../GameObj/Enemy");
var Grids_1 = require("../GameObj/Grids");
var Database_1 = require("../GameObj/Database");
var log = console.log;
var GameField = /** @class */ (function (_super) {
    __extends(GameField, _super);
    function GameField() {
        var _this = _super.call(this) || this;
        _this.enemies = [];
        _this.operators = [];
        _this.time_frame = 0;
        _this.database = new Database_1.default();
        _this.grids = new Grids_1.Grids(_this, _this.UISet, _this.database);
        Laya.timer.loop(20, _this, _this.toLoop);
        return _this;
    }
    GameField.prototype.toLoop = function () {
        while (this.database.isHappening(this.time_frame)) {
            this.enemies.push(new Enemy_1.default(this, this.UISet, this.database.readTimeEvent().typeData, this.database.readTimeEvent().path));
            this.database.readTimeEventDone();
        }
        this.time_frame += 1;
    };
    return GameField;
}(layaMaxUI_1.ui.GameFieldSceneUI));
exports.default = GameField;
// export default class GameField extends ui.GameFieldSceneUI{
//     /**
//      * sb
//      */
//     public grids:Grids
//     public doctor:Doctor
//     public operators:Array<Operator> = []
//     public enemies:Array<Enemy> = []
//     private onKeydown:Function
//     public GameSet:JSON
//     public EnemyDatabase:JSON
//     public TimeTable:Struc.PointerList<timeNode>
//     private time:number
//     // public frameLoop:Laya.timer
//     constructor(){
//         super()
//         this
//         Laya.loader.load([gameSet_json, enemyDatabase], Laya.Handler.create(this, this.onLoaded),null,Laya.Loader.JSON)
//         //加载敌人数据库
//         //加载地图  
//     }
//     private onLoaded(){//加载完成后执行此函数
//         this.GameSet = Laya.loader.getRes(gameSet_json)//获取已加载的地图
//         this.EnemyDatabase = Laya.loader.getRes(enemyDatabase)//获取已加载的敌人数据
//         this.initTimeTable()//从地图数据中加载时间表
//         this.time = 0//将时间设为0;时间单位为帧
//         this.grids = new Grids(this.UISet,this,this.GameSet)//依据已加载的地图数据，设置地图
//         this.doctor = new Doctor()//初始化刀客他对象
//         this.keyBoardEventSetup()//初始化键盘事件
//         /**测试代码 */
//         // this.enemies.push(new Enemy(this.UISet, this, "bug0", []))
//         /**测试代码End */
//         Laya.timer.loop(20,this,this.frameLoop)//开启游戏帧循环
//     }
//     private initTimeTable(){
//         this.TimeTable = new Struc.PointerList<timeNode>()
//         const rawTable:Array<any> = this.GameSet["timetable"]
//         rawTable.forEach((ele)=>{
//             this.TimeTable.push({
//                 time:ele.time,
//                 type:this.EnemyDatabase[ele.type],
//                 path:this.GameSet["paths"][ele.path]
//             })
//         })
//         log(this.TimeTable)
//     }
//     private keyBoardEventSetup(){
//         this.onKeydown = (e:Laya.Event) => {
//             /**测试代码 */
//             if (e.keyCode === Laya.Keyboard.E) {
//                 console.log(this.enemies)
//             }
//             if (e.keyCode === Laya.Keyboard.F) {
//                 console.log(this.enemies[0])
//             }
//             /**测试代码End */
//         }
//         Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeydown)
//     }
//     public frameLoop(){//每帧都会执行的代码块
//         if (this.TimeTable.read() && this.time === this.TimeTable.read().time) {
//             this.enemies.push(new Enemy(this.UISet,this,
//                 this.TimeTable.read().type,
//                 this.TimeTable.read().path))
//             this.TimeTable.step()
//         }
//         this.operators.forEach((ele)=>{//执行所有干员对象的update方法
//             ele.update()
//         })
//         this.enemies.forEach((ele)=>{//执行所有敌人对象的update方法
//             ele.update()
//         })
//         this.time ++
//     }
//     addOperator(place:number[]){//在地图上添加干员
//         //此方法被作为回调函数提供给this.grids对象，在点击地图空格时执行
//         this.operators.push(new Operator(this,place))
//     }
// }
},{"../GameObj/Database":3,"../GameObj/Enemy":4,"../GameObj/Grids":5,"../ui/layaMaxUI":9}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Loading = /** @class */ (function (_super) {
    __extends(Loading, _super);
    function Loading() {
        var _this = _super.call(this) || this;
        var gameSet = "./Database/GameSet.json", enemyDatabase = "./Database/EnemyDatabase.json", operatorDatabase = "./Database/OperatorDatabase.json";
        Laya.loader.load([gameSet, enemyDatabase, operatorDatabase], Laya.Handler.create(_this, _this.onLoaded), null, Laya.Loader.JSON);
        return _this;
    }
    Loading.prototype.onLoaded = function () {
        Laya.Scene.open("GameFieldScene.scene");
        // console.log(Laya.loader)
    };
    return Loading;
}(layaMaxUI_1.ui.LoadingSceneUI));
exports.default = Loading;
},{"../ui/layaMaxUI":9}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var GameFieldSceneUI = /** @class */ (function (_super) {
        __extends(GameFieldSceneUI, _super);
        function GameFieldSceneUI() {
            return _super.call(this) || this;
        }
        GameFieldSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("GameFieldScene");
        };
        return GameFieldSceneUI;
    }(Scene));
    ui.GameFieldSceneUI = GameFieldSceneUI;
    REG("ui.GameFieldSceneUI", GameFieldSceneUI);
    var LoadingSceneUI = /** @class */ (function (_super) {
        __extends(LoadingSceneUI, _super);
        function LoadingSceneUI() {
            return _super.call(this) || this;
        }
        LoadingSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("LoadingScene");
        };
        return LoadingSceneUI;
    }(Scene));
    ui.LoadingSceneUI = LoadingSceneUI;
    REG("ui.LoadingSceneUI", LoadingSceneUI);
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xheWEvTGF5YUFpcklERS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvRGF0YVN0cnVjdHVyZS50cyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL0dhbWVPYmovRGF0YWJhc2UudHMiLCJzcmMvR2FtZU9iai9FbmVteS50cyIsInNyYy9HYW1lT2JqL0dyaWRzLnRzIiwic3JjL01haW4udHMiLCJzcmMvU2NlbmVTY3JpcHQvR2FtZUZpZWxkLnRzIiwic3JjL1NjZW5lU2NyaXB0L0xvYWRpbmcudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1RBLElBQWMsS0FBSyxDQTJDbEI7QUEzQ0QsV0FBYyxLQUFLO0lBR2Y7UUFHSSxxQkFBWSxNQUFvQixFQUFFLFNBQW9CO1lBQTFDLHVCQUFBLEVBQUEsV0FBb0I7WUFBRSwwQkFBQSxFQUFBLGFBQW9CO1lBQXRELGlCQUlDO1lBTk8sU0FBSSxHQUFZLEVBQUUsQ0FBQTtZQUNsQixZQUFPLEdBQVUsQ0FBQyxDQUFBO1lBRXRCLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFHO2dCQUNmLEtBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBQ3ZCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQztRQUNELDBCQUFJLEdBQUo7WUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ2xDLENBQUM7UUFFRCwwQkFBSSxHQUFKO1lBQ0ksSUFBSSxDQUFDLE9BQU8sSUFBRSxDQUFDLENBQUE7WUFDZixPQUFPLElBQUksQ0FBQTtRQUNmLENBQUM7UUFFRCx3QkFBRSxHQUFGLFVBQUcsS0FBWTtZQUNYLElBQUksQ0FBQyxPQUFP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O0lBQ0wsY0FBQztBQUFELENBYkEsQUFhQyxDQWJvQyxjQUFFLENBQUMsY0FBYyxHQWFyRDs7Ozs7QUNaRCxJQUFPLEtBQUssR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO0FBQzdDLElBQWMsRUFBRSxDQWtCZjtBQWxCRCxXQUFjLEVBQUU7SUFDWjtRQUFzQyxvQ0FBSztRQUV2QzttQkFBZSxpQkFBTztRQUFBLENBQUM7UUFDdkIseUNBQWMsR0FBZDtZQUNJLGlCQUFNLGNBQWMsV0FBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBQ0wsdUJBQUM7SUFBRCxDQVBBLEFBT0MsQ0FQcUMsS0FBSyxHQU8xQztJQVBZLG1CQUFnQixtQkFPNUIsQ0FBQTtJQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVDO1FBQW9DLGtDQUFLO1FBQ3JDO21CQUFlLGlCQUFPO1FBQUEsQ0FBQztRQUN2Qix1Q0FBYyxHQUFkO1lBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNuQyxDQUFDO1FBQ0wscUJBQUM7SUFBRCxDQU5BLEFBTUMsQ0FObUMsS0FBSyxHQU14QztJQU5ZLGlCQUFjLGlCQU0xQixDQUFBO0lBQ0QsR0FBRyxDQUFDLG1CQUFtQixFQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzVDLENBQUMsRUFsQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBa0JmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxyXG5leHBvcnQgbW9kdWxlIFN0cnVje1xyXG4gICAgXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFBvaW50ZXJMaXN0PEU+e1xyXG4gICAgICAgIHByaXZhdGUgbGlzdDpBcnJheTxFPiA9IFtdXHJcbiAgICAgICAgcHJpdmF0ZSBwb2ludGVyOm51bWJlciA9IDBcclxuICAgICAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6QXJyYXk8RT4gPSBbXSwgaW5pdFBvaW50Om51bWJlciA9IDApe1xyXG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaCgoZWxlKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnB1c2goZWxlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZWFkKCk6RXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdFt0aGlzLnBvaW50ZXJdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGVwKCk6UG9pbnRlckxpc3Q8RT57XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlcis9MVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG8ocGxhY2U6bnVtYmVyKTpQb2ludGVyTGlzdDxFPntcclxuICAgICAgICAgICAgdGhpcy5wb2ludGVyID0gcGxhY2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1c2goZGF0YTpFKTpQb2ludGVyTGlzdDxFPntcclxuICAgICAgICAgICAgdGhpcy5saXN0LnB1c2goZGF0YSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldChpbmRleDpudW1iZXIsZGF0YTpFKTpQb2ludGVyTGlzdDxFPntcclxuICAgICAgICAgICAgdGhpcy5saXN0W2luZGV4XSA9IGRhdGFcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV4dChzaGlmdDpudW1iZXIgPSAxKTpFe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0W3RoaXMucG9pbnRlcitzaGlmdF1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldCBsZW5ndGgoKTpudW1iZXJ7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QubGVuZ3RoXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lRmllbGQgZnJvbSBcIi4vU2NlbmVTY3JpcHQvR2FtZUZpZWxkXCJcbmltcG9ydCBMb2FkaW5nIGZyb20gXCIuL1NjZW5lU2NyaXB0L0xvYWRpbmdcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9MTQwMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTkwMDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwibm9zY2FsZVwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiTG9hZGluZ1NjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJTY2VuZVNjcmlwdC9HYW1lRmllbGQudHNcIixHYW1lRmllbGQpO1xuICAgICAgICByZWcoXCJTY2VuZVNjcmlwdC9Mb2FkaW5nLnRzXCIsTG9hZGluZyk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IHtTdHJ1Y30gZnJvbSBcIi4uL0RhdGFTdHJ1Y3R1cmVcIlxyXG5cclxuXHJcbmNvbnN0IGdhbWVTZXRfVVJMOnN0cmluZyA9IFwiLi9EYXRhYmFzZS9HYW1lU2V0Lmpzb25cIixcclxuZW5lbXlEYXRhYmFzZV9VUkw6c3RyaW5nID0gXCIuL0RhdGFiYXNlL0VuZW15RGF0YWJhc2UuanNvblwiLFxyXG5vcGVyYXRvckRhdGFiYXNlX1VSTDpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvT3BlcmF0b3JEYXRhYmFzZS5qc29uXCJcclxuXHJcblxyXG5cclxuXHJcbnR5cGUgRW5lbXlFdmVudCA9IHtcclxuICAgIHRpbWU6bnVtYmVyLFxyXG4gICAgdHlwZURhdGE6YW55LFxyXG4gICAgcGF0aDpudW1iZXJbXVtdXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFiYXNle1xyXG4gICAgcHJpdmF0ZSBlbmVteURhdGE6SlNPTlxyXG4gICAgcHJpdmF0ZSBvcGVyYXRvckRhdGE6SlNPTlxyXG4gICAgcHJpdmF0ZSBnYW1lU2V0OkpTT05cclxuXHJcbiAgICBwcml2YXRlIHRpbWVUYWJsZTpTdHJ1Yy5Qb2ludGVyTGlzdDxFbmVteUV2ZW50PlxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmVuZW15RGF0YSA9IExheWEubG9hZGVyLmdldFJlcyhlbmVteURhdGFiYXNlX1VSTClcclxuICAgICAgICB0aGlzLm9wZXJhdG9yRGF0YSA9IExheWEubG9hZGVyLmdldFJlcyhvcGVyYXRvckRhdGFiYXNlX1VSTClcclxuICAgICAgICB0aGlzLmdhbWVTZXQgPSBMYXlhLmxvYWRlci5nZXRSZXMoZ2FtZVNldF9VUkwpXHJcbiAgICAgICAgdGhpcy5pbml0VGltZVRhYmxlKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBpbml0VGltZVRhYmxlKCl7XHJcbiAgICAgICAgdGhpcy50aW1lVGFibGUgPSBuZXcgU3RydWMuUG9pbnRlckxpc3Q8RW5lbXlFdmVudD4oKVxyXG4gICAgICAgIHRoaXMuZ2FtZVNldFtcInRpbWV0YWJsZUJyZWZcIl0uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGltZTpudW1iZXIgPSBlbGVtZW50W1widGltZVwiXVxyXG4gICAgICAgICAgICBjb25zdCB0eXBlRGF0YTphbnkgPSB0aGlzLmVuZW15RGF0YVtlbGVtZW50W1widHlwZVwiXV1cclxuICAgICAgICAgICAgY29uc3QgcGF0aDpudW1iZXJbXVtdID0gdGhpcy5nYW1lU2V0W1wicGF0aHNcIl1bZWxlbWVudC5wYXRoXVxyXG4gICAgICAgICAgICB0aGlzLnRpbWVUYWJsZS5wdXNoKHt0aW1lLHR5cGVEYXRhLHBhdGh9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBpc0hhcHBlbmluZyh0aW1lOm51bWJlcik6Ym9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGhpcy50aW1lVGFibGUucmVhZCgpICYmIHRpbWUgPT09IHRoaXMudGltZVRhYmxlLnJlYWQoKS50aW1lXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRUaW1lRXZlbnQoKTpFbmVteUV2ZW50e1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVUYWJsZS5yZWFkKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFRpbWVFdmVudERvbmUoKTp2b2lke1xyXG4gICAgICAgIHRoaXMudGltZVRhYmxlLnN0ZXAoKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQYXRoKHBhdGhOYW1lOnN0cmluZyk6bnVtYmVyW11bXXtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lU2V0W1wicGF0aHNcIl1bcGF0aE5hbWVdXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVuZW15KGVuZW15TmFtZTpzdHJpbmcpOmFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmVteURhdGFbZW5lbXlOYW1lXVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRPcGVyYXRvcihvcGVyYXRvck5hbWU6c3RyaW5nKTphbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3BlcmF0b3JEYXRhW29wZXJhdG9yTmFtZV1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0R3JvdW5kKCk6YW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVTZXRbXCJncm91bmRcIl1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge2Jhc2ljfSBmcm9tIFwiLi9QZW9wbGVcIlxyXG5pbXBvcnQge0dyaWRzfSBmcm9tIFwiLi9Hcmlkc1wiXHJcbmltcG9ydCBHYW1lRmllbGQgZnJvbSBcIi4uL1NjZW5lU2NyaXB0L0dhbWVGaWVsZFwiXHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi9EYXRhYmFzZVwiO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZW15IHtcclxuXHJcbiAgICBwcml2YXRlIHVwcGVyUGF0aDpHYW1lRmllbGRcclxuICAgIHByaXZhdGUgZmF0aGVyOkxheWEuU3ByaXRlXHJcbiAgICBwcml2YXRlIGRhdGE6YW55XHJcbiAgICBwcml2YXRlIHBhdGg6bnVtYmVyW11bXVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGVcclxuICAgIHByaXZhdGUgcHJlc2VudFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVwcGVyUGF0aDpHYW1lRmllbGQsIGZhdGhlcjpMYXlhLlNwcml0ZSwgZW5lbXlEYXRhOmFueSwgcGF0aDpudW1iZXJbXVtdKXtcclxuICAgICAgICB0aGlzLnVwcGVyUGF0aCA9IHVwcGVyUGF0aFxyXG4gICAgICAgIHRoaXMuZmF0aGVyID0gZmF0aGVyXHJcbiAgICAgICAgdGhpcy5kYXRhID0gZW5lbXlEYXRhXHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aFxyXG5cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuW3suaWsOW7uuaVjOS6ulwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCLlt7LmlrDlu7rmlYzkurpcIilcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZW15IGV4dGVuZHMgYmFzaWMuUGVvcGxle1xyXG4vLyAgICAgY29uc3RydWN0b3IoZmF0aGVyOkxheWEuU3ByaXRlLHVwcGVyUGF0aDpHYW1lRmllbGQsZGF0YTphbnkscGF0aDpudW1iZXJbXVtdKXtcclxuLy8gICAgICAgICBzdXBlcigpXHJcbi8vICAgICAgICAgdGhpcy5zdGF0ZS5pbml0KGRhdGEscGF0aClcclxuLy8gICAgICAgICB0aGlzLnByZXNlbnQuaW5pdChmYXRoZXIsIFwiQmFzaWMvVGhlcmUtMi5wbmdcIiwgMCwwKVxyXG5cclxuLy8gICAgICAgICAvLyB0aGlzLnN0YXRlLnNwZWVkID0gNVxyXG4vLyAgICAgICAgIC8vIHRoaXMuc3RhdGUuc2V0QXhpc1NwZWVkKClcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzLnVwZGF0ZSA9ICgpPT57XHJcbi8vICAgICAgICAgICAgIC8vIHRoaXMuc3RhdGUudXBkYXRlUG9zaXRpb24oKVxyXG4vLyAgICAgICAgICAgICAvLyB0aGlzLnByZXNlbnQuc2V0UG9zaXRpb24odGhpcy5zdGF0ZS5wb3NpdGlvbilcclxuLy8gICAgICAgICAgICAgLy8gdGhpcy5zdGF0ZS5pc0Fycml2ZWQoKSAmJiB0aGlzLnN0YXRlLm5leHRBaW0oKVxyXG4vLyAgICAgICAgIH1cclxuICAgICAgICBcclxuLy8gICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMjAwMCx0aGlzLGNvbnNvbGUubG9nLFt0aGlzXSlcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZW15IGV4dGVuZHMgYmFzaWMuUGVvcGxle1xyXG4gICAgcHVibGljIHNwZWVkOm51bWJlciA9IDAuNCAgICAgICAvL+mAn+W6plxyXG4gICAgcHVibGljIENlbnRyZVNoaWZ0Om51bWJlciA9IDM1ICAvL+S4jkdyb3VuZC5Hcmlkcy5zaXpl55qE5LiA5Y2K5L+d5oyB5LiA6Ie077yM56iN5ZCO5pS55Li65Y+Y6YePXHJcbiAgICBwcml2YXRlIGhpdERvY3RvcjpudW1iZXIgPSAxICAgIC8v6L+b6Zeo5LmL5ZCO5omT5YiA5a6i5LuW5aSa5bCR6KGAXHJcbiAgICAvLyBwdWJsaWMgcGF0aDpudW1iZXJbXVtdID0gW1xyXG4gICAgLy8gICAgIFswLDBdLFxyXG4gICAgLy8gICAgIFsxMDAsMTAwXSxcclxuICAgIC8vICAgICBbMCwwXVxyXG4gICAgLy8gXVxyXG4gICAgXHJcbiAgICBwdWJsaWMgcGF0aDpudW1iZXJbXVtdID0gW10gICAgIC8v6Lev5b6E5a+56LGhXHJcbiAgICBwdWJsaWMgZmF0aGVyOkxheWEuU3ByaXRlICAgICAgIC8v5Y6f54K55Z2Q5qCH5a+56LGhXHJcbiAgICBwcml2YXRlIHBsYWNlOkdyaWRzICAgICAgICAgICAgIC8v5Zyw5Zu+5pa55qC85a+56LGhXHJcbiAgICBwcml2YXRlIHVwcGVyUGF0aDpHYW1lRmllbGQgICAgIC8v5ZCr5pyJ5q2k5a6e5L6L55qE5a6e5L6LXHJcblxyXG4gICAgY29uc3RydWN0b3IoZmF0aGVyOkxheWEuU3ByaXRlLCBwbGFjZTpHcmlkcywgdXBwZXJQYXRoOkdhbWVGaWVsZCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIC8vIGFsZXJ0KDEpXHJcbiAgICAgICAgdGhpcy51cHBlclBhdGggPSB1cHBlclBhdGhcclxuICAgICAgICB0aGlzLmZhdGhlciA9IGZhdGhlclxyXG4gICAgICAgIHRoaXMucGxhY2UgPSBwbGFjZVxyXG4gICAgICAgIHRoaXMuc3RhdGUuZWxlID0gTGF5YS5TcHJpdGUuZnJvbUltYWdlKFwiQmFzaWMvVGhlcmUucG5nXCIpXHJcbiAgICAgICAgLy8gYWxlcnQoMilcclxuXHJcbiAgICAgICAgLy8gY29uc3Qgc3RhcnQ6bnVtYmVyW10gPSB0aGlzLnBhdGguc2hpZnQoKVxyXG4gICAgICAgIHRoaXMuc3RhdGUuZWxlLnBvcygwLDApLnNpemUoMzAsMzApXHJcbiAgICAgICAgZmF0aGVyLmFkZENoaWxkKHRoaXMuc3RhdGUuZWxlKVxyXG5cclxuICAgICAgICB0aGlzLlNldFBhdGgoKVxyXG4gICAgICAgIHRoaXMubW92ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBTZXRQYXRoKCl7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzOm51bWJlcltdW10gPSBbXHJcbiAgICAgICAgICAgIFswLDBdLFxyXG4gICAgICAgICAgICBbMCw1XSxcclxuICAgICAgICAgICAgWzUsNV0sXHJcbiAgICAgICAgICAgIFs1LDNdLFxyXG4gICAgICAgICAgICBbMywzXSxcclxuICAgICAgICAgICAgWzMsMF0sXHJcbiAgICAgICAgICAgIFs1LDBdLFxyXG4gICAgICAgICAgICBbNSw5XVxyXG4gICAgICAgIF1cclxuICAgICAgICBwb2ludHMuZm9yRWFjaCgoZWxlKT0+e1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVwcGVyUGF0aClcclxuICAgICAgICAgICAgY29uc3QgcmVjOkxheWEuUmVjdGFuZ2xlID0gdGhpcy51cHBlclBhdGguZ3JpZHMuUmVjTWFwW2VsZVswXV1bZWxlWzFdXVxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Om51bWJlcltdID0gW1xyXG4gICAgICAgICAgICAgICAgcmVjLngsXHJcbiAgICAgICAgICAgICAgICByZWMueVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKGN1cnJlbnQpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdmUoKXtcclxuICAgICAgICBjb25zdCB0YXJnZXQ6bnVtYmVyW10gPSB0aGlzLnBhdGguc2hpZnQoKVxyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIHRoaXMuZ29hbCgpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7eCx5fSA9IHRoaXMuc3RhdGUuZWxlXHJcbiAgICAgICAgY29uc3QgaHlwb3RlbnVzZTpudW1iZXIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeC10YXJnZXRbMF0sMikrTWF0aC5wb3coeS10YXJnZXRbMV0sMikpXHJcbiAgICAgICAgY29uc3QgdGltZTpudW1iZXIgPSBNYXRoLmZsb29yKGh5cG90ZW51c2UvdGhpcy5zcGVlZClcclxuICAgICAgICBjb25zdCB0d2VlbjpMYXlhLlR3ZWVuID0gTGF5YS5Ud2Vlbi50byh0aGlzLnN0YXRlLmVsZSwge3g6dGFyZ2V0WzBdLHk6dGFyZ2V0WzFdfSwgdGltZSwgbnVsbCxcclxuICAgICAgICAgICAgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMubW92ZSksMTAwKVxyXG5cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHByaXZhdGUgZ29hbCgpe1xyXG4gICAgICAgIHRoaXMudXBwZXJQYXRoLmRvY3Rvci5kYW1hZ2VkKHRoaXMuaGl0RG9jdG9yKVxyXG4gICAgfVxyXG59XHJcbiovIiwiaW1wb3J0IEdhbWVGaWVsZCBmcm9tIFwiLi4vU2NlbmVTY3JpcHQvR2FtZUZpZWxkXCI7XHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi9EYXRhYmFzZVwiXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkc3tcclxuICAgIHByaXZhdGUgdXBwZXJQYXRoOkdhbWVGaWVsZFxyXG4gICAgcHJpdmF0ZSBmYXRoZXI6TGF5YS5TcHJpdGVcclxuICAgIHByaXZhdGUgZGF0YWJhc2U6RGF0YWJhc2VcclxuXHJcblxyXG4gICAgXHJcbiAgICBwcml2YXRlIHNwcml0ZUdyb3VwOkxheWEuU3ByaXRlW11bXSA9IFtdXHJcbiAgICBwcml2YXRlIHJlY3RHcm91cDpMYXlhLlJlY3RhbmdsZVtdW10gPSBbXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVwcGVyUGF0aDpHYW1lRmllbGQsIGZhdGhlcjpMYXlhLlNwcml0ZSwgZGF0YWJhc2U6RGF0YWJhc2Upe1xyXG4gICAgICAgIHRoaXMudXBwZXJQYXRoID0gdXBwZXJQYXRoXHJcbiAgICAgICAgdGhpcy5mYXRoZXIgPSBmYXRoZXJcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2VcclxuXHJcbiAgICAgICAgLy/liJvlu7rmuLjmiI/lnLrlnLA6IFN0YXJ0XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kOmFueSA9IGRhdGFiYXNlLmdldEdyb3VuZCgpLFxyXG4gICAgICAgIHdpZHRoOm51bWJlciA9IGdyb3VuZFtcIndpZHRoXCJdLFxyXG4gICAgICAgIGhlaWdodDpudW1iZXIgPSBncm91bmRbXCJoZWlnaHRcIl0sXHJcbiAgICAgICAgc2l6ZTpudW1iZXIgPSBncm91bmRbXCJzaXplXCJdLFxyXG4gICAgICAgIG1hdHJpeDpudW1iZXIgPSBncm91bmRbXCJtYXRyaXhcIl1cclxuXHJcbiAgICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVHcm91cFt4XSA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMucmVjdEdyb3VwW3hdID0gW11cclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy/liJvlu7pzcHJpdGU6IFN0YXJ0XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGU6TGF5YS5TcHJpdGUgPSBMYXlhLlNwcml0ZS5mcm9tSW1hZ2UoXCJCYXNpYy9SZWMucG5nXCIpXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUucG9zKHgqc2l6ZSx5KnNpemUpLnNpemUoc2l6ZSxzaXplKVxyXG4gICAgICAgICAgICAgICAgZmF0aGVyLmFkZENoaWxkKHNwcml0ZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlR3JvdXBbeF1beV0gPSBzcHJpdGVcclxuICAgICAgICAgICAgICAgIC8v5Yib5bu6U3ByaXRlOiBFbmRcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WIm+W7ulJlY3RhbmdsZTogU3RhcnRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3Q6TGF5YS5SZWN0YW5nbGUgPSBuZXcgTGF5YS5SZWN0YW5nbGUoeCpzaXplLHkqc2l6ZSxzaXplLHNpemUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RHcm91cFt4XVt5XSA9IHJlY3RcclxuICAgICAgICAgICAgICAgIC8v5Yib5bu6UmVjdGFuZ2xlOiBFbmRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WIm+W7uua4uOaIj+WcuuWcsDogRW5kXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmlkc+WvueixoeWIm+W7uuWujOaIkFwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmlkc+WvueixoeWIm+W7uuWujOaIkFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgR3JpZHN7XHJcbi8vICAgICBwdWJsaWMgTWFwOkFycmF5PEFycmF5PExheWEuU3ByaXRlPj4gPSBbXVxyXG4vLyAgICAgcHVibGljIFJlY01hcDpBcnJheTxBcnJheTxMYXlhLlJlY3RhbmdsZT4+ID0gW11cclxuLy8gICAgIHByaXZhdGUgc3RhdGljIHNpemU6bnVtYmVyID0gOTBcclxuLy8gICAgIHByaXZhdGUgZmF0aGVyOkxheWEuU3ByaXRlXHJcbi8vICAgICBwcml2YXRlIHVwcGVyUGF0aDpHYW1lRmllbGRcclxuLy8gICAgIHByaXZhdGUgZGF0YTpKU09OXHJcbi8vICAgICAvL29sZFxyXG4vLyAgICAgLy9uZXdcclxuLy8gICAgIHByaXZhdGUgZGF0YWJhc2U6RGF0YWJhc2VcclxuXHJcbi8vICAgICBjb25zdHJ1Y3RvcihmYXRoZXI6TGF5YS5TcHJpdGUsIHVwcGVyUGF0aDpHYW1lRmllbGQsIGRhdGFiYXNlOkRhdGFiYXNlKXtcclxuLy8gICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2VcclxuLy8gICAgICAgICAvLyB0aGlzLmZhdGhlciA9IGZhdGhlclxyXG4vLyAgICAgICAgIC8vIHRoaXMudXBwZXJQYXRoID0gdXBwZXJQYXRoXHJcbi8vICAgICAgICAgLy8gdGhpcy5kYXRhID0gZGF0YVxyXG4vLyAgICAgICAgIC8vIGxldCBjb2xzID0gZGF0YVtcImdyb3VuZFwiXVtcIndpZHRoXCJdLFxyXG4vLyAgICAgICAgIC8vIHJhd3MgPSBkYXRhW1wiZ3JvdW5kXCJdW1wiaGVpZ2h0XCJdXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgLy8gZm9yIChsZXQgbiA9IDA7IG4gPCByYXdzOyBuICs9IDEpIHtcclxuLy8gICAgICAgICAvLyAgICAgdGhpcy5NYXBbbl0gPSBbXVxyXG4vLyAgICAgICAgIC8vICAgICB0aGlzLlJlY01hcFtuXSA9IFtdXHJcbi8vICAgICAgICAgLy8gICAgIGZvciAobGV0IG0gPSAwOyBtIDwgY29sczsgbSArPSAxKSB7XHJcbi8vICAgICAgICAgLy8gICAgICAgICB0aGlzLmluaXRFbGVtZW50KG4sbSlcclxuLy8gICAgICAgICAvLyAgICAgfVxyXG4vLyAgICAgICAgIC8vIH1cclxuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlJlY01hcClcclxuLy8gICAgIH1cclxuXHJcblxyXG4vLyAgICAgaW5pdEVsZW1lbnQocmF3Om51bWJlcixjb3VudDpudW1iZXIpe1xyXG4vLyAgICAgICAgIGNvbnN0IGN1cnJlbnQ6TGF5YS5TcHJpdGUgPSBMYXlhLlNwcml0ZS5mcm9tSW1hZ2UoXCJCYXNpYy9SZWMucG5nXCIpOy8v6L295YWl5Zu+54mHXHJcbi8vICAgICAgICAgY3VycmVudC5wb3MoR3JpZHMuc2l6ZSpjb3VudCwgR3JpZHMuc2l6ZSpyYXcpXHJcbi8vICAgICAgICAgICAgIC5zaXplKEdyaWRzLnNpemUsR3JpZHMuc2l6ZSkvL+S+neaNrnN0YXRpYyBzaXpl5bGe5oCn5pS55Y+Y5aSn5bCP44CB5L6d5o2u57yW5Y+35pS55Y+Y5L2N572uXHJcbi8vICAgICAgICAgY3VycmVudC5uYW1lID0gYGdyaWQke3Jhd30tJHtjb3VudH1gLy/ph43lkb3lkI3kuLogZ3JpZOihjOaVsC3liJfmlbBcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzLk1hcFtyYXddW2NvdW50XSA9IGN1cnJlbnRcclxuLy8gICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XSA9IG5ldyBMYXlhLlJlY3RhbmdsZShjdXJyZW50LngsY3VycmVudC55LEdyaWRzLnNpemUsR3JpZHMuc2l6ZSlcclxuLy8gICAgICAgICAvLyBjdXJyZW50Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMudXBwZXJQYXRoLCB0aGlzLnVwcGVyUGF0aC5hZGRPcGVyYXRvciwgW3RoaXMuZ2V0UGxhY2UoY291bnQscmF3KV0pLy/orr7lrprpvKDmoIfngrnlh7vkuovku7ZcclxuLy8gICAgICAgICAvL+WQkUdhbWVGaWVsZOS4rea3u+WKoE9wZXJhdG9y5a6e5L6LXHJcbi8vICAgICAgICAgdGhpcy5mYXRoZXIuYWRkQ2hpbGQoY3VycmVudClcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBnZXRQbGFjZShjb3VudDpudW1iZXIscmF3Om51bWJlcik6bnVtYmVyW117XHJcbi8vICAgICAgICAgLy9yYXc656ys5Yeg6KGMXHJcbi8vICAgICAgICAgLy9jb3VudDrnrKzlh6DkuKpcclxuLy8gICAgICAgICByZXR1cm4gW1xyXG4vLyAgICAgICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XS54LFxyXG4vLyAgICAgICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XS55XHJcbi8vICAgICAgICAgXVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuaW1wb3J0IEVuZW15IGZyb20gXCIuLi9HYW1lT2JqL0VuZW15XCJcclxuaW1wb3J0IHtHcmlkc30gZnJvbSBcIi4uL0dhbWVPYmovR3JpZHNcIlxyXG5pbXBvcnQgRG9jdG9yIGZyb20gXCIuLi9HYW1lT2JqL0RvY3RvclwiXHJcbmltcG9ydCBPcGVyYXRvciBmcm9tIFwiLi4vR2FtZU9iai9PcGVyYXRvclwiXHJcbmltcG9ydCB7U3RydWN9IGZyb20gXCIuLi9EYXRhU3RydWN0dXJlXCJcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCIuLi9HYW1lT2JqL0RhdGFiYXNlXCJcclxuY29uc3Qge2xvZ30gPSBjb25zb2xlO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRmllbGQgZXh0ZW5kcyB1aS5HYW1lRmllbGRTY2VuZVVJe1xyXG4gICAgXHJcbiAgICBwdWJsaWMgZGF0YWJhc2U6RGF0YWJhc2VcclxuICAgIHB1YmxpYyBncmlkczpHcmlkc1xyXG4gICAgcHJpdmF0ZSBlbmVtaWVzOkVuZW15W10gPSBbXVxyXG4gICAgcHJpdmF0ZSBvcGVyYXRvcnM6T3BlcmF0b3JbXSA9IFtdXHJcbiAgICBwcml2YXRlIGRvY3RvcjpEb2N0b3IgXHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lX2ZyYW1lOm51bWJlciA9IDBcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gbmV3IERhdGFiYXNlKClcclxuICAgICAgICB0aGlzLmdyaWRzID0gbmV3IEdyaWRzKHRoaXMsdGhpcy5VSVNldCx0aGlzLmRhdGFiYXNlKVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoMjAsdGhpcyx0aGlzLnRvTG9vcClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9Mb29wKCl7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGF0YWJhc2UuaXNIYXBwZW5pbmcodGhpcy50aW1lX2ZyYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZW1pZXMucHVzaChuZXcgRW5lbXkodGhpcyx0aGlzLlVJU2V0LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhYmFzZS5yZWFkVGltZUV2ZW50KCkudHlwZURhdGEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlLnJlYWRUaW1lRXZlbnQoKS5wYXRoKSlcclxuICAgICAgICAgICAgdGhpcy5kYXRhYmFzZS5yZWFkVGltZUV2ZW50RG9uZSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRpbWVfZnJhbWUgKz0gMVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufVxyXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRmllbGQgZXh0ZW5kcyB1aS5HYW1lRmllbGRTY2VuZVVJe1xyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiBzYlxyXG4vLyAgICAgICovXHJcbi8vICAgICBwdWJsaWMgZ3JpZHM6R3JpZHNcclxuLy8gICAgIHB1YmxpYyBkb2N0b3I6RG9jdG9yXHJcbi8vICAgICBwdWJsaWMgb3BlcmF0b3JzOkFycmF5PE9wZXJhdG9yPiA9IFtdXHJcbi8vICAgICBwdWJsaWMgZW5lbWllczpBcnJheTxFbmVteT4gPSBbXVxyXG4vLyAgICAgcHJpdmF0ZSBvbktleWRvd246RnVuY3Rpb25cclxuXHJcbi8vICAgICBwdWJsaWMgR2FtZVNldDpKU09OXHJcbi8vICAgICBwdWJsaWMgRW5lbXlEYXRhYmFzZTpKU09OXHJcbi8vICAgICBwdWJsaWMgVGltZVRhYmxlOlN0cnVjLlBvaW50ZXJMaXN0PHRpbWVOb2RlPlxyXG5cclxuLy8gICAgIHByaXZhdGUgdGltZTpudW1iZXJcclxuXHJcblxyXG5cclxuLy8gICAgIC8vIHB1YmxpYyBmcmFtZUxvb3A6TGF5YS50aW1lclxyXG4vLyAgICAgY29uc3RydWN0b3IoKXtcclxuLy8gICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgdGhpc1xyXG4vLyAgICAgICAgIExheWEubG9hZGVyLmxvYWQoW2dhbWVTZXRfanNvbiwgZW5lbXlEYXRhYmFzZV0sIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkxvYWRlZCksbnVsbCxMYXlhLkxvYWRlci5KU09OKVxyXG4vLyAgICAgICAgIC8v5Yqg6L295pWM5Lq65pWw5o2u5bqTXHJcbi8vICAgICAgICAgLy/liqDovb3lnLDlm74gIFxyXG4gICAgICAgIFxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHByaXZhdGUgb25Mb2FkZWQoKXsvL+WKoOi9veWujOaIkOWQjuaJp+ihjOatpOWHveaVsFxyXG5cclxuLy8gICAgICAgICB0aGlzLkdhbWVTZXQgPSBMYXlhLmxvYWRlci5nZXRSZXMoZ2FtZVNldF9qc29uKS8v6I635Y+W5bey5Yqg6L2955qE5Zyw5Zu+XHJcbi8vICAgICAgICAgdGhpcy5FbmVteURhdGFiYXNlID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGVuZW15RGF0YWJhc2UpLy/ojrflj5blt7LliqDovb3nmoTmlYzkurrmlbDmja5cclxuLy8gICAgICAgICB0aGlzLmluaXRUaW1lVGFibGUoKS8v5LuO5Zyw5Zu+5pWw5o2u5Lit5Yqg6L295pe26Ze06KGoXHJcbi8vICAgICAgICAgdGhpcy50aW1lID0gMC8v5bCG5pe26Ze06K6+5Li6MDvml7bpl7TljZXkvY3kuLrluKdcclxuLy8gICAgICAgICB0aGlzLmdyaWRzID0gbmV3IEdyaWRzKHRoaXMuVUlTZXQsdGhpcyx0aGlzLkdhbWVTZXQpLy/kvp3mja7lt7LliqDovb3nmoTlnLDlm77mlbDmja7vvIzorr7nva7lnLDlm75cclxuLy8gICAgICAgICB0aGlzLmRvY3RvciA9IG5ldyBEb2N0b3IoKS8v5Yid5aeL5YyW5YiA5a6i5LuW5a+56LGhXHJcbi8vICAgICAgICAgdGhpcy5rZXlCb2FyZEV2ZW50U2V0dXAoKS8v5Yid5aeL5YyW6ZSu55uY5LqL5Lu2XHJcbi8vICAgICAgICAgLyoq5rWL6K+V5Luj56CBICovXHJcbi8vICAgICAgICAgLy8gdGhpcy5lbmVtaWVzLnB1c2gobmV3IEVuZW15KHRoaXMuVUlTZXQsIHRoaXMsIFwiYnVnMFwiLCBbXSkpXHJcbi8vICAgICAgICAgLyoq5rWL6K+V5Luj56CBRW5kICovXHJcblxyXG4vLyAgICAgICAgIExheWEudGltZXIubG9vcCgyMCx0aGlzLHRoaXMuZnJhbWVMb29wKS8v5byA5ZCv5ri45oiP5bin5b6q546vXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBpbml0VGltZVRhYmxlKCl7XHJcbi8vICAgICAgICAgdGhpcy5UaW1lVGFibGUgPSBuZXcgU3RydWMuUG9pbnRlckxpc3Q8dGltZU5vZGU+KClcclxuLy8gICAgICAgICBjb25zdCByYXdUYWJsZTpBcnJheTxhbnk+ID0gdGhpcy5HYW1lU2V0W1widGltZXRhYmxlXCJdXHJcbi8vICAgICAgICAgcmF3VGFibGUuZm9yRWFjaCgoZWxlKT0+e1xyXG4vLyAgICAgICAgICAgICB0aGlzLlRpbWVUYWJsZS5wdXNoKHtcclxuLy8gICAgICAgICAgICAgICAgIHRpbWU6ZWxlLnRpbWUsXHJcbi8vICAgICAgICAgICAgICAgICB0eXBlOnRoaXMuRW5lbXlEYXRhYmFzZVtlbGUudHlwZV0sXHJcbi8vICAgICAgICAgICAgICAgICBwYXRoOnRoaXMuR2FtZVNldFtcInBhdGhzXCJdW2VsZS5wYXRoXVxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICAgICAgbG9nKHRoaXMuVGltZVRhYmxlKVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHByaXZhdGUga2V5Qm9hcmRFdmVudFNldHVwKCl7XHJcbi8vICAgICAgICAgdGhpcy5vbktleWRvd24gPSAoZTpMYXlhLkV2ZW50KSA9PiB7XHJcbi8vICAgICAgICAgICAgIC8qKua1i+ivleS7o+eggSAqL1xyXG4vLyAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBMYXlhLktleWJvYXJkLkUpIHtcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5lbWllcylcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBMYXlhLktleWJvYXJkLkYpIHtcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5lbWllc1swXSlcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAvKirmtYvor5Xku6PnoIFFbmQgKi9cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LktFWV9ET1dOLHRoaXMsdGhpcy5vbktleWRvd24pXHJcbi8vICAgICB9XHJcblxyXG5cclxuLy8gICAgIHB1YmxpYyBmcmFtZUxvb3AoKXsvL+avj+W4p+mDveS8muaJp+ihjOeahOS7o+eggeWdl1xyXG4vLyAgICAgICAgIGlmICh0aGlzLlRpbWVUYWJsZS5yZWFkKCkgJiYgdGhpcy50aW1lID09PSB0aGlzLlRpbWVUYWJsZS5yZWFkKCkudGltZSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmVuZW1pZXMucHVzaChuZXcgRW5lbXkodGhpcy5VSVNldCx0aGlzLFxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5UaW1lVGFibGUucmVhZCgpLnR5cGUsXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLlRpbWVUYWJsZS5yZWFkKCkucGF0aCkpXHJcbi8vICAgICAgICAgICAgIHRoaXMuVGltZVRhYmxlLnN0ZXAoKVxyXG4vLyAgICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgIHRoaXMub3BlcmF0b3JzLmZvckVhY2goKGVsZSk9PnsvL+aJp+ihjOaJgOacieW5suWRmOWvueixoeeahHVwZGF0ZeaWueazlVxyXG4vLyAgICAgICAgICAgICBlbGUudXBkYXRlKClcclxuICAgICAgICAgICAgXHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZWxlKT0+ey8v5omn6KGM5omA5pyJ5pWM5Lq65a+56LGh55qEdXBkYXRl5pa55rOVXHJcbi8vICAgICAgICAgICAgIGVsZS51cGRhdGUoKVxyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICAgICAgdGhpcy50aW1lICsrXHJcbi8vICAgICB9XHJcblxyXG5cclxuXHJcbi8vICAgICBhZGRPcGVyYXRvcihwbGFjZTpudW1iZXJbXSl7Ly/lnKjlnLDlm77kuIrmt7vliqDlubLlkZhcclxuLy8gICAgICAgICAvL+atpOaWueazleiiq+S9nOS4uuWbnuiwg+WHveaVsOaPkOS+m+e7mXRoaXMuZ3JpZHPlr7nosaHvvIzlnKjngrnlh7vlnLDlm77nqbrmoLzml7bmiafooYxcclxuXHJcbi8vICAgICAgICAgdGhpcy5vcGVyYXRvcnMucHVzaChuZXcgT3BlcmF0b3IodGhpcyxwbGFjZSkpXHJcbiAgICAgICAgXHJcbi8vICAgICB9XHJcblxyXG4vLyB9IiwiaW1wb3J0IHt1aX0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nIGV4dGVuZHMgdWkuTG9hZGluZ1NjZW5lVUl7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBnYW1lU2V0OnN0cmluZyA9IFwiLi9EYXRhYmFzZS9HYW1lU2V0Lmpzb25cIixcclxuICAgICAgICBlbmVteURhdGFiYXNlOnN0cmluZyA9IFwiLi9EYXRhYmFzZS9FbmVteURhdGFiYXNlLmpzb25cIixcclxuICAgICAgICBvcGVyYXRvckRhdGFiYXNlOnN0cmluZyA9IFwiLi9EYXRhYmFzZS9PcGVyYXRvckRhdGFiYXNlLmpzb25cIlxyXG4gICAgICAgIExheWEubG9hZGVyLmxvYWQoW2dhbWVTZXQsZW5lbXlEYXRhYmFzZSxvcGVyYXRvckRhdGFiYXNlXSxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Mb2FkZWQpLG51bGwsTGF5YS5Mb2FkZXIuSlNPTilcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWRlZCgpe1xyXG4gICAgICAgIExheWEuU2NlbmUub3BlbihcIkdhbWVGaWVsZFNjZW5lLnNjZW5lXCIpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coTGF5YS5sb2FkZXIpXHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVGaWVsZFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgVUlTZXQ6TGF5YS5TcHJpdGU7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJHYW1lRmllbGRTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5HYW1lRmllbGRTY2VuZVVJXCIsR2FtZUZpZWxkU2NlbmVVSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgTG9hZGluZ1NjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcIkxvYWRpbmdTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5Mb2FkaW5nU2NlbmVVSVwiLExvYWRpbmdTY2VuZVVJKTtcclxufVxyIl19
