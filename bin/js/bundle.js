var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Struc;
(function (Struc) {
    var PointerList = /** @class */ (function () {
        function PointerList(source, initPoint) {
            if (source === void 0) { source = []; }
            if (initPoint === void 0) { initPoint = 0; }
            var _this = this;
            this.list = [];
            this.pointer = 0;
            source.forEach(function (ele) {
                _this.list.push(ele);
            });
        }
        PointerList.prototype.read = function () {
            return this.list[this.pointer];
        };
        PointerList.prototype.step = function () {
            this.pointer += 1;
            return this;
        };
        PointerList.prototype.to = function (place) {
            this.pointer = place;
            return this;
        };
        PointerList.prototype.push = function (data) {
            this.list.push(data);
            return this;
        };
        PointerList.prototype.set = function (index, data) {
            this.list[index] = data;
            return this;
        };
        PointerList.prototype.next = function (shift) {
            if (shift === void 0) { shift = 1; }
            return this.list[this.pointer + shift];
        };
        Object.defineProperty(PointerList.prototype, "length", {
            get: function () {
                return this.list.length;
            },
            enumerable: true,
            configurable: true
        });
        return PointerList;
    }());
    Struc.PointerList = PointerList;
})(Struc = exports.Struc || (exports.Struc = {}));
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameField_1 = require("./SceneScript/GameField");
var Loading_1 = require("./SceneScript/Loading");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("SceneScript/GameField.ts", GameField_1.default);
        reg("SceneScript/Loading.ts", Loading_1.default);
    };
    GameConfig.width = 1400;
    GameConfig.height = 900;
    GameConfig.scaleMode = "noscale";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "LoadingScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./SceneScript/GameField":6,"./SceneScript/Loading":7}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DataStructure_1 = require("../DataStructure");
var gameSet_URL = "./Database/GameSet.json", enemyDatabase_URL = "./Database/EnemyDatabase.json", operatorDatabase_URL = "./Database/OperatorDatabase.json";
var Database = /** @class */ (function () {
    function Database() {
        this.enemyData = Laya.loader.getRes(enemyDatabase_URL);
        this.operatorData = Laya.loader.getRes(operatorDatabase_URL);
        this.gameSet = Laya.loader.getRes(gameSet_URL);
        this.initTimeTable();
    }
    Database.prototype.initTimeTable = function () {
        var _this = this;
        this.timeTable = new DataStructure_1.Struc.PointerList();
        this.gameSet["timetableBref"].forEach(function (element) {
            var time = element["time"];
            var type = element["type"];
            var path = _this.gameSet["paths"][element.path];
            _this.timeTable.push({ time: time, type: type, path: path });
        });
    };
    Database.prototype.isHappening = function (time) {
        return time === this.timeTable.read().time;
    };
    Database.prototype.getPath = function (pathName) {
        return this.gameSet["paths"][pathName];
    };
    Database.prototype.getEnemy = function (enemyName) {
        return this.enemyData[enemyName];
    };
    Database.prototype.getOperator = function (operatorName) {
        return this.operatorData[operatorName];
    };
    Database.prototype.getGround = function () {
        return this.gameSet["ground"];
    };
    return Database;
}());
exports.default = Database;
},{"../DataStructure":1}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Grids = /** @class */ (function () {
    function Grids(upperPath, father, database) {
        this.spriteGroup = [];
        this.rectGroup = [];
        this.upperPath = upperPath;
        this.father = father;
        this.database = database;
        //创建游戏场地: Start
        var ground = database.getGround(), width = ground["width"], height = ground["height"], size = ground["size"], matrix = ground["matrix"];
        for (var x = 0; x < width; x += 1) {
            this.spriteGroup[x] = [];
            this.rectGroup[x] = [];
            for (var y = 0; y < height; y += 1) {
                //创建sprite: Start
                var sprite = Laya.Sprite.fromImage("Basic/Rec.png");
                sprite.pos(x * size, y * size).size(size, size);
                father.addChild(sprite);
                this.spriteGroup[x][y] = sprite;
                //创建Sprite: End
                //创建Rectangle: Start
                var rect = new Laya.Rectangle(x * size, y * size, size, size);
                this.rectGroup[x][y] = rect;
                //创建Rectangle: End
            }
        }
        //创建游戏场地: End
        console.log("Grids对象创建完成");
        console.log(this);
        console.log("Grids对象创建完成");
    }
    return Grids;
}());
exports.Grids = Grids;
// export class Grids{
//     public Map:Array<Array<Laya.Sprite>> = []
//     public RecMap:Array<Array<Laya.Rectangle>> = []
//     private static size:number = 90
//     private father:Laya.Sprite
//     private upperPath:GameField
//     private data:JSON
//     //old
//     //new
//     private database:Database
//     constructor(father:Laya.Sprite, upperPath:GameField, database:Database){
//         this.database = database
//         // this.father = father
//         // this.upperPath = upperPath
//         // this.data = data
//         // let cols = data["ground"]["width"],
//         // raws = data["ground"]["height"]
//         // for (let n = 0; n < raws; n += 1) {
//         //     this.Map[n] = []
//         //     this.RecMap[n] = []
//         //     for (let m = 0; m < cols; m += 1) {
//         //         this.initElement(n,m)
//         //     }
//         // }
//         // console.log(this.RecMap)
//     }
//     initElement(raw:number,count:number){
//         const current:Laya.Sprite = Laya.Sprite.fromImage("Basic/Rec.png");//载入图片
//         current.pos(Grids.size*count, Grids.size*raw)
//             .size(Grids.size,Grids.size)//依据static size属性改变大小、依据编号改变位置
//         current.name = `grid${raw}-${count}`//重命名为 grid行数-列数
//         this.Map[raw][count] = current
//         this.RecMap[raw][count] = new Laya.Rectangle(current.x,current.y,Grids.size,Grids.size)
//         // current.on(Laya.Event.CLICK, this.upperPath, this.upperPath.addOperator, [this.getPlace(count,raw)])//设定鼠标点击事件
//         //向GameField中添加Operator实例
//         this.father.addChild(current)
//     }
//     getPlace(count:number,raw:number):number[]{
//         //raw:第几行
//         //count:第几个
//         return [
//             this.RecMap[raw][count].x,
//             this.RecMap[raw][count].y
//         ]
//     }
// }
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":2}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Grids_1 = require("../GameObj/Grids");
var Database_1 = require("../GameObj/Database");
var log = console.log;
var GameField = /** @class */ (function (_super) {
    __extends(GameField, _super);
    function GameField() {
        var _this = _super.call(this) || this;
        _this.database = new Database_1.default();
        _this.grids = new Grids_1.Grids(_this, _this.UISet, _this.database);
        return _this;
    }
    return GameField;
}(layaMaxUI_1.ui.GameFieldSceneUI));
exports.default = GameField;
// export default class GameField extends ui.GameFieldSceneUI{
//     /**
//      * sb
//      */
//     public grids:Grids
//     public doctor:Doctor
//     public operators:Array<Operator> = []
//     public enemies:Array<Enemy> = []
//     private onKeydown:Function
//     public GameSet:JSON
//     public EnemyDatabase:JSON
//     public TimeTable:Struc.PointerList<timeNode>
//     private time:number
//     // public frameLoop:Laya.timer
//     constructor(){
//         super()
//         this
//         Laya.loader.load([gameSet_json, enemyDatabase], Laya.Handler.create(this, this.onLoaded),null,Laya.Loader.JSON)
//         //加载敌人数据库
//         //加载地图  
//     }
//     private onLoaded(){//加载完成后执行此函数
//         this.GameSet = Laya.loader.getRes(gameSet_json)//获取已加载的地图
//         this.EnemyDatabase = Laya.loader.getRes(enemyDatabase)//获取已加载的敌人数据
//         this.initTimeTable()//从地图数据中加载时间表
//         this.time = 0//将时间设为0;时间单位为帧
//         this.grids = new Grids(this.UISet,this,this.GameSet)//依据已加载的地图数据，设置地图
//         this.doctor = new Doctor()//初始化刀客他对象
//         this.keyBoardEventSetup()//初始化键盘事件
//         /**测试代码 */
//         // this.enemies.push(new Enemy(this.UISet, this, "bug0", []))
//         /**测试代码End */
//         Laya.timer.loop(20,this,this.frameLoop)//开启游戏帧循环
//     }
//     private initTimeTable(){
//         this.TimeTable = new Struc.PointerList<timeNode>()
//         const rawTable:Array<any> = this.GameSet["timetable"]
//         rawTable.forEach((ele)=>{
//             this.TimeTable.push({
//                 time:ele.time,
//                 type:this.EnemyDatabase[ele.type],
//                 path:this.GameSet["paths"][ele.path]
//             })
//         })
//         log(this.TimeTable)
//     }
//     private keyBoardEventSetup(){
//         this.onKeydown = (e:Laya.Event) => {
//             /**测试代码 */
//             if (e.keyCode === Laya.Keyboard.E) {
//                 console.log(this.enemies)
//             }
//             if (e.keyCode === Laya.Keyboard.F) {
//                 console.log(this.enemies[0])
//             }
//             /**测试代码End */
//         }
//         Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeydown)
//     }
//     public frameLoop(){//每帧都会执行的代码块
//         if (this.TimeTable.read() && this.time === this.TimeTable.read().time) {
//             this.enemies.push(new Enemy(this.UISet,this,
//                 this.TimeTable.read().type,
//                 this.TimeTable.read().path))
//             this.TimeTable.step()
//         }
//         this.operators.forEach((ele)=>{//执行所有干员对象的update方法
//             ele.update()
//         })
//         this.enemies.forEach((ele)=>{//执行所有敌人对象的update方法
//             ele.update()
//         })
//         this.time ++
//     }
//     addOperator(place:number[]){//在地图上添加干员
//         //此方法被作为回调函数提供给this.grids对象，在点击地图空格时执行
//         this.operators.push(new Operator(this,place))
//     }
// }
},{"../GameObj/Database":3,"../GameObj/Grids":4,"../ui/layaMaxUI":8}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Loading = /** @class */ (function (_super) {
    __extends(Loading, _super);
    function Loading() {
        var _this = _super.call(this) || this;
        var gameSet = "./Database/GameSet.json", enemyDatabase = "./Database/EnemyDatabase.json", operatorDatabase = "./Database/OperatorDatabase.json";
        Laya.loader.load([gameSet, enemyDatabase, operatorDatabase], Laya.Handler.create(_this, _this.onLoaded), null, Laya.Loader.JSON);
        return _this;
    }
    Loading.prototype.onLoaded = function () {
        Laya.Scene.open("GameFieldScene.scene");
        // console.log(Laya.loader)
    };
    return Loading;
}(layaMaxUI_1.ui.LoadingSceneUI));
exports.default = Loading;
},{"../ui/layaMaxUI":8}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var GameFieldSceneUI = /** @class */ (function (_super) {
        __extends(GameFieldSceneUI, _super);
        function GameFieldSceneUI() {
            return _super.call(this) || this;
        }
        GameFieldSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("GameFieldScene");
        };
        return GameFieldSceneUI;
    }(Scene));
    ui.GameFieldSceneUI = GameFieldSceneUI;
    REG("ui.GameFieldSceneUI", GameFieldSceneUI);
    var LoadingSceneUI = /** @class */ (function (_super) {
        __extends(LoadingSceneUI, _super);
        function LoadingSceneUI() {
            return _super.call(this) || this;
        }
        LoadingSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("LoadingScene");
        };
        return LoadingSceneUI;
    }(Scene));
    ui.LoadingSceneUI = LoadingSceneUI;
    REG("ui.LoadingSceneUI", LoadingSceneUI);
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xheWEvTGF5YUFpcklERS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvRGF0YVN0cnVjdHVyZS50cyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL0dhbWVPYmovRGF0YWJhc2UudHMiLCJzcmMvR2FtZU9iai9Hcmlkcy50cyIsInNyYy9NYWluLnRzIiwic3JjL1NjZW5lU2NyaXB0L0dhbWVGaWVsZC50cyIsInNyYy9TY2VuZVNjcmlwdC9Mb2FkaW5nLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNUQSxJQUFjLEtBQUssQ0EyQ2xCO0FBM0NELFdBQWMsS0FBSztJQUdmO1FBR0kscUJBQVksTUFBb0IsRUFBRSxTQUFvQjtZQUExQyx1QkFBQSxFQUFBLFdBQW9CO1lBQUUsMEJBQUEsRUFBQSxhQUFvQjtZQUF0RCxpQkFJQztZQU5PLFNBQUksR0FBWSxFQUFFLENBQUE7WUFDbEIsWUFBTyxHQUFVLENBQUMsQ0FBQTtZQUV0QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUMsR0FBRztnQkFDZixLQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUN2QixDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUM7UUFDRCwwQkFBSSxHQUFKO1lBQ0ksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNsQyxDQUFDO1FBRUQsMEJBQUksR0FBSjtZQUNJLElBQUksQ0FBQyxPQUFPLElBQUUsQ0FBQyxDQUFBO1lBQ2YsT0FBTyxJQUFJLENBQUE7UUFDZixDQUFDO1FBRUQsd0JBQUUsR0FBRixVQUFHLEtBQVk7WUFDWCxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtZQUNwQixP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QWMsR0FBZDtZQUNJLGlCQUFNLGNBQWMsV0FBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkMsQ0FBQztRQUNMLHFCQUFDO0lBQUQsQ0FOQSxBQU1DLENBTm1DLEtBQUssR0FNeEM7SUFOWSxpQkFBYyxpQkFNMUIsQ0FBQTtJQUNELEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxjQUFjLENBQUMsQ0FBQztBQUM1QyxDQUFDLEVBbEJhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQWtCZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcclxuZXhwb3J0IG1vZHVsZSBTdHJ1Y3tcclxuICAgIFxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBQb2ludGVyTGlzdDxFPntcclxuICAgICAgICBwcml2YXRlIGxpc3Q6QXJyYXk8RT4gPSBbXVxyXG4gICAgICAgIHByaXZhdGUgcG9pbnRlcjpudW1iZXIgPSAwXHJcbiAgICAgICAgY29uc3RydWN0b3Ioc291cmNlOkFycmF5PEU+ID0gW10sIGluaXRQb2ludDpudW1iZXIgPSAwKXtcclxuICAgICAgICAgICAgc291cmNlLmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKGVsZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVhZCgpOkV7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RbdGhpcy5wb2ludGVyXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RlcCgpOlBvaW50ZXJMaXN0PEU+e1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXIrPTFcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvKHBsYWNlOm51bWJlcik6UG9pbnRlckxpc3Q8RT57XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlciA9IHBsYWNlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdXNoKGRhdGE6RSk6UG9pbnRlckxpc3Q8RT57XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKGRhdGEpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXQoaW5kZXg6bnVtYmVyLGRhdGE6RSk6UG9pbnRlckxpc3Q8RT57XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFtpbmRleF0gPSBkYXRhXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG5leHQoc2hpZnQ6bnVtYmVyID0gMSk6RXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdFt0aGlzLnBvaW50ZXIrc2hpZnRdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgbGVuZ3RoKCk6bnVtYmVye1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0Lmxlbmd0aFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZUZpZWxkIGZyb20gXCIuL1NjZW5lU2NyaXB0L0dhbWVGaWVsZFwiXG5pbXBvcnQgTG9hZGluZyBmcm9tIFwiLi9TY2VuZVNjcmlwdC9Mb2FkaW5nXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTE0MDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj05MDA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cIm5vc2NhbGVcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkxvYWRpbmdTY2VuZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwiU2NlbmVTY3JpcHQvR2FtZUZpZWxkLnRzXCIsR2FtZUZpZWxkKTtcbiAgICAgICAgcmVnKFwiU2NlbmVTY3JpcHQvTG9hZGluZy50c1wiLExvYWRpbmcpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCB7U3RydWN9IGZyb20gXCIuLi9EYXRhU3RydWN0dXJlXCJcclxuXHJcblxyXG5jb25zdCBnYW1lU2V0X1VSTDpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvR2FtZVNldC5qc29uXCIsXHJcbmVuZW15RGF0YWJhc2VfVVJMOnN0cmluZyA9IFwiLi9EYXRhYmFzZS9FbmVteURhdGFiYXNlLmpzb25cIixcclxub3BlcmF0b3JEYXRhYmFzZV9VUkw6c3RyaW5nID0gXCIuL0RhdGFiYXNlL09wZXJhdG9yRGF0YWJhc2UuanNvblwiXHJcblxyXG5cclxuXHJcblxyXG50eXBlIEVuZW15RXZlbnQgPSB7XHJcbiAgICB0aW1lOm51bWJlcixcclxuICAgIHR5cGU6c3RyaW5nLFxyXG4gICAgcGF0aDpudW1iZXJbXVtdXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFiYXNle1xyXG4gICAgcHJpdmF0ZSBlbmVteURhdGE6SlNPTlxyXG4gICAgcHJpdmF0ZSBvcGVyYXRvckRhdGE6SlNPTlxyXG4gICAgcHJpdmF0ZSBnYW1lU2V0OkpTT05cclxuXHJcbiAgICBwcml2YXRlIHRpbWVUYWJsZTpTdHJ1Yy5Qb2ludGVyTGlzdDxFbmVteUV2ZW50PlxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmVuZW15RGF0YSA9IExheWEubG9hZGVyLmdldFJlcyhlbmVteURhdGFiYXNlX1VSTClcclxuICAgICAgICB0aGlzLm9wZXJhdG9yRGF0YSA9IExheWEubG9hZGVyLmdldFJlcyhvcGVyYXRvckRhdGFiYXNlX1VSTClcclxuICAgICAgICB0aGlzLmdhbWVTZXQgPSBMYXlhLmxvYWRlci5nZXRSZXMoZ2FtZVNldF9VUkwpXHJcbiAgICAgICAgdGhpcy5pbml0VGltZVRhYmxlKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBpbml0VGltZVRhYmxlKCl7XHJcbiAgICAgICAgdGhpcy50aW1lVGFibGUgPSBuZXcgU3RydWMuUG9pbnRlckxpc3Q8RW5lbXlFdmVudD4oKVxyXG4gICAgICAgIHRoaXMuZ2FtZVNldFtcInRpbWV0YWJsZUJyZWZcIl0uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGltZTpudW1iZXIgPSBlbGVtZW50W1widGltZVwiXVxyXG4gICAgICAgICAgICBjb25zdCB0eXBlOnN0cmluZyA9IGVsZW1lbnRbXCJ0eXBlXCJdXHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGg6bnVtYmVyW11bXSA9IHRoaXMuZ2FtZVNldFtcInBhdGhzXCJdW2VsZW1lbnQucGF0aF1cclxuICAgICAgICAgICAgdGhpcy50aW1lVGFibGUucHVzaCh7dGltZSx0eXBlLHBhdGh9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBpc0hhcHBlbmluZyh0aW1lOm51bWJlcik6Ym9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGltZSA9PT0gdGhpcy50aW1lVGFibGUucmVhZCgpLnRpbWVcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UGF0aChwYXRoTmFtZTpzdHJpbmcpOm51bWJlcltdW117XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZVNldFtcInBhdGhzXCJdW3BhdGhOYW1lXVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbmVteShlbmVteU5hbWU6c3RyaW5nKTphbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5lbXlEYXRhW2VuZW15TmFtZV1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T3BlcmF0b3Iob3BlcmF0b3JOYW1lOnN0cmluZyk6YW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wZXJhdG9yRGF0YVtvcGVyYXRvck5hbWVdXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEdyb3VuZCgpOmFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lU2V0W1wiZ3JvdW5kXCJdXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdhbWVGaWVsZCBmcm9tIFwiLi4vU2NlbmVTY3JpcHQvR2FtZUZpZWxkXCI7XHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi9EYXRhYmFzZVwiXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkc3tcclxuICAgIHByaXZhdGUgdXBwZXJQYXRoOkdhbWVGaWVsZFxyXG4gICAgcHJpdmF0ZSBmYXRoZXI6TGF5YS5TcHJpdGVcclxuICAgIHByaXZhdGUgZGF0YWJhc2U6RGF0YWJhc2VcclxuXHJcbiAgICBwcml2YXRlIHNwcml0ZUdyb3VwOkxheWEuU3ByaXRlW11bXSA9IFtdXHJcbiAgICBwcml2YXRlIHJlY3RHcm91cDpMYXlhLlJlY3RhbmdsZVtdW10gPSBbXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVwcGVyUGF0aDpHYW1lRmllbGQsIGZhdGhlcjpMYXlhLlNwcml0ZSwgZGF0YWJhc2U6RGF0YWJhc2Upe1xyXG4gICAgICAgIHRoaXMudXBwZXJQYXRoID0gdXBwZXJQYXRoXHJcbiAgICAgICAgdGhpcy5mYXRoZXIgPSBmYXRoZXJcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2VcclxuXHJcbiAgICAgICAgLy/liJvlu7rmuLjmiI/lnLrlnLA6IFN0YXJ0XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kOmFueSA9IGRhdGFiYXNlLmdldEdyb3VuZCgpLFxyXG4gICAgICAgIHdpZHRoOm51bWJlciA9IGdyb3VuZFtcIndpZHRoXCJdLFxyXG4gICAgICAgIGhlaWdodDpudW1iZXIgPSBncm91bmRbXCJoZWlnaHRcIl0sXHJcbiAgICAgICAgc2l6ZTpudW1iZXIgPSBncm91bmRbXCJzaXplXCJdLFxyXG4gICAgICAgIG1hdHJpeDpudW1iZXIgPSBncm91bmRbXCJtYXRyaXhcIl1cclxuXHJcbiAgICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVHcm91cFt4XSA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMucmVjdEdyb3VwW3hdID0gW11cclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy/liJvlu7pzcHJpdGU6IFN0YXJ0XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGU6TGF5YS5TcHJpdGUgPSBMYXlhLlNwcml0ZS5mcm9tSW1hZ2UoXCJCYXNpYy9SZWMucG5nXCIpXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUucG9zKHgqc2l6ZSx5KnNpemUpLnNpemUoc2l6ZSxzaXplKVxyXG4gICAgICAgICAgICAgICAgZmF0aGVyLmFkZENoaWxkKHNwcml0ZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlR3JvdXBbeF1beV0gPSBzcHJpdGVcclxuICAgICAgICAgICAgICAgIC8v5Yib5bu6U3ByaXRlOiBFbmRcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WIm+W7ulJlY3RhbmdsZTogU3RhcnRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3Q6TGF5YS5SZWN0YW5nbGUgPSBuZXcgTGF5YS5SZWN0YW5nbGUoeCpzaXplLHkqc2l6ZSxzaXplLHNpemUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RHcm91cFt4XVt5XSA9IHJlY3RcclxuICAgICAgICAgICAgICAgIC8v5Yib5bu6UmVjdGFuZ2xlOiBFbmRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WIm+W7uua4uOaIj+WcuuWcsDogRW5kXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmlkc+WvueixoeWIm+W7uuWujOaIkFwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmlkc+WvueixoeWIm+W7uuWujOaIkFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgR3JpZHN7XHJcbi8vICAgICBwdWJsaWMgTWFwOkFycmF5PEFycmF5PExheWEuU3ByaXRlPj4gPSBbXVxyXG4vLyAgICAgcHVibGljIFJlY01hcDpBcnJheTxBcnJheTxMYXlhLlJlY3RhbmdsZT4+ID0gW11cclxuLy8gICAgIHByaXZhdGUgc3RhdGljIHNpemU6bnVtYmVyID0gOTBcclxuLy8gICAgIHByaXZhdGUgZmF0aGVyOkxheWEuU3ByaXRlXHJcbi8vICAgICBwcml2YXRlIHVwcGVyUGF0aDpHYW1lRmllbGRcclxuLy8gICAgIHByaXZhdGUgZGF0YTpKU09OXHJcbi8vICAgICAvL29sZFxyXG4vLyAgICAgLy9uZXdcclxuLy8gICAgIHByaXZhdGUgZGF0YWJhc2U6RGF0YWJhc2VcclxuXHJcbi8vICAgICBjb25zdHJ1Y3RvcihmYXRoZXI6TGF5YS5TcHJpdGUsIHVwcGVyUGF0aDpHYW1lRmllbGQsIGRhdGFiYXNlOkRhdGFiYXNlKXtcclxuLy8gICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2VcclxuLy8gICAgICAgICAvLyB0aGlzLmZhdGhlciA9IGZhdGhlclxyXG4vLyAgICAgICAgIC8vIHRoaXMudXBwZXJQYXRoID0gdXBwZXJQYXRoXHJcbi8vICAgICAgICAgLy8gdGhpcy5kYXRhID0gZGF0YVxyXG4vLyAgICAgICAgIC8vIGxldCBjb2xzID0gZGF0YVtcImdyb3VuZFwiXVtcIndpZHRoXCJdLFxyXG4vLyAgICAgICAgIC8vIHJhd3MgPSBkYXRhW1wiZ3JvdW5kXCJdW1wiaGVpZ2h0XCJdXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgLy8gZm9yIChsZXQgbiA9IDA7IG4gPCByYXdzOyBuICs9IDEpIHtcclxuLy8gICAgICAgICAvLyAgICAgdGhpcy5NYXBbbl0gPSBbXVxyXG4vLyAgICAgICAgIC8vICAgICB0aGlzLlJlY01hcFtuXSA9IFtdXHJcbi8vICAgICAgICAgLy8gICAgIGZvciAobGV0IG0gPSAwOyBtIDwgY29sczsgbSArPSAxKSB7XHJcbi8vICAgICAgICAgLy8gICAgICAgICB0aGlzLmluaXRFbGVtZW50KG4sbSlcclxuLy8gICAgICAgICAvLyAgICAgfVxyXG4vLyAgICAgICAgIC8vIH1cclxuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlJlY01hcClcclxuLy8gICAgIH1cclxuXHJcblxyXG4vLyAgICAgaW5pdEVsZW1lbnQocmF3Om51bWJlcixjb3VudDpudW1iZXIpe1xyXG4vLyAgICAgICAgIGNvbnN0IGN1cnJlbnQ6TGF5YS5TcHJpdGUgPSBMYXlhLlNwcml0ZS5mcm9tSW1hZ2UoXCJCYXNpYy9SZWMucG5nXCIpOy8v6L295YWl5Zu+54mHXHJcbi8vICAgICAgICAgY3VycmVudC5wb3MoR3JpZHMuc2l6ZSpjb3VudCwgR3JpZHMuc2l6ZSpyYXcpXHJcbi8vICAgICAgICAgICAgIC5zaXplKEdyaWRzLnNpemUsR3JpZHMuc2l6ZSkvL+S+neaNrnN0YXRpYyBzaXpl5bGe5oCn5pS55Y+Y5aSn5bCP44CB5L6d5o2u57yW5Y+35pS55Y+Y5L2N572uXHJcbi8vICAgICAgICAgY3VycmVudC5uYW1lID0gYGdyaWQke3Jhd30tJHtjb3VudH1gLy/ph43lkb3lkI3kuLogZ3JpZOihjOaVsC3liJfmlbBcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzLk1hcFtyYXddW2NvdW50XSA9IGN1cnJlbnRcclxuLy8gICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XSA9IG5ldyBMYXlhLlJlY3RhbmdsZShjdXJyZW50LngsY3VycmVudC55LEdyaWRzLnNpemUsR3JpZHMuc2l6ZSlcclxuLy8gICAgICAgICAvLyBjdXJyZW50Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMudXBwZXJQYXRoLCB0aGlzLnVwcGVyUGF0aC5hZGRPcGVyYXRvciwgW3RoaXMuZ2V0UGxhY2UoY291bnQscmF3KV0pLy/orr7lrprpvKDmoIfngrnlh7vkuovku7ZcclxuLy8gICAgICAgICAvL+WQkUdhbWVGaWVsZOS4rea3u+WKoE9wZXJhdG9y5a6e5L6LXHJcbi8vICAgICAgICAgdGhpcy5mYXRoZXIuYWRkQ2hpbGQoY3VycmVudClcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBnZXRQbGFjZShjb3VudDpudW1iZXIscmF3Om51bWJlcik6bnVtYmVyW117XHJcbi8vICAgICAgICAgLy9yYXc656ys5Yeg6KGMXHJcbi8vICAgICAgICAgLy9jb3VudDrnrKzlh6DkuKpcclxuLy8gICAgICAgICByZXR1cm4gW1xyXG4vLyAgICAgICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XS54LFxyXG4vLyAgICAgICAgICAgICB0aGlzLlJlY01hcFtyYXddW2NvdW50XS55XHJcbi8vICAgICAgICAgXVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuaW1wb3J0IEVuZW15IGZyb20gXCIuLi9HYW1lT2JqL0VuZW15XCJcclxuaW1wb3J0IHtHcmlkc30gZnJvbSBcIi4uL0dhbWVPYmovR3JpZHNcIlxyXG5pbXBvcnQgRG9jdG9yIGZyb20gXCIuLi9HYW1lT2JqL0RvY3RvclwiXHJcbmltcG9ydCBPcGVyYXRvciBmcm9tIFwiLi4vR2FtZU9iai9PcGVyYXRvclwiXHJcbmltcG9ydCB7U3RydWN9IGZyb20gXCIuLi9EYXRhU3RydWN0dXJlXCJcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCIuLi9HYW1lT2JqL0RhdGFiYXNlXCJcclxuY29uc3Qge2xvZ30gPSBjb25zb2xlO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRmllbGQgZXh0ZW5kcyB1aS5HYW1lRmllbGRTY2VuZVVJe1xyXG4gICAgXHJcbiAgICBwdWJsaWMgZGF0YWJhc2U6RGF0YWJhc2VcclxuICAgIHB1YmxpYyBncmlkczpHcmlkc1xyXG4gICAgcHJpdmF0ZSBlbmVtaWVzOkVuZW15W11cclxuICAgIHByaXZhdGUgb3BlcmF0b3JzOk9wZXJhdG9yW11cclxuICAgIHByaXZhdGUgZG9jdG9yOkRvY3RvciBcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gbmV3IERhdGFiYXNlKClcclxuICAgICAgICB0aGlzLmdyaWRzID0gbmV3IEdyaWRzKHRoaXMsdGhpcy5VSVNldCx0aGlzLmRhdGFiYXNlKVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59XHJcbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVGaWVsZCBleHRlbmRzIHVpLkdhbWVGaWVsZFNjZW5lVUl7XHJcbi8vICAgICAvKipcclxuLy8gICAgICAqIHNiXHJcbi8vICAgICAgKi9cclxuLy8gICAgIHB1YmxpYyBncmlkczpHcmlkc1xyXG4vLyAgICAgcHVibGljIGRvY3RvcjpEb2N0b3JcclxuLy8gICAgIHB1YmxpYyBvcGVyYXRvcnM6QXJyYXk8T3BlcmF0b3I+ID0gW11cclxuLy8gICAgIHB1YmxpYyBlbmVtaWVzOkFycmF5PEVuZW15PiA9IFtdXHJcbi8vICAgICBwcml2YXRlIG9uS2V5ZG93bjpGdW5jdGlvblxyXG5cclxuLy8gICAgIHB1YmxpYyBHYW1lU2V0OkpTT05cclxuLy8gICAgIHB1YmxpYyBFbmVteURhdGFiYXNlOkpTT05cclxuLy8gICAgIHB1YmxpYyBUaW1lVGFibGU6U3RydWMuUG9pbnRlckxpc3Q8dGltZU5vZGU+XHJcblxyXG4vLyAgICAgcHJpdmF0ZSB0aW1lOm51bWJlclxyXG5cclxuXHJcblxyXG4vLyAgICAgLy8gcHVibGljIGZyYW1lTG9vcDpMYXlhLnRpbWVyXHJcbi8vICAgICBjb25zdHJ1Y3Rvcigpe1xyXG4vLyAgICAgICAgIHN1cGVyKClcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzXHJcbi8vICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChbZ2FtZVNldF9qc29uLCBlbmVteURhdGFiYXNlXSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uTG9hZGVkKSxudWxsLExheWEuTG9hZGVyLkpTT04pXHJcbi8vICAgICAgICAgLy/liqDovb3mlYzkurrmlbDmja7lupNcclxuLy8gICAgICAgICAvL+WKoOi9veWcsOWbviAgXHJcbiAgICAgICAgXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBvbkxvYWRlZCgpey8v5Yqg6L295a6M5oiQ5ZCO5omn6KGM5q2k5Ye95pWwXHJcblxyXG4vLyAgICAgICAgIHRoaXMuR2FtZVNldCA9IExheWEubG9hZGVyLmdldFJlcyhnYW1lU2V0X2pzb24pLy/ojrflj5blt7LliqDovb3nmoTlnLDlm75cclxuLy8gICAgICAgICB0aGlzLkVuZW15RGF0YWJhc2UgPSBMYXlhLmxvYWRlci5nZXRSZXMoZW5lbXlEYXRhYmFzZSkvL+iOt+WPluW3suWKoOi9veeahOaVjOS6uuaVsOaNrlxyXG4vLyAgICAgICAgIHRoaXMuaW5pdFRpbWVUYWJsZSgpLy/ku47lnLDlm77mlbDmja7kuK3liqDovb3ml7bpl7TooahcclxuLy8gICAgICAgICB0aGlzLnRpbWUgPSAwLy/lsIbml7bpl7Torr7kuLowO+aXtumXtOWNleS9jeS4uuW4p1xyXG4vLyAgICAgICAgIHRoaXMuZ3JpZHMgPSBuZXcgR3JpZHModGhpcy5VSVNldCx0aGlzLHRoaXMuR2FtZVNldCkvL+S+neaNruW3suWKoOi9veeahOWcsOWbvuaVsOaNru+8jOiuvue9ruWcsOWbvlxyXG4vLyAgICAgICAgIHRoaXMuZG9jdG9yID0gbmV3IERvY3RvcigpLy/liJ3lp4vljJbliIDlrqLku5blr7nosaFcclxuLy8gICAgICAgICB0aGlzLmtleUJvYXJkRXZlbnRTZXR1cCgpLy/liJ3lp4vljJbplK7nm5jkuovku7ZcclxuLy8gICAgICAgICAvKirmtYvor5Xku6PnoIEgKi9cclxuLy8gICAgICAgICAvLyB0aGlzLmVuZW1pZXMucHVzaChuZXcgRW5lbXkodGhpcy5VSVNldCwgdGhpcywgXCJidWcwXCIsIFtdKSlcclxuLy8gICAgICAgICAvKirmtYvor5Xku6PnoIFFbmQgKi9cclxuXHJcbi8vICAgICAgICAgTGF5YS50aW1lci5sb29wKDIwLHRoaXMsdGhpcy5mcmFtZUxvb3ApLy/lvIDlkK/muLjmiI/luKflvqrnjq9cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwcml2YXRlIGluaXRUaW1lVGFibGUoKXtcclxuLy8gICAgICAgICB0aGlzLlRpbWVUYWJsZSA9IG5ldyBTdHJ1Yy5Qb2ludGVyTGlzdDx0aW1lTm9kZT4oKVxyXG4vLyAgICAgICAgIGNvbnN0IHJhd1RhYmxlOkFycmF5PGFueT4gPSB0aGlzLkdhbWVTZXRbXCJ0aW1ldGFibGVcIl1cclxuLy8gICAgICAgICByYXdUYWJsZS5mb3JFYWNoKChlbGUpPT57XHJcbi8vICAgICAgICAgICAgIHRoaXMuVGltZVRhYmxlLnB1c2goe1xyXG4vLyAgICAgICAgICAgICAgICAgdGltZTplbGUudGltZSxcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU6dGhpcy5FbmVteURhdGFiYXNlW2VsZS50eXBlXSxcclxuLy8gICAgICAgICAgICAgICAgIHBhdGg6dGhpcy5HYW1lU2V0W1wicGF0aHNcIl1bZWxlLnBhdGhdXHJcbi8vICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgICAgICBsb2codGhpcy5UaW1lVGFibGUpXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBrZXlCb2FyZEV2ZW50U2V0dXAoKXtcclxuLy8gICAgICAgICB0aGlzLm9uS2V5ZG93biA9IChlOkxheWEuRXZlbnQpID0+IHtcclxuLy8gICAgICAgICAgICAgLyoq5rWL6K+V5Luj56CBICovXHJcbi8vICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IExheWEuS2V5Ym9hcmQuRSkge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmVtaWVzKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IExheWEuS2V5Ym9hcmQuRikge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmVtaWVzWzBdKVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIC8qKua1i+ivleS7o+eggUVuZCAqL1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuS0VZX0RPV04sdGhpcyx0aGlzLm9uS2V5ZG93bilcclxuLy8gICAgIH1cclxuXHJcblxyXG4vLyAgICAgcHVibGljIGZyYW1lTG9vcCgpey8v5q+P5bin6YO95Lya5omn6KGM55qE5Luj56CB5Z2XXHJcbi8vICAgICAgICAgaWYgKHRoaXMuVGltZVRhYmxlLnJlYWQoKSAmJiB0aGlzLnRpbWUgPT09IHRoaXMuVGltZVRhYmxlLnJlYWQoKS50aW1lKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZW5lbWllcy5wdXNoKG5ldyBFbmVteSh0aGlzLlVJU2V0LHRoaXMsXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLlRpbWVUYWJsZS5yZWFkKCkudHlwZSxcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuVGltZVRhYmxlLnJlYWQoKS5wYXRoKSlcclxuLy8gICAgICAgICAgICAgdGhpcy5UaW1lVGFibGUuc3RlcCgpXHJcbi8vICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgdGhpcy5vcGVyYXRvcnMuZm9yRWFjaCgoZWxlKT0+ey8v5omn6KGM5omA5pyJ5bmy5ZGY5a+56LGh55qEdXBkYXRl5pa55rOVXHJcbi8vICAgICAgICAgICAgIGVsZS51cGRhdGUoKVxyXG4gICAgICAgICAgICBcclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbGUpPT57Ly/miafooYzmiYDmnInmlYzkurrlr7nosaHnmoR1cGRhdGXmlrnms5VcclxuLy8gICAgICAgICAgICAgZWxlLnVwZGF0ZSgpXHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgICAgICB0aGlzLnRpbWUgKytcclxuLy8gICAgIH1cclxuXHJcblxyXG5cclxuLy8gICAgIGFkZE9wZXJhdG9yKHBsYWNlOm51bWJlcltdKXsvL+WcqOWcsOWbvuS4iua3u+WKoOW5suWRmFxyXG4vLyAgICAgICAgIC8v5q2k5pa55rOV6KKr5L2c5Li65Zue6LCD5Ye95pWw5o+Q5L6b57uZdGhpcy5ncmlkc+Wvueixoe+8jOWcqOeCueWHu+WcsOWbvuepuuagvOaXtuaJp+ihjFxyXG5cclxuLy8gICAgICAgICB0aGlzLm9wZXJhdG9ycy5wdXNoKG5ldyBPcGVyYXRvcih0aGlzLHBsYWNlKSlcclxuICAgICAgICBcclxuLy8gICAgIH1cclxuXHJcbi8vIH0iLCJpbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmcgZXh0ZW5kcyB1aS5Mb2FkaW5nU2NlbmVVSXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IGdhbWVTZXQ6c3RyaW5nID0gXCIuL0RhdGFiYXNlL0dhbWVTZXQuanNvblwiLFxyXG4gICAgICAgIGVuZW15RGF0YWJhc2U6c3RyaW5nID0gXCIuL0RhdGFiYXNlL0VuZW15RGF0YWJhc2UuanNvblwiLFxyXG4gICAgICAgIG9wZXJhdG9yRGF0YWJhc2U6c3RyaW5nID0gXCIuL0RhdGFiYXNlL09wZXJhdG9yRGF0YWJhc2UuanNvblwiXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChbZ2FtZVNldCxlbmVteURhdGFiYXNlLG9wZXJhdG9yRGF0YWJhc2VdLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkxvYWRlZCksbnVsbCxMYXlhLkxvYWRlci5KU09OKVxyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZGVkKCl7XHJcbiAgICAgICAgTGF5YS5TY2VuZS5vcGVuKFwiR2FtZUZpZWxkU2NlbmUuc2NlbmVcIilcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhMYXlhLmxvYWRlcilcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aSB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZUZpZWxkU2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBVSVNldDpMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcIkdhbWVGaWVsZFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkdhbWVGaWVsZFNjZW5lVUlcIixHYW1lRmllbGRTY2VuZVVJKTtcclxuICAgIGV4cG9ydCBjbGFzcyBMb2FkaW5nU2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiTG9hZGluZ1NjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkxvYWRpbmdTY2VuZVVJXCIsTG9hZGluZ1NjZW5lVUkpO1xyXG59XHIiXX0=
