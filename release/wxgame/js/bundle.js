var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Game_1 = require("./SceneScript/Game");
var Loading_1 = require("./SceneScript/Loading");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("SceneScript/Game.ts", Game_1.default);
        reg("SceneScript/Loading.ts", Loading_1.default);
    };
    GameConfig.width = 1800;
    GameConfig.height = 900;
    GameConfig.scaleMode = "noscale";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "LoadingScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./SceneScript/Game":4,"./SceneScript/Loading":14}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var SceneManager_1 = require("./SceneManager");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        new SceneManager_1.default();
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./SceneManager":3}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventCentre_1 = require("./Toybox/EventCentre");
var Database_1 = require("./Toybox/Database");
var SceneManager = /** @class */ (function () {
    function SceneManager() {
        var _this = this;
        this.loadingScene = "LoadingScene.scene";
        this.gameScene = "GameScene.scene";
        EventCentre_1.default.init();
        Database_1.default.init();
        //初始化事件中心和数据库
        Laya.Scene.open(this.loadingScene); //打开加载场景
        EventCentre_1.default.instance.once("Init", "Regular", this, function () {
            Laya.Scene.open(_this.gameScene);
        });
    }
    return SceneManager;
}());
exports.default = SceneManager;
},{"./Toybox/Database":16,"./Toybox/EventCentre":17}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var EventCentre_1 = require("../Toybox/EventCentre");
var GameFieldUI_1 = require("./GameObj/GameFieldUI");
var EnemyCentre_1 = require("./GameObj/EnemyCentre");
var Global_1 = require("../Toybox/Global");
var OprtCentre_1 = require("./GameObj/OprtCentre");
var Doctor_1 = require("./GameObj/Doctor");
var Game = /** @class */ (function (_super) {
    __extends(Game, _super);
    function Game() {
        var _this = _super.call(this) || this;
        _this._pause = false;
        _this._time = 0;
        Doctor_1.default.instance.movein(_this.UISet);
        // Laya.stage.on(Laya.Event.MOUSE_DOWN, this, ()=>{console.log("hi")});
        // let m:Matrix = new Matrix(5,6);
        // m.write(0,0,1);
        // m.print();
        // m.rotateClock().print();
        // m.rotateClock().rotateClock().print();
        // m.rotateClock().rotateClock().rotateClock().print();
        // if (Math.random() > -1) {
        //     return;
        // }
        Game.UISet = _this.UISet;
        Game.stage = _this.stage;
        var spr = new Laya.Sprite();
        _this.UISet.addChild(spr);
        Global_1.default.UISet_sub = spr;
        GameFieldUI_1.default.init(_this.scene); //ui初始化
        OprtCentre_1.default.init(); //干员管理类初始化
        EnemyCentre_1.default.init(); //敌人管理类初始化
        // MassEffect.init(this);//物理类初始化
        // MassEffect.i.test();//物理类进行测试 可移除
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.PAUSE, _this, function () {
            if (_this._pause) {
                _this._pause = false;
                Laya.timer.resume();
            }
            else {
                _this._pause = true;
                Laya.timer.pause();
            }
        });
        Laya.timer.loop(17, _this, _this.update); //开始帧循环
        return _this;
    }
    //这个变量代表游戏从开始到现在运行了多少帧
    Game.prototype.update = function () {
        EnemyCentre_1.default.i.update(this._time);
        OprtCentre_1.default.i.update();
        GameFieldUI_1.default.i.update();
        this._time += 1;
    };
    return Game;
}(layaMaxUI_1.ui.GameSceneUI));
exports.default = Game;
},{"../Toybox/EventCentre":17,"../Toybox/Global":18,"../ui/layaMaxUI":20,"./GameObj/Doctor":5,"./GameObj/EnemyCentre":6,"./GameObj/GameFieldUI":7,"./GameObj/OprtCentre":8}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Doctor = /** @class */ (function () {
    function Doctor() {
        this._sprite = new Laya.Sprite();
        this._life = 2;
    }
    Doctor.prototype.movein = function (spr) {
        spr.addChild(this._sprite);
        this._sprite.pos(0, 570);
        this._sprite.graphics.fillText("从左侧狗头人头像将狗头拖拽到场地上，松开鼠标并再次单击鼠标选择方向以部署", 0, 0, "20px Arial", "#ffffff", "left");
        this._sprite.graphics.fillText("这个demo其实不但简陋还有挺多bug的", 0, 22, "20px Arial", "#ffffff", "left");
        this._sprite.graphics.fillText("但我实在是肝不动了，先发个大概吧。项目代码也基本上被糟蹋得无法维护了（反正也要重构）", 0, 44, "20px Arial", "#ffffff", "left");
    };
    Doctor.prototype.note = function () {
        this._sprite.graphics.clear();
        if (this._life >= 0) {
            this._sprite.graphics.fillText("博士 [手撕筷子] 技能点剩余:" + this._life, 0, 0, "20px Arial", "#ffffff", "left");
        }
        else {
            this._sprite.graphics.fillText("筷子吃掉了宁的脑子", 0, 0, "20px Arial", "#ff0000", "left");
        }
    };
    Doctor.prototype.damage = function () {
        this._life -= 1;
        this.note();
    };
    Doctor.instance = new Doctor();
    return Doctor;
}());
exports.default = Doctor;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Enemy_1 = require("./People_stuff/Enemy");
var DataStructure_1 = require("../../Toybox/DataStructure");
var Database_1 = require("../../Toybox/Database");
var EventCentre_1 = require("../../Toybox/EventCentre");
var EnemyCentre = /** @class */ (function () {
    function EnemyCentre() {
        this._enemyGroup = [];
        //Start
        //初始化时间轴
        var timeData = Database_1.default.i.getTimetable();
        this._timetable = new DataStructure_1.Struc.PointerList(timeData);
        //初始化时间轴
        //End
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.ENEMY_DEAD, this, this.onEnemyDead);
    }
    EnemyCentre.init = function () {
        this.i = new EnemyCentre();
        this.init = function () { };
    };
    EnemyCentre.prototype.update = function (time) {
        /*
        这个函数是EnemyCentre类每帧所做的事情
        time是此次游戏自游戏开始至这个函数运行之时已经经过的帧数
        在预期中，这个数值会从0开始，每帧+1
        */
        //2019/11/18
        //下面这个判断条件的==改成了>=,还没测试过，记得测试
        if (!this._timetable.exceeding && time >= this._timetable.read()["time"]) {
            //空值检查 && 当前时间与时间表上的时间一致
            var data = this._timetable.read();
            this.createEnemy(data["type"], data["path"]);
            this._timetable.step();
        }
        this._enemyGroup.forEach(function (enemy) {
            enemy.update();
        });
    };
    EnemyCentre.prototype.onEnemyDead = function (enemy) {
        for (var i = 0; i < this._enemyGroup.length; i += 1) {
            if (this._enemyGroup[i] === enemy) {
                this._enemyGroup.splice(i, 1);
                break;
            }
        }
    };
    EnemyCentre.prototype.createEnemy = function (enemyID, pathID) {
        var enemy = new Enemy_1.default(enemyID, pathID);
        this._enemyGroup.push(enemy);
    };
    return EnemyCentre;
}());
exports.default = EnemyCentre;
},{"../../Toybox/DataStructure":15,"../../Toybox/Database":16,"../../Toybox/EventCentre":17,"./People_stuff/Enemy":9}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Database_1 = require("../../Toybox/Database");
var EventCentre_1 = require("../../Toybox/EventCentre");
var DataStructure_1 = require("../../Toybox/DataStructure");
var People_1 = require("./People_stuff/People");
var Global_1 = require("../../Toybox/Global");
var Game_1 = require("../Game");
var OprtCentre_1 = require("./OprtCentre");
var Present_1 = require("./People_stuff/Present");
var TempPst = /** @class */ (function (_super) {
    __extends(TempPst, _super);
    function TempPst() {
        return _super.call(this, null) || this;
    }
    TempPst.prototype.removeHealthBar = function () {
        this._sprite.graphics.clear();
    };
    return TempPst;
}(Present_1.default));
/**
 * 干员栏的一个单元
 */
var OprtProfile = /** @class */ (function () {
    function OprtProfile(id) {
        //获取资料
        this.id = id;
        var data = Database_1.default.i.getOprt(id);
        this.img = data["img"];
        //创建sprite
        this.sprite = Laya.Sprite.fromImage(data["img"]);
        //监听点击事件
        this.sprite.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);
    }
    OprtProfile.prototype.onMouseDown = function () {
        var spr = Laya.Sprite.fromImage(this.img); //创建并调整拖动图标
        spr.size(Database_1.default.i.UnitSize, Database_1.default.i.UnitSize);
        //绘制方块
        var pst = new TempPst();
        pst.removeHealthBar();
        // let weapon:Weapon = new Weapon(2,0,5);
        // pst.drawAttackRange(weapon);
        //绘制方块
        GameFieldUI.i.UISet.addChild(spr);
        Laya.timer.loop(20, this, this.onLoop, [spr, GameFieldUI.i.Centre.range, pst]); //拖动图标开始跟随鼠标
        this.sprite.stage.once(Laya.Event.MOUSE_UP, this, this.onMouseUp, [spr, GameFieldUI.i.Centre.range, pst]); //监听鼠标抬起事件
    };
    OprtProfile.prototype.onLoop = function (spr, range, pst) {
        var x = Game_1.default.UISet.mouseX;
        var y = Game_1.default.UISet.mouseY;
        if ((x > 0 && x < range.right) && (y > 0 && y < range.bottom)) {
            var size = Database_1.default.i.UnitSize;
            x = x - x % size;
            y = y - y % size;
            spr.pos(x, y);
            pst.clearAttackRange();
            pst.drawAttackRange(new People_1.Weapon(Math.floor(y / size), Math.floor(x / size), 5));
            return;
        }
        spr.pos(x - spr.width / 2, y - spr.height / 2);
    };
    OprtProfile.prototype.onMouseUp = function (spr, range, pst) {
        var _this = this;
        Laya.timer.clear(this, this.onLoop); //停止跟随循环
        var x = Game_1.default.UISet.mouseX;
        var y = Game_1.default.UISet.mouseY;
        if ((x > 0 && x < range.right) && (y > 0 && y < range.bottom)) { //鼠标处于地图范围内
            var size_1 = Database_1.default.i.UnitSize;
            x = (x - x % size_1) / size_1; //计算单位位置
            y = (y - y % size_1) / size_1;
            var xMan_1 = x * size_1;
            var yEs_1 = y * size_1;
            //Looooooooooooooooooooooooooooooop
            var dirNum_1 = 0;
            var direct_1 = function () {
                var currentX = Game_1.default.UISet.mouseX;
                var currentY = Game_1.default.UISet.mouseY;
                if (currentX > xMan_1 && currentY > yEs_1 && currentY < yEs_1 + size_1) {
                    console.log("right");
                    dirNum_1 = 0;
                    pst.clearAttackRange();
                    pst.drawAttackRange(new People_1.Weapon(y, x, 5));
                }
                else if (currentX < xMan_1 && currentY > yEs_1 && currentY < yEs_1 + size_1) {
                    console.log("left");
                    dirNum_1 = 2;
                    pst.clearAttackRange();
                    pst.drawAttackRange(new People_1.Weapon(y, x, 5).rotateClock().rotateClock());
                }
                else if (currentY < yEs_1 && currentX > xMan_1 && currentX < xMan_1 + size_1) {
                    console.log("up");
                    dirNum_1 = 3;
                    pst.clearAttackRange();
                    pst.drawAttackRange(new People_1.Weapon(y, x, 5).rotateClock().rotateClock().rotateClock());
                }
                else if (currentY > yEs_1 && currentX > xMan_1 && currentX < xMan_1 + size_1) {
                    console.log("down");
                    dirNum_1 = 1;
                    pst.clearAttackRange();
                    pst.drawAttackRange(new People_1.Weapon(y, x, 5).rotateClock());
                }
            };
            Laya.timer.loop(20, this, direct_1);
            Laya.stage.once(Laya.Event.MOUSE_DOWN, this, function () {
                pst.clearAttackRange();
                Laya.timer.clear(_this, direct_1);
                OprtCentre_1.default.i.createOprt(y, x, _this.id, dirNum_1);
                spr.destroy(); //消除拖动图标
            });
        }
        else { //鼠标处于地图范围外
            //其实没什么要做的
        }
    };
    return OprtProfile;
}());
/**
 * 侧边栏UI类
 * 也就是干员栏
 */
var SideField = /** @class */ (function () {
    function SideField(scene, rightShift) {
        var _this = this;
        this._pixWidth = 100; //宽度
        this._pixHeight = 500; //高度
        this._profiles = [];
        //获取原点
        this._origin = scene.getChildByName("SideBar");
        //移动原点到CentreField的右边30px处
        this._origin.pos(rightShift, this._origin.y);
        //绘制方框
        this._origin.graphics.drawRect(0, 0, 100, 500, "#fa1566");
        //根据可选干员列表生成待选干员栏
        var list = Global_1.default.ListOfOprt; //Global.ListOfOprt仅在开发时采用，后续将会通过制定标准规定干员列表的来源
        list.forEach(function (ele, index) {
            var currentOprt = new OprtProfile(ele);
            currentOprt.sprite.pos(0, 80 * index).size(80, 80);
            _this._origin.addChild(currentOprt.sprite);
            _this._profiles[index] = currentOprt;
        });
        console.log(this);
    }
    return SideField;
}());
/**
 * 中央区域UI类
 */
var CentreField = /** @class */ (function () {
    function CentreField(scene) {
        this._subLayer = new Laya.Sprite(); //测试用图层
        this._topLayer = new Laya.Sprite(); //上层图层
        this._enemyDistribution = []; //敌人所处的区域
        //获取数据
        var data = Database_1.default.i.getGround();
        var _a = [data["width"], data["height"], data["size"]], width = _a[0], hight = _a[1], size = _a[2];
        this._size = size;
        this._width = width;
        this._height = hight;
        this._scene = scene;
        this._origin = scene.getChildByName("UISet");
        this._origin.addChild(this._subLayer);
        this._origin.parent.addChild(this._topLayer);
        this._topLayer.pos(this._origin.x, this._origin.y);
        this._topLayer.zOrder = 100;
        //创建CentreField区域数据
        this.range = new DataStructure_1.Box();
        this.range.size(width * size, hight * size);
        //Start
        //创建地图方格 和对应的Box
        this._blocks = [];
        this._recs = [];
        for (var y = 0; y < hight; y += 1) {
            this._blocks[y] = [];
            this._recs[y] = [];
            for (var x = 0; x < width; x += 1) {
                console.log(Database_1.default.i.getGround());
                var pngNum = Database_1.default.i.getGround()["matrix"][y][x];
                var block = Laya.Sprite.fromImage("Basic/" + pngNum + ".png");
                this._origin.addChild(block);
                block.size(size, size).pos(x * size, y * size);
                this._blocks[y][x] = block;
                this._recs[y][x] = new DataStructure_1.Box();
                this._recs[y][x].pos(x * size, y * size).size(size, size);
                this._recs[y][x].unitX = x;
                this._recs[y][x].unitY = y;
            }
        }
        //创建地图方格
        //End
        //监控敌人位置
        for (var row = 0; row < hight; row += 1) {
            this._enemyDistribution[row] = [];
            for (var col = 0; col < width; col += 1) {
                console.log("run");
                this._enemyDistribution[row][col] = [];
                EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.IN(row, col), this, this._onEnemyEntre, [row, col]);
                EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.OUT(row, col), this, this._onEnemyLeave, [row, col]);
            }
        }
        console.log(this._enemyDistribution);
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.EFFECT, this, this.onAttackOccur);
        EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.EFFECT, [500, 500, "2"]);
    }
    /**
     * 此函数仅在29日重构前使用
     */
    CentreField.prototype.attackEffect = function (fromX, fromY, toX, toY) {
        var _this = this;
        var sprite = new Laya.Sprite();
        this._topLayer.addChild(sprite);
        sprite.zOrder = 10000;
        sprite.graphics.drawRect(fromX, fromY, 10, 10, "#ff0000");
        var count = 0;
        var max = 30;
        var func = function () {
            sprite.graphics.drawRect(fromX + (toX - fromX) * count / max, fromY + (toY - fromY) * count / max, 5, 5, "#ff0040");
            count += 1;
            if (count <= max) {
                Laya.timer.once(10, _this, func);
            }
            else {
                sprite.graphics.drawRect(toX, toY, 10, 10, "#ff0040");
                Laya.timer.once(1500, _this, function () {
                    _this._topLayer.removeChild(sprite);
                });
            }
        };
        func();
    };
    /**
     * 这个也只在demo里使用
     */
    CentreField.prototype.onAttackOccur = function (x, y, color) {
        var _this = this;
        x += Math.random() * 20 - 10;
        y += Math.random() * 20 - 10;
        var spr = new Laya.Sprite;
        this._topLayer.addChild(spr);
        var time = 0;
        var scale = 0.7;
        var size = Database_1.default.i.UnitSize;
        var scaleIncreaseRate = 0.4;
        var scaleIncreaseRateIncreaseRate = -0.06;
        var ok = function () {
            var currentSize = size * scale;
            var locate = (size - currentSize) / 2;
            // console.log(color);
            spr.graphics.clear();
            spr.graphics.drawRect(x + locate, y + locate, currentSize, 4, color);
            spr.graphics.drawRect(x + locate, y + locate, 4, currentSize, color);
            spr.graphics.drawRect(x + locate + currentSize, y + locate, 4, currentSize, color);
            spr.graphics.drawRect(x + locate, y + locate + currentSize, currentSize, 4, color);
            scale = scale + scaleIncreaseRate;
            scaleIncreaseRate = Math.max(0.01, scaleIncreaseRate + scaleIncreaseRateIncreaseRate);
            time += 1;
            if (time < 20) {
                Laya.timer.once(20, _this, ok);
            }
            else {
                spr.parent.removeChild(spr);
            }
        };
        ok();
    };
    /**
     * 查看特定坐标中是否包含输入的enemy对象
     */
    CentreField.prototype.searchPoint = function (row, col, enemy) {
        if (row < 0 || col < 0 || row >= this._height || col >= this._width) { //超出边界直接false
            return false;
        }
        var arr = this._enemyDistribution[row][col];
        for (var i = 0; i < arr.length; i += 1) {
            if (arr[i] === enemy) {
                return true;
            }
        }
        return false;
    };
    /**
     * 将所有存在enemy的地图节点绘制为紫色
     */
    CentreField.prototype._paint = function () {
        var _this = this;
        if (!Global_1.default.LINE_EFFECT_ON) {
            return;
        }
        this._subLayer.graphics.clear();
        this._enemyDistribution.forEach(function (row, y) {
            row.forEach(function (ele, x) {
                if (ele.length !== 0) {
                    _this._subLayer.graphics.drawRect(x * Database_1.default.i.UnitSize, y * Database_1.default.i.UnitSize, Database_1.default.i.UnitSize, Database_1.default.i.UnitSize, "#ff00ff");
                }
            });
        });
    };
    CentreField.prototype._onEnemyEntre = function (row, col, enemy) {
        // console.log("Entre:" + row + "|" + col);
        // console.log(this._enemyDistribution[row][col]);
        this._enemyDistribution[row][col].push(enemy);
        this._paint();
    };
    CentreField.prototype._onEnemyLeave = function (row, col, enemy) {
        // console.log("Leave:" + row + "|" + col);
        var length = this._enemyDistribution[row][col].length;
        for (var i = 0; i < length; i += 1) {
            if (this._enemyDistribution[row][col][i] === enemy) {
                this._enemyDistribution[row][col].splice(i, 1);
                break;
            }
        }
        this._paint();
    };
    CentreField.prototype.CreateSprite = function (imgURL, x, y) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        var sprite = Laya.Sprite.fromImage(imgURL); //创建sprite
        this._scene.getChildByName("UISet").addChild(sprite); //插入中心区域
        sprite.size(Database_1.default.i.UnitSize, Database_1.default.i.UnitSize); //根据数据库提供的常量设置大小
        sprite.pos(x, y); //确定位置
        return sprite;
    };
    /**
     * 输入一个方格，输出与其交叠的地图方格
     */
    CentreField.prototype.collision = function (from) {
        var origin_x = this.round(from.x, this._size);
        var origin_y = this.round(from.y, this._size);
        var bottom = this.round(from.bottom, this._size);
        var right = this.round(from.right, this._size);
        if (origin_x >= this._width || origin_y >= this._height) {
            return [];
        }
        origin_x = origin_x < 0 ? 0 : origin_x; //origin_x is at least 0
        origin_y = origin_y < 0 ? 0 : origin_y; //origin_y is at least 0
        bottom = bottom >= this._height ? this._height - 1 : bottom; //bottom is at most this._height
        right = right >= this._width ? this._width - 1 : right; //right is at most this._right
        var result = [];
        for (var hei = origin_y; hei <= bottom; hei += 1) {
            for (var wid = origin_x; wid <= right; wid += 1) {
                result.push(this._recs[hei][wid]);
            }
        }
        return result;
    };
    /**
     * 求c = a / b
     * 返回c在数轴上向0移动时经过的第一个整数值
     * @param a
     * @param b
     */
    CentreField.prototype.round = function (a, b) {
        return (a - a % b) / b;
    };
    return CentreField;
}());
/**
 * 整个主要场景的UI类
 */
var GameFieldUI = /** @class */ (function () {
    function GameFieldUI(scene) {
        this.UISet = scene.getChildByName("UISet");
        this.SideBar = scene.getChildByName("SideBar");
        this._centre = new CentreField(scene);
        this._side = new SideField(scene, this.UISet.x + this._centre.range.width + 20);
        this._scene = scene;
        //弄个暂停键凑合用
        var pauseButton = new Laya.Sprite();
        pauseButton.size(50, 50).pos(0, 0);
        pauseButton.graphics.drawRect(0, 0, 50, 50, "#ff0000");
        this._scene.addChild(pauseButton);
        pauseButton.on(Laya.Event.MOUSE_DOWN, this, function () {
            EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.PAUSE);
        });
        console.log(this);
    }
    GameFieldUI.init = function (scene) {
        this.i = new GameFieldUI(scene);
        this.init = function () { };
    };
    Object.defineProperty(GameFieldUI.prototype, "Centre", {
        get: function () {
            return this._centre;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameFieldUI.prototype, "Side", {
        get: function () {
            return this._side;
        },
        enumerable: true,
        configurable: true
    });
    GameFieldUI.prototype.update = function () {
    };
    return GameFieldUI;
}());
exports.default = GameFieldUI;
},{"../../Toybox/DataStructure":15,"../../Toybox/Database":16,"../../Toybox/EventCentre":17,"../../Toybox/Global":18,"../Game":4,"./OprtCentre":8,"./People_stuff/People":11,"./People_stuff/Present":12}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Oprt_1 = require("./People_stuff/Oprt");
var EventCentre_1 = require("../../Toybox/EventCentre");
var OprtCentre = /** @class */ (function () {
    function OprtCentre() {
        this._oprtGroup = [];
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.OPRT_DEAD, this, this.onOprtDead);
    }
    OprtCentre.init = function () {
        this.i = new OprtCentre;
    };
    OprtCentre.prototype.onOprtDead = function (oprt) {
        for (var i = 0; i < this._oprtGroup.length; i += 1) {
            if (this._oprtGroup[i] === oprt) {
                this._oprtGroup.splice(i, 1);
                break;
            }
        }
    };
    OprtCentre.prototype.createOprt = function (unitY, unitX, id, rotate) {
        if (rotate === void 0) { rotate = 0; }
        var oprt = new Oprt_1.default(unitY, unitX, id, rotate);
        this._oprtGroup.push(oprt);
        console.log("New Operator at " + unitY + "_" + unitX);
    };
    OprtCentre.prototype.update = function () {
        this._oprtGroup.forEach(function (ele) {
            ele.update();
        });
    };
    return OprtCentre;
}());
exports.default = OprtCentre;
},{"../../Toybox/EventCentre":17,"./People_stuff/Oprt":10}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var People_1 = require("./People");
var Database_1 = require("../../../Toybox/Database");
var EventCentre_1 = require("../../../Toybox/EventCentre");
var GameFieldUI_1 = require("../GameFieldUI");
var DataStructure_1 = require("../../../Toybox/DataStructure");
var Present_1 = require("./Present");
var State_1 = require("./State");
var myMath_1 = require("../../../Toybox/myMath");
var Doctor_1 = require("../Doctor");
/**
 * 敌人的表现类
 */
var EnemyPst = /** @class */ (function (_super) {
    __extends(EnemyPst, _super);
    function EnemyPst(url) {
        return _super.call(this, url, true) || this;
    }
    return EnemyPst;
}(Present_1.default));
/**
 * 敌人的状态类
 */
var EnemyStt = /** @class */ (function (_super) {
    __extends(EnemyStt, _super);
    function EnemyStt(data, pathID) {
        var _this = _super.call(this, data) || this;
        _this.isOut = false; //这个敌人是否还有下一个路径坐标
        _this.isStop = false; //这个敌人是否在移动
        _this.oldCollision = []; //这是上一次碰到的地图节点
        _this.weapon = new People_1.EnemyWeapon();
        var size = Database_1.default.i.subUnitSize;
        //初始化路径
        _this._path = new DataStructure_1.Struc.PointerList();
        var rawPath = Database_1.default.i.getPath(pathID);
        rawPath.forEach(function (ele, index) {
            _this._path.push({ x: ele[0], y: ele[1] });
        });
        //初始化位置
        _this._x = _this._path.first.x;
        _this._y = _this._path.first.y;
        //初始化速度
        _this._speed = data["speed"];
        //初始化轴速度
        _this._resetAxisSpeed();
        //初始化基础属性
        _this.health = data['HP']; //血量
        _this.fullHealth = _this.health;
        //注册碰撞箱
        _this._bodyBox = new DataStructure_1.Box().size(size, size);
        _this.resetBodyPosition();
        return _this;
    }
    EnemyStt.prototype.resetBodyPosition = function () {
        this._bodyBox.x = this._x + 1; //记得修改这个常数
        this._bodyBox.y = this._y + 1;
        // this._bodyBox.pos(this._x, this._y);
    };
    EnemyStt.prototype._resetAxisSpeed = function () {
        if (this._path.atEnd) {
            console.log("Can't reset speed");
            return;
        }
        var next = this._path.next();
        var _a = [next.x - this._x, next.y - this._y], x_dis = _a[0], y_dis = _a[1];
        var distance = Math.sqrt(Math.pow(x_dis, 2) + Math.pow(y_dis, 2));
        var time = distance / this._speed;
        this._xSpeed = x_dis / time;
        this._ySpeed = y_dis / time;
    };
    EnemyStt.prototype.setPosition = function (x, y) {
        this._x = x;
        this._y = y;
    };
    EnemyStt.prototype.nextTarget = function () {
        if (this._path.atEnd) {
            return;
        }
        this._path.step();
        this._resetAxisSpeed();
    };
    Object.defineProperty(EnemyStt.prototype, "isArrived", {
        get: function () {
            return (this._x === this._path.next().x) && (this._y === this._path.next().y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EnemyStt.prototype, "xSpeed", {
        get: function () {
            return this._xSpeed;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EnemyStt.prototype, "ySpeed", {
        get: function () {
            return this._ySpeed;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EnemyStt.prototype, "target", {
        get: function () {
            return this._path.next();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EnemyStt.prototype, "bodyBox", {
        get: function () {
            return this._bodyBox;
        },
        enumerable: true,
        configurable: true
    });
    return EnemyStt;
}(State_1.default));
/**
 * 敌人的逻辑类
 */
var Enemy = /** @class */ (function (_super) {
    __extends(Enemy, _super);
    /**
     *
     * @param id 敌人id，用于获取敌人数据
     * @param pathID 路径id，用于获取路径数据
     */
    function Enemy(id, pathID) {
        var _this = _super.call(this) || this;
        //获取数据和路径
        var data = Database_1.default.i.getEnemy(id);
        var path = Database_1.default.i.getPath(pathID);
        _this._data = data;
        _this._path = new DataStructure_1.Struc.PointerList(path);
        //创建表现类和数据类
        _this._present = new EnemyPst(data["img"]);
        _this._present.relatedPeople = _this;
        _this._state = new EnemyStt(data, pathID);
        //初始化动作条
        _this._present.drawActionBar(0, 1, 2);
        console.log(_this);
        return _this;
    }
    Enemy.prototype.tryAttack = function (oprt) {
        this._state.weapon.count(oprt);
        var stage = this._state.weapon.stage;
        this._present.drawActionBar(stage.stageATK, stage.beforeATK, stage.completeATK);
    };
    /**
     * 对传入的伤害进行处理
     * @param damage
     */
    Enemy.prototype.handleDamage = function (damage) {
        this._state.health -= damage.value;
        this._present.drawHealthBar(this._state.health, this._state.fullHealth);
        if (this._state.health <= 0) {
            this._dead();
        }
    };
    /**
     * 这个函数真是乱到一定程度了……
     */
    Enemy.prototype.clearActionBar = function () {
        this._present.drawActionBar(0, 1, 2);
    };
    /**
     * 死亡函数
     */
    Enemy.prototype._dead = function () {
        var _this = this;
        this.update = function () {
            console.log("invalid update");
        };
        this._present.hide();
        EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.ENEMY_DEAD, [this]);
        this._state.oldCollision.forEach(function (ele) {
            EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.OUT(ele.unitY, ele.unitX), [_this]);
        });
    };
    /**
     * 对比两次先后碰撞的结果，输出他们的差异
     * @param previous 上一次的碰撞结果
     * @param current 这一次的碰撞结果
     */
    Enemy.prototype.compareColiResult = function (previous, current) {
        var inList = [];
        var outList = [];
        previous.forEach(function (ele) {
            var toInsert = true;
            for (var n = 0; n < current.length; n += 1) {
                if (ele === current[n]) {
                    toInsert = false;
                    break;
                }
            }
            if (toInsert) {
                outList.push(ele);
            }
        });
        current.forEach(function (ele) {
            var toInset = true;
            for (var n = 0; n < previous.length; n += 1) {
                if (ele === previous[n]) {
                    toInset = false;
                    break;
                }
            }
            if (toInset) {
                inList.push(ele);
            }
        });
        return { in: inList, out: outList };
    };
    Object.defineProperty(Enemy.prototype, "NumX", {
        get: function () {
            return this._state.x;
        },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(Enemy.prototype, "NumY", {
        get: function () {
            return this._state.y;
        },
        enumerable: true,
        configurable: true
    });
    //供外部调用的方法集
    Enemy.prototype.stop = function () {
        this._state.isStop = true;
    };
    Enemy.prototype.unstop = function () {
        this._state.isStop = false;
    };
    // public get UnitX():number{
    //     return GameFieldUI.i.Centre.
    // }
    Enemy.prototype.update = function () {
        var _this = this;
        if (this._state.isOut || this._state.isStop) {
            return;
        }
        //进行移动
        if (this._state.isArrived) {
            this._state.nextTarget();
        }
        var _a = this._state, x = _a.x, y = _a.y, xSpeed = _a.xSpeed, ySpeed = _a.ySpeed, target = _a.target;
        if (target === undefined) {
            this._state.isOut = true;
            this.handleDamage(new People_1.Damage(114514, this, People_1.DamageType.PHYSICAL));
            Doctor_1.default.instance.damage();
            return;
        }
        var newx = myMath_1.default.moveTo(x, xSpeed, target.x);
        var newy = myMath_1.default.moveTo(y, ySpeed, target.y);
        this._state.setPosition(newx, newy);
        this._state.resetBodyPosition();
        //刷新位置
        this._present.perform(this._state);
        //碰撞检测
        var result = GameFieldUI_1.default.i.Centre.collision(this._state.bodyBox); //获取当前与自身有所重叠的所有方块
        var events = this.compareColiResult(this._state.oldCollision, result); //对比当前与上一帧的重叠方块异同
        this._state.oldCollision = result; //更新碰撞结果
        //发送事件
        events.in.forEach(function (ele) {
            // const unitX:number = (ele.x-ele.x%Database.i.UnitSize)/Database.i.UnitSize;
            // const unitY:number = (ele.y-ele.y%Database.i.UnitSize)/Database.i.UnitSize;
            // console.log(unitX === ele.unitX && unitY === ele.unitY);
            // EventCentre.i.event(EventCentre.FieldName.COLLISION, `IN${unitY+""+unitX}`, [this]);
            EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.COLLISION, "IN" + (ele.unitY + "" + ele.unitX), [_this]);
        });
        events.out.forEach(function (ele) {
            // const unitX:number = (ele.x-ele.x%Database.i.UnitSize)/Database.i.UnitSize;
            // const unitY:number = (ele.y-ele.y%Database.i.UnitSize)/Database.i.UnitSize;
            // EventCentre.i.event(EventCentre.FieldName.COLLISION, `OUT${unitY+""+unitX}`, [this]);
            EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.COLLISION, "OUT" + (ele.unitY + "" + ele.unitX), [_this]);
        });
    };
    return Enemy;
}(People_1.default));
exports.default = Enemy;
},{"../../../Toybox/DataStructure":15,"../../../Toybox/Database":16,"../../../Toybox/EventCentre":17,"../../../Toybox/myMath":19,"../Doctor":5,"../GameFieldUI":7,"./People":11,"./Present":12,"./State":13}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var People_1 = require("./People");
var State_1 = require("./State");
var Present_1 = require("./Present");
var Database_1 = require("../../../Toybox/Database");
var EventCentre_1 = require("../../../Toybox/EventCentre");
var OprtPst = /** @class */ (function (_super) {
    __extends(OprtPst, _super);
    function OprtPst(url) {
        return _super.call(this, url) || this;
    }
    return OprtPst;
}(Present_1.default));
var OprtStt = /** @class */ (function (_super) {
    __extends(OprtStt, _super);
    function OprtStt(data) {
        var _this = _super.call(this, data) || this;
        _this.capture = [];
        _this.stopping = null;
        return _this;
    }
    Object.defineProperty(OprtStt.prototype, "x", {
        get: function () {
            return this.unitX * Database_1.default.i.UnitSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OprtStt.prototype, "y", {
        get: function () {
            return this.unitY * Database_1.default.i.UnitSize;
        },
        enumerable: true,
        configurable: true
    });
    return OprtStt;
}(State_1.default));
var Oprt = /** @class */ (function (_super) {
    __extends(Oprt, _super);
    function Oprt(unitY, unitX, id, rotate) {
        if (rotate === void 0) { rotate = 0; }
        var _this = _super.call(this) || this;
        //获取数据
        var size = Database_1.default.i.UnitSize;
        var data = Database_1.default.i.getOprt(id);
        //新建表现类和状态类
        _this._state = new OprtStt(data);
        _this._present = new OprtPst(data["small"]);
        _this._present.relatedPeople = _this;
        //确定血量
        _this._state.fullHealth = data["HP"];
        _this._state.health = _this._state.fullHealth;
        _this._state.unitX = unitX;
        _this._state.unitY = unitY;
        _this._state.weapon = new People_1.Weapon(_this._state.unitY, _this._state.unitX, 5);
        for (var i = 0; i < rotate; i += 1) {
            _this._state.weapon.rotateClock();
        }
        _this._present.perform(_this._state);
        // console.log(this._state.weapon.getIndexLocations());//
        //监听事件
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, "IN" + (unitY + "" + unitX), _this, _this.onCaptureEnemy);
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, "OUT" + (unitY + "" + unitX), _this, _this.onReleaseEnemy);
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.SHOW_RANGE, _this, _this.showRange);
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.HIDE_RANGE, _this, _this.hideRange);
        return _this;
    }
    Oprt.prototype.showRange = function (present) {
        if (this._present !== present) {
            return;
        }
        this._present.drawAttackRange(this._state.weapon);
    };
    Oprt.prototype.hideRange = function (present) {
        if (this._present !== present) {
            return;
        }
        this._present.clearAttackRange();
    };
    Oprt.prototype.handleDamage = function (damage) {
        this._state.health -= damage.value;
        this._present.drawHealthBar(this._state.health, this._state.fullHealth);
        if (this._state.health <= 0) {
            this.dead();
        }
    };
    Oprt.prototype.dead = function () {
        this._present.sprite.parent.removeChild(this._present.sprite);
        if (this._state.stopping !== null) {
            this._state.stopping.clearActionBar();
            this.onReleaseEnemy(this._state.stopping);
        }
        EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.OPRT_DEAD, [this]);
        this.update = function () {
            console.log("invalid update");
        };
    };
    Oprt.prototype.onCaptureEnemy = function (enemy) {
        if (this._state.stopping === null) {
            enemy.stop();
            this._state.stopping = enemy;
        }
    };
    Oprt.prototype.onReleaseEnemy = function (enemy) {
        enemy.unstop();
        this._state.stopping = null;
    };
    Oprt.prototype.update = function () {
        /*
         * 按照原作的逻辑，干员在攻击时会锁定一个敌人，开始前摇。
         * 如果此敌人不再是攻击目标，将会重新进行前摇。
         * 但这里的逻辑是“只要范围内有敌人，就进行前摇和攻击”。
         */
        if (this._state.weapon.captureList.length !== 0) {
            this._state.weapon.stage.update();
            // console.log("EnemyFound");
            if (this._state.weapon.stage.atkReady) {
                this._state.weapon.attack();
                // console.log("Attack");
            }
        }
        else {
            this._state.weapon.stage.reset();
            // console.log("Enemy lost, Attack reset");
        }
        if (this._state.stopping !== null) {
            this._state.stopping.tryAttack(this);
        }
        this._present.drawActionBar(this._state.weapon.stage.stageATK, this._state.weapon.stage.beforeATK, this._state.weapon.stage.completeATK);
    };
    return Oprt;
}(People_1.default));
exports.default = Oprt;
},{"../../../Toybox/Database":16,"../../../Toybox/EventCentre":17,"./People":11,"./Present":12,"./State":13}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var myMath_1 = require("../../../Toybox/myMath");
var EventCentre_1 = require("../../../Toybox/EventCentre");
var GameFieldUI_1 = require("../GameFieldUI");
var Database_1 = require("../../../Toybox/Database");
var People = /** @class */ (function () {
    function People() {
    }
    Object.defineProperty(People.prototype, "UnitX", {
        get: function () {
            return -1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(People.prototype, "UnitY", {
        get: function () {
            return -1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(People.prototype, "NumX", {
        get: function () {
            return -1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(People.prototype, "NumY", {
        get: function () {
            return -1;
        },
        enumerable: true,
        configurable: true
    });
    People.prototype.handleDamage = function (damage) {
    };
    ;
    return People;
}());
exports.default = People;
var Buff = /** @class */ (function () {
    function Buff() {
    }
    return Buff;
}());
exports.Buff = Buff;
var DamageType = /** @class */ (function () {
    function DamageType() {
    }
    DamageType.PHYSICAL = "PHYSICAL";
    DamageType.MAGICAL = "MAGICAL";
    DamageType.CRITICAL = "CRITICAL";
    return DamageType;
}());
exports.DamageType = DamageType;
/**
 * Damage是一个储存伤害信息的类
 */
var Damage = /** @class */ (function () {
    function Damage(value, creator, type) {
        this._value = value;
        this._creator = creator;
        this._type = type;
    }
    Object.defineProperty(Damage.prototype, "value", {
        get: function () {
            return this._value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Damage.prototype, "creator", {
        get: function () {
            return this._creator;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Damage.prototype, "type", {
        get: function () {
            return this._type;
        },
        enumerable: true,
        configurable: true
    });
    return Damage;
}());
exports.Damage = Damage;
/**
 * 由Weapon独有的一个数据类
 * 存储前摇/后摇时间信息
 * 帮助判断何时进行攻击
 * 提供修改这些信息的API
 */
var ATKstage = /** @class */ (function () {
    /**
     *
     * @param before 设定前摇时间
     * @param complete 设定攻击完成周期（前摇与后摇时间之和）
     */
    function ATKstage(before, complete) {
        this._beforeATK = 10; // 前摇时间/帧
        this._completeATK = 20; // 攻击完成周期(前摇与后摇时间之和)/帧
        this._hadAttacked = false; //在当前周期中已进行过攻击
        this._stageATK = 0; // 已经经历的攻击时间
        this._beforeATK = before;
        this._completeATK = complete;
    }
    Object.defineProperty(ATKstage.prototype, "beforeATK", {
        get: function () {
            return this._beforeATK;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ATKstage.prototype, "completeATK", {
        get: function () {
            return this._completeATK;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ATKstage.prototype, "stageATK", {
        get: function () {
            return this._stageATK;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 记录一帧预备攻击状态
     */
    ATKstage.prototype.update = function () {
        this._stageATK += 1;
        if (this._stageATK > this._completeATK) {
            this._stageATK = 0; //周期计数归零
            this._hadAttacked = false; //重设攻击记录
        }
    };
    Object.defineProperty(ATKstage.prototype, "atkReady", {
        /**
         * 返回“已准备好进行攻击”的真值
         */
        get: function () {
            return (this._stageATK >= this._beforeATK) && (!this._hadAttacked); //前摇阶段已结束，且此次循环中还未攻击过
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 进行攻击
     * 将“此次循环中已攻击过”设为真
     * 每次进行攻击时必须调用此函数
     */
    ATKstage.prototype.attackRecord = function () {
        this._hadAttacked = true;
    };
    /**
     * 重置攻击状态
     */
    ATKstage.prototype.reset = function () {
        this._stageATK = 0;
        this._hadAttacked = false;
    };
    return ATKstage;
}());
/**
 * EnemyWeapon是一个储存敌人攻击能力信息的类
 * 这些Weapon类等重构之后都得重写……
 *
 */
var EnemyWeapon = /** @class */ (function () {
    function EnemyWeapon() {
        this._power = 3;
        this.stage = new ATKstage(60, 180);
    }
    EnemyWeapon.prototype.count = function (oprt) {
        if (oprt === this._target) {
            this.stage.update();
            if (this.stage.atkReady) {
                this.stage.attackRecord();
                oprt.handleDamage(new Damage(this._power, null, DamageType.PHYSICAL));
            }
        }
        else {
            this.stage.reset();
            this._target = oprt;
        }
    };
    return EnemyWeapon;
}());
exports.EnemyWeapon = EnemyWeapon;
/**
 * Weapon是一个储存干员攻击能力信息的类
 */
var Weapon = /** @class */ (function () {
    /**
     * 创建一个weapon
     *
     * @param originY 单位纵轴坐标（不是精确坐标）
     * @param originX 单位横轴坐标（不是精确坐标）
     * @param size 仅奇数可用
     */
    function Weapon(originY, originX, size) {
        this._originX = 0; //x轴中心点
        this._originY = 0; //y轴中心点
        this._centre = 0; //矩阵中心坐标
        this._shiftX = 0; //x轴坐标系偏移值
        this._shiftY = 0; //y轴坐标系偏移值
        this._blockList = []; //正在阻挡的敌人
        this._captureList = []; //攻击范围中的敌人
        this.power = 2; //攻击力
        this._matrix = new myMath_1.Matrix(size, size);
        this._originX = originX;
        this._originY = originY;
        this._centre = (size - 1) / 2;
        this._shiftX = this._originX - this._centre;
        this._shiftY = this._originY - this._centre;
        this._size = size;
        /**
         *      0   1   2   3   4   5
         * 0                        |
         * 1                        |
         * 2        S   1   2   3   4
         * 3        1               |
         * 4        2       C       |
         * 5        3               |
         * 6    -   4   -   -   -   -
         *
         * 图例：在(4,3)生成一个size为5的weapon，其中心点在绝对坐标系中为C(4,3)
         * 其_centre值为(5-1)/2 = 2, centre值是矩阵中心点C的相对坐标
         * 其_shift值为S(2,1),这是矩阵在绝对坐标系中的位置
         *
         * 通过把矩阵中的一些0改为1，可以监控绝对坐标系中相应位置的碰撞事件
         *
         */
        //预设内容
        this._matrix.write(this._centre, this._centre, 1); //中心位置设为1
        this._matrix.write(this._centre, this._centre + 1, 1);
        this._matrix.write(this._centre, this._centre + 2, 1);
        this._resetEvent();
        this.stage = new ATKstage(50, 120);
    }
    Object.defineProperty(Weapon.prototype, "captureList", {
        get: function () {
            return this._captureList;
        },
        enumerable: true,
        configurable: true
    });
    Weapon.prototype.rotateClock = function () {
        this._clearEvent();
        this._matrix = this._matrix.rotateClock();
        this._resetEvent();
        return this;
    };
    /**
     * [[x,y], [x,y], [x,y]]
     */
    Weapon.prototype.getIndexLocations = function () {
        var result = [];
        var xStart = this._shiftX;
        var yStart = this._shiftY;
        for (var row = 0; row < this._size; row += 1) {
            for (var col = 0; col < this._size; col += 1) {
                if (this._matrix.read(row, col) === 1) {
                    result.push([xStart + col, yStart + row]);
                }
            }
        }
        return result;
    };
    /**
     * 开炮！
     * 目前attack会对处于攻击范围内的所有敌人进行攻击
     * 伤害数值就是weapon的power数值
     * 更多选择目标逻辑和伤害类型、buff加成将在后续版本实现
     * 此方法应由一个Oprt实例调用
     */
    Weapon.prototype.attack = function () {
        var _this = this;
        var blockLength = Database_1.default.i.UnitSize;
        var twelve = function () {
            return Math.random() * 24 - 12;
        };
        this._captureList.forEach(function (ele) {
            var damage = new Damage(_this.power, null, DamageType.PHYSICAL);
            ele.handleDamage(damage);
            // GameFieldUI.i.Centre.attackEffect(
            //     (this._originX)*blockLength + blockLength/2 + twelve(),
            //     (this._originY)*blockLength + blockLength/2 + twelve(),
            //     ele.NumX + twelve() + blockLength/2,
            //     ele.NumY + twelve() + blockLength/2
            // )
            EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.EFFECT, [ele.NumX, ele.NumY, "#99ccff"]);
        });
        this.stage.attackRecord();
        // const shift:number = (this._size-1)/2;
    };
    /**
     * 1.解除所有的进入/离开攻击范围事件的监听
     * 2.重新设置进入/离开攻击范围事件监听
     */
    Weapon.prototype._resetEvent = function () {
        //第一件事先不做，等需要实现了再弄，先重设
        for (var row = 0; row < this._matrix.height; row += 1) {
            for (var col = 0; col < this._matrix.width; col += 1) {
                if (this._matrix.read(row, col) === 1) {
                    //为矩阵上每一个值为1的点设置监听事件
                    EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.IN(row + this._shiftY, col + this._shiftX), this, this._onEnemyEntre);
                    EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.OUT(row + this._shiftY, col + this._shiftX), this, this._onEnemyLeave);
                }
            }
        }
    };
    Weapon.prototype._clearEvent = function () {
        for (var row = 0; row < this._matrix.height; row += 1) {
            for (var col = 0; col < this._matrix.width; col += 1) {
                if (this._matrix.read(row, col) === 1) {
                    //为矩阵上每一个值为1的点设置监听事件
                    EventCentre_1.default.instance.off(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.IN(row + this._shiftY, col + this._shiftX), this, this._onEnemyEntre);
                    EventCentre_1.default.instance.off(EventCentre_1.default.FieldName.COLLISION, EventCentre_1.default.TypeName.OUT(row + this._shiftY, col + this._shiftX), this, this._onEnemyLeave);
                }
            }
        }
    };
    Weapon.prototype._onEnemyEntre = function (enemy) {
        for (var i = 0; i < this._captureList.length; i += 1) {
            if (this._captureList[i] === enemy) {
                return; //如果已经捕捉此Enemy，则忽略事件
            }
        }
        this._captureList.push(enemy);
        console.log("Enemy captured");
        console.log(this._captureList);
    };
    Weapon.prototype._onEnemyLeave = function (enemy) {
        //查看该敌人是否仍处于攻击范围的其他格子中，如果是，则不删除该敌人
        //该逻辑有待优化
        var found = false;
        for (var row = 0; row < this._size; row += 1) {
            for (var col = 0; col < this._size; col += 1) {
                console.log;
                var positionStatus = this._matrix.read(row, col);
                if (positionStatus !== 0) {
                    // console.log((this._shiftY + row)+"|"+ (this._shiftX + col));
                    // console.log(GameFieldUI.i.Centre.searchPoint(this._shiftY + row, this._shiftX + col, enemy));
                    found = GameFieldUI_1.default.i.Centre.searchPoint(this._shiftY + row, this._shiftX + col, enemy);
                    if (found) {
                        // console.log("Enemy remove failed")
                        return;
                    }
                }
            }
        }
        //如果未查找到该敌人（函数未return），将此敌人从捕捉列表中移除
        for (var i = 0; i < this._captureList.length; i += 1) {
            if (this._captureList[i] === enemy) {
                // console.log("Enemy removed");
                this._captureList.splice(i, 1);
            }
        }
    };
    return Weapon;
}());
exports.Weapon = Weapon;
},{"../../../Toybox/Database":16,"../../../Toybox/EventCentre":17,"../../../Toybox/myMath":19,"../GameFieldUI":7}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameFieldUI_1 = require("../GameFieldUI");
var Database_1 = require("../../../Toybox/Database");
var EventCentre_1 = require("../../../Toybox/EventCentre");
/**
 * 所有表现类的基类
 */
var Present = /** @class */ (function () {
    function Present(url, fuck) {
        if (fuck === void 0) { fuck = false; }
        var _this = this;
        this._actionBar = new Laya.Sprite();
        this._atkRangeOn = false;
        this._atkRange = new Laya.Sprite();
        this.dead = false; //反正我也不维护这些东西了
        this._sprite = GameFieldUI_1.default.i.Centre.CreateSprite(url);
        var fuckLoad1 = function () {
            _this._sprite.loadImage("Basic/兵蚁奔跑1.png");
            if (!_this.dead) {
                Laya.timer.once(300, _this, fuckLoad2);
            }
        };
        var fuckLoad2 = function () {
            _this._sprite.loadImage("Basic/兵蚁奔跑2.png");
            if (!_this.dead) {
                Laya.timer.once(300, _this, fuckLoad1);
            }
        };
        if (fuck) {
            fuckLoad1();
        }
        EventCentre_1.default.instance.on(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.ENEMY_DEAD, this, function (people) {
            if (people === _this._relatedPeople) {
                _this.dead = true;
            }
        });
        this._sprite.addChild(this._actionBar);
        this._sprite.parent.addChild(this._atkRange);
        this.drawHealthBar(1, 1);
        this._sprite.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);
        this._sprite.on(Laya.Event.MOUSE_OVER, this, this.onHover);
        this._sprite.on(Laya.Event.MOUSE_OUT, this, this.onMouseLeave);
    }
    Present.prototype.onMouseDown = function () {
        console.log(this._relatedPeople);
    };
    Object.defineProperty(Present.prototype, "relatedPeople", {
        set: function (people) {
            this._relatedPeople = people;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Present.prototype, "sprite", {
        get: function () {
            return this._sprite;
        },
        enumerable: true,
        configurable: true
    });
    Present.prototype.drawActionBar = function (current, atkPoint, full) {
        this._actionBar.graphics.clear();
        var percent = current / full;
        var fullLength = Database_1.default.i.UnitSize;
        this._actionBar.graphics.drawRect(-1, -19, fullLength + 2, 6, "#444444"); //背景条
        this._actionBar.graphics.drawRect(0, -18, fullLength * percent, 4, "ffff00"); //后摇条
        this._actionBar.graphics.drawRect(0, -18, fullLength * Math.min(percent, atkPoint / full), 4, "#40ff00"); //前摇条
        //画个逐渐缩小的框表示进度
        if (current <= atkPoint && current !== 0) {
            var gap = (fullLength * current / atkPoint) / 2;
            var leg = fullLength - 2 * gap;
            var reach = fullLength - gap;
            var wid = 4;
            var color = "#4da6ff";
            this._actionBar.graphics.drawRect(gap, gap, leg, wid, color);
            this._actionBar.graphics.drawRect(reach, gap, wid, leg, color);
            this._actionBar.graphics.drawRect(gap, reach, leg + 4, wid, color);
            this._actionBar.graphics.drawRect(gap, gap, wid, leg, color);
        }
    };
    Present.prototype.drawHealthBar = function (current, full) {
        var percent = current / full;
        var barLength = Database_1.default.i.UnitSize * percent;
        this._sprite.graphics.clear();
        this._sprite.graphics.drawRect(-1, -11, Database_1.default.i.UnitSize + 2, 6, "#444444"); //背景条
        this._sprite.graphics.drawRect(0, -10, barLength, 4, "#cc0000"); //血条
    };
    Present.prototype.perform = function (state) {
        this._sprite.pos(state.x, state.y);
    };
    Present.prototype.hide = function () {
        this.sprite.parent.removeChild(this._sprite);
    };
    Present.prototype.onHover = function () {
        // console.log("hover");
        EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.SHOW_RANGE, [this]);
    };
    Present.prototype.onMouseLeave = function () {
        // console.log("out");
        EventCentre_1.default.instance.event(EventCentre_1.default.FieldName.GLOBAL, EventCentre_1.default.TypeName.HIDE_RANGE, [this]);
    };
    Present.prototype.drawAttackRange = function (weapon) {
        var _this = this;
        var location = weapon.getIndexLocations();
        var unit = Database_1.default.i.UnitSize;
        // console.log(location);
        location.forEach(function (ele) {
            // console.log(ele);
            var spr = Laya.Sprite.fromImage("./Basic/visa.png");
            // console.log(spr);
            spr.size(unit, unit);
            spr.pos(ele[0] * unit, ele[1] * unit);
            _this._atkRange.addChild(spr);
            // this._atkRange.graphics.drawRect(ele[0]*unit, ele[1]*unit, unit,unit,"#0088ff");
        });
        // console.log("drawRange");
    };
    Present.prototype.clearAttackRange = function () {
        // console.log("clearRange");
        this._atkRange.parent.removeChild(this._atkRange);
        this._atkRange = new Laya.Sprite();
        this._sprite.parent.addChild(this._atkRange);
    };
    return Present;
}());
exports.default = Present;
},{"../../../Toybox/Database":16,"../../../Toybox/EventCentre":17,"../GameFieldUI":7}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var State = /** @class */ (function () {
    function State(data) {
    }
    Object.defineProperty(State.prototype, "x", {
        get: function () {
            return this._x;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "y", {
        get: function () {
            return this._y;
        },
        enumerable: true,
        configurable: true
    });
    return State;
}());
exports.default = State;
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var EventCentre_1 = require("../Toybox/EventCentre");
var Loading = /** @class */ (function (_super) {
    __extends(Loading, _super);
    function Loading() {
        var _this = _super.call(this) || this;
        var gameSet = "./Database/GameSet.json", enemyDatabase = "./Database/EnemyDatabase.json", operatorDatabase = "./Database/OperatorDatabase.json";
        //加载游戏设置，敌人数据库，干员数据库
        Laya.loader.load([gameSet, enemyDatabase, operatorDatabase], Laya.Handler.create(_this, _this.onLoaded), null, Laya.Loader.JSON);
        return _this;
    }
    Loading.prototype.onLoaded = function () {
        EventCentre_1.default.instance.event("Init", "Regular");
    };
    return Loading;
}(layaMaxUI_1.ui.LoadingSceneUI));
exports.default = Loading;
},{"../Toybox/EventCentre":17,"../ui/layaMaxUI":20}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var myMath_1 = require("./myMath");
var Box = /** @class */ (function (_super) {
    __extends(Box, _super);
    function Box() {
        return _super.call(this, 0, 0, 0, 0) || this;
    }
    /**
     * 就是……来一组（100个）随机的碰撞箱
     * @param xRange
     * @param yRange
     * @param widRange
     * @param higRange
     */
    Box.randomBoxes = function (xRange, yRange, widRange, higRange) {
        if (xRange === void 0) { xRange = 1200; }
        if (yRange === void 0) { yRange = 800; }
        if (widRange === void 0) { widRange = 300; }
        if (higRange === void 0) { higRange = 300; }
        var rad = myMath_1.default.randomInt;
        var result = [];
        for (var i = 0; i < 50; i += 1) {
            result.push(new Box());
            result[i].pos(rad(xRange), rad(yRange)).size(rad(widRange), rad(higRange));
        }
        return result;
    };
    Box.prototype.pos = function (x, y) {
        this.x = x;
        this.y = y;
        return this;
    };
    Box.prototype.size = function (width, height) {
        this.width = width;
        this.height = height;
        return this;
    };
    Box.prototype.intersects_X = function (rec) {
        if (this.x < rec.x) {
            return rec.intersects_X(this);
        }
        return (this.x >= rec.x && this.x <= rec.right) ||
            (this.right >= rec.x && this.right <= rec.right);
    };
    Box.prototype.intersects_Y = function (rec) {
        if (this.y < rec.y) {
            return rec.intersects_Y(this);
        }
        return (this.y >= rec.y && this.y <= rec.bottom) ||
            (this.bottom >= rec.y && this.bottom <= rec.bottom);
    };
    return Box;
}(Laya.Rectangle));
exports.Box = Box;
var MapNode = /** @class */ (function () {
    function MapNode(key, value) {
        this.key = key;
        this.value = value;
    }
    return MapNode;
}());
var Node = /** @class */ (function () {
    function Node(item, next) {
        this.item = item;
        this.next = next;
    }
    return Node;
}());
var Struc;
(function (Struc) {
    var LinkList = /** @class */ (function () {
        function LinkList() {
            this._head = new Node(null, null);
            this._tail = new Node(null, null);
        }
        Object.defineProperty(LinkList.prototype, "length", {
            //基础属性
            get: function () {
                var result = 0;
                var current = this._head;
                while (current.next !== null) {
                    result += 1;
                    current = current.next;
                }
                return result;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LinkList.prototype, "isEmpty", {
            get: function () {
                return this._head.next === null;
            },
            enumerable: true,
            configurable: true
        });
        //增删改查
        //增
        LinkList.prototype.push = function (item) {
            var last = new Node(item, null);
            if (this.isEmpty) {
                this._head.next = last;
                this._tail.next = last;
            }
            else {
                this._tail.next.next = last;
                this._tail.next = last;
            }
        };
        LinkList.prototype.unshift = function (item) {
            var first = new Node(item, null);
            if (this.isEmpty) {
                this._tail.next = first;
                this._head.next = first;
            }
            else {
                first.next = this._head.next.next;
                this._head.next = first;
            }
        };
        LinkList.prototype.insert = function (index, item) {
            if (index < 0 || index > this.length) { //这句不一样
                return false;
            }
            if (index === this.length) {
                this.push(item);
                return true;
            }
            var current = this._head; //这句和其他遍历是不一样的，因为要选取到选定位置的前面一格
            for (var n = 0; n < index; n += 1) {
                current = current.next;
            }
            current.next = new Node(item, current.next);
            return true;
        };
        //删
        LinkList.prototype.remove = function (index) {
            if (index < 0 || index >= this.length) {
                return null;
            }
            var current = this._head.next;
            for (var n = 0; n < index; n += 1) {
                current = current.next;
            }
            var item = current.item;
            current = null;
            return current.item;
        };
        LinkList.prototype.shift = function () {
            if (this.isEmpty) {
                return null;
            }
            var item = this._head.next.item;
            this._head.next = this._head.next.next;
            if (this.isEmpty) {
                this._tail.next = null;
            }
            return item;
        };
        //改
        LinkList.prototype.write = function (index, item) {
            if (index < 0 || index >= this.length) {
                return;
            }
            var current = this._head.next;
            for (var n = 0; n < index; n += 1) {
                current = current.next;
            }
            current.item = item;
        };
        //查
        LinkList.prototype.read = function (index) {
            if (index < 0 || index >= this.length) {
                return;
            }
            var current = this._head.next;
            for (var n = 0; n < index; n += 1) {
                current = current.next;
            }
            return current.item;
        };
        LinkList.prototype.search = function (item) {
            var result = [];
            this.foreach(function (ele, index) {
                if (ele === item) {
                    result.push(index);
                }
            });
            return result;
        };
        /**
         * 判断链表中是否存在某一元素
         * @param item
         */
        LinkList.prototype.has = function (item) {
            var current = this._head.next;
            while (current != null) {
                if (current.item == item) {
                    return true;
                }
                current = current.next;
            }
            return false;
        };
        //高阶函数
        LinkList.prototype.foreach = function (f) {
            var current = this._head.next;
            var num = 0;
            while (current !== null) {
                f(current.item, num, this);
                current = current.next;
                num += 1;
            }
        };
        /**
         * 请暂时不要使用这个函数，因为我也不知道它会不会爆炸
         * 除非你读过这个函数的源代码
         * @param f 判断元素优先级的回调函数
         * @param increase 是否升序，默认升序
         * @returns 返回一个排序的链表
         */
        LinkList.prototype.sortby = function (f, increase) {
            if (increase === void 0) { increase = true; }
            var priority = new LinkList();
            var sorted = new LinkList();
            priority.push(-0);
            sorted.push(null);
            var compare = increase ? function (a, b) { return a < b; } : function (a, b) { return a > b; };
            this.foreach(function (ele) {
                var currentPri = f(ele);
                var node = sorted._head.next;
                var priNode = priority._head.next;
                var foundPlace = false;
                while (node.next !== null) {
                    // if (currentPri < priNode.next.item) {
                    if (compare(currentPri, priNode.next.item)) {
                        node.next = new Node(ele, node.next);
                        priNode.next = new Node(currentPri, priNode.next);
                        foundPlace = true;
                        break;
                    }
                    node = node.next;
                    priNode = priNode.next;
                }
                if (!foundPlace) {
                    sorted.push(ele);
                    priority.push(currentPri);
                }
            });
            sorted.shift();
            return sorted;
        };
        return LinkList;
    }());
    Struc.LinkList = LinkList;
    var Map = /** @class */ (function () {
        function Map() {
            this._list = [];
        }
        Map.prototype.get = function (key) {
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                if (ele.key === key) {
                    return ele.value;
                }
            }
            return null;
        };
        Map.prototype.getKeyByVal = function (val) {
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                if (ele.value === val) {
                    return ele.key;
                }
            }
            return null;
        };
        Map.prototype.keyExist = function (key) {
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                if (ele.key === key) {
                    return true;
                }
            }
            return false;
        };
        Map.prototype.set = function (key, value) {
            for (var n = 0; n < this._list.length; n += 1) {
                if (this._list[n].key === key) {
                    this._list[n].value = value;
                    return false;
                }
            }
            this._list.push(new MapNode(key, value));
            return true;
        };
        Map.prototype.batchSet = function (keys, values) {
            if (keys.length !== values.length) {
                return false;
            }
            for (var n = 0; n < keys.length; n += 1) {
                this.set(keys[n], values[n]);
            }
            return true;
        };
        Map.prototype.remove = function (key) {
            var count = 0;
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                if (ele.key === key) {
                    this._list.splice(count, 1);
                    return true;
                }
                count += 1;
            }
            return false;
        };
        Object.defineProperty(Map.prototype, "length", {
            get: function () {
                return this._list.length;
            },
            enumerable: true,
            configurable: true
        });
        Map.prototype.foreach = function (f) {
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                f(ele.key, ele.value);
            }
            return;
        };
        Map.prototype.filter = function (f) {
            var result = new Map();
            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                var ele = _a[_i];
                if (f(ele.key, ele.value)) {
                    result.set(ele.key, ele.value);
                }
            }
            return result;
        };
        return Map;
    }());
    Struc.Map = Map;
    var PointerList = /** @class */ (function () {
        function PointerList(source, initPoint) {
            if (source === void 0) { source = []; }
            if (initPoint === void 0) { initPoint = 0; }
            var _this = this;
            this._list = [];
            this._pointer = 0;
            source.forEach(function (ele) {
                _this._list.push(ele);
            });
        }
        Object.defineProperty(PointerList.prototype, "exceeding", {
            get: function () {
                return this._pointer >= this._list.length || this._pointer < 0;
            },
            enumerable: true,
            configurable: true
        });
        /*
        以下注释中，把数组看作横向排列的一系列元素
        index = 0的元素在最左侧
        */
        PointerList.prototype.read = function () {
            return this._list[this._pointer];
        };
        PointerList.prototype.step = function () {
            this._pointer += 1;
            return this.read();
        };
        PointerList.prototype.to = function (place) {
            this._pointer = place;
            return this;
        };
        PointerList.prototype.push = function (data) {
            this._list.push(data);
            return this;
        };
        PointerList.prototype.set = function (index, data) {
            this._list[index] = data;
            return this;
        };
        PointerList.prototype.next = function (shift) {
            if (shift === void 0) { shift = 1; }
            //读取位于当前pointer所指的元素右边若干格的元素
            //shift默认为1，即当前pointer右边相邻的元素
            //shift为负数时获取左侧的元素
            return this._list[this._pointer + shift];
        };
        Object.defineProperty(PointerList.prototype, "length", {
            get: function () {
                return this._list.length;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointerList.prototype, "last", {
            get: function () {
                return this._list[this._list.length - 1];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointerList.prototype, "first", {
            get: function () {
                return this._list[0];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointerList.prototype, "pointer", {
            get: function () {
                return this._pointer;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointerList.prototype, "atEnd", {
            get: function () {
                return this._pointer === this._list.length - 1;
            },
            enumerable: true,
            configurable: true
        });
        return PointerList;
    }());
    Struc.PointerList = PointerList;
})(Struc = exports.Struc || (exports.Struc = {}));
},{"./myMath":19}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var gameSet_URL = "./Database/GameSet.json", enemyDatabase_URL = "./Database/EnemyDatabase.json", operatorDatabase_URL = "./Database/OperatorDatabase.json";
var Database = /** @class */ (function () {
    function Database() {
        Laya.loader.load([enemyDatabase_URL, operatorDatabase_URL, gameSet_URL], Laya.Handler.create(this, this.onLoaded));
    }
    //直接public static inst:Database = new Database(),是否可以在类装载时就创建所需的单例?
    Database.init = function () {
        this.i = new Database();
        this.init = function () { };
    };
    Database.prototype.onLoaded = function () {
        this._enemyData = Laya.loader.getRes(enemyDatabase_URL);
        this._operatorData = Laya.loader.getRes(operatorDatabase_URL);
        this._gameSet = Laya.loader.getRes(gameSet_URL);
        this._unitSize = this._gameSet["ground"].size;
        this._subUnitSize = Math.floor(this._unitSize * 4 / 5);
        console.log(this);
    };
    Database.prototype.getPath = function (pathName) {
        return this._gameSet["paths"][pathName];
    };
    Database.prototype.getEnemy = function (enemyName) {
        return this._enemyData[enemyName];
    };
    Database.prototype.getOprt = function (operatorName) {
        return this._operatorData[operatorName];
    };
    Database.prototype.getGround = function () {
        return this._gameSet["ground"];
    };
    Database.prototype.getTimetable = function () {
        return this._gameSet["timetable"];
    };
    Object.defineProperty(Database.prototype, "UnitSize", {
        get: function () {
            return this._unitSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Database.prototype, "subUnitSize", {
        get: function () {
            return this._subUnitSize;
        },
        enumerable: true,
        configurable: true
    });
    return Database;
}());
exports.default = Database;
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DataStructure_1 = require("./DataStructure");
var FieldName = /** @class */ (function () {
    function FieldName() {
        this.GLOBAL = "GLOBAL";
        this.PEOPLE = "PEOPLE";
        this.CREATE_ENEMY_SPRITE = "CREATE_ENEMY_SPRITE";
        this.COLLISION = "COLLISION";
    }
    return FieldName;
}());
var TypeName = /** @class */ (function () {
    function TypeName() {
        this.PAUSE = "PAUSE";
        this.ENEMY_DEAD = "ENEMY_DEAD";
        this.EFFECT = "EFFECT";
        this.OPRT_DEAD = "OPRT_DEAD";
        this.SHOW_RANGE = "SHOW_RANGE";
        this.HIDE_RANGE = "HIDE_RANGE";
    }
    Object.defineProperty(TypeName.prototype, "Any", {
        get: function () {
            return "Any";
        },
        enumerable: true,
        configurable: true
    });
    //生成进入事件字符串
    TypeName.prototype.IN = function (row, col) {
        return "IN" + (row + "" + col);
    };
    TypeName.prototype.OUT = function (row, col) {
        return "OUT" + (row + "" + col);
    };
    return TypeName;
}());
var EventCentre = /** @class */ (function () {
    function EventCentre() {
        this._eventFields = new DataStructure_1.Struc.Map();
    }
    EventCentre.init = function () {
        EventCentre.instance = new EventCentre();
        this.init = function () { };
    };
    ;
    EventCentre.prototype.on = function (field, type, caller, method, args) {
        if (!this._eventFields.keyExist(field)) {
            this._eventFields.set(field, new Laya.EventDispatcher());
        }
        this._eventFields.get(field).on(type, caller, method, args);
    };
    EventCentre.prototype.event = function (field, type, args) {
        if (!this._eventFields.keyExist(field)) {
            return;
        }
        this._eventFields.get(field).event(type, args);
    };
    EventCentre.prototype.once = function (field, type, caller, method, args) {
        if (!this._eventFields.keyExist(field)) {
            this._eventFields.set(field, new Laya.EventDispatcher());
        }
        this._eventFields.get(field).once(type, caller, method, args);
    };
    EventCentre.prototype.off = function (field, type, caller, func) {
        this._eventFields.get(field).off(type, caller, func);
    };
    /**
     * 区分不同的事件区域
     * 一个事件区域的事件，不能被另一个事件区域的监听器得知
     */
    EventCentre.FieldName = new FieldName();
    EventCentre.TypeName = new TypeName();
    return EventCentre;
}());
exports.default = EventCentre;
},{"./DataStructure":15}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyGlobal = /** @class */ (function () {
    function MyGlobal() {
    }
    MyGlobal.ListOfOprt = [
        "bird"
    ];
    MyGlobal.LINE_EFFECT_ON = false;
    return MyGlobal;
}());
exports.default = MyGlobal;
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 虽然列向量和行向量都就是个定长数组
 * 但我这里还是当列向量吧
 */
var ColoumVector = /** @class */ (function () {
    function ColoumVector(height) {
        this._data = [];
        this.height = height;
        while (height > 0) {
            this._data.push(0);
            height -= 1;
        }
    }
    ColoumVector.fromArray = function (arr) {
        var result = new ColoumVector(arr.length);
        arr.forEach(function (ele, index) {
            result.write(index, ele);
        });
        return result;
    };
    //加减乘除没有减除
    ColoumVector.prototype.plus = function (w) {
        if (w.height !== this.height) {
            throw new DOMException("Not funny didn't laugh", "Not Funny Exception");
        }
        var result = this.clone;
        w._data.forEach(function (ele, index) {
            result._data[index] += ele;
        });
        return result;
    };
    ColoumVector.prototype.multi = function (c) {
        var result = this.clone;
        this._data.forEach(function (ele, index) {
            result._data[index] = c * ele;
        });
        return result;
    };
    //增删改查没有增删
    ColoumVector.prototype.write = function (index, value) {
        this._data[index] = value;
    };
    ColoumVector.prototype.read = function (index) {
        return this._data[index];
    };
    ColoumVector.prototype.cover = function (source) {
        var _this = this;
        if (source.height !== this.height) {
            throw new DOMException("Not funny didn't laugh", "Not Funny Exception");
        }
        source._data.forEach(function (ele, index) {
            _this._data[index] = ele;
        });
    };
    //其他函数
    ColoumVector.prototype.print = function () {
        console.log(this._data.join("\n"));
        return this;
    };
    Object.defineProperty(ColoumVector.prototype, "clone", {
        get: function () {
            var result = new ColoumVector(this.height);
            this._data.forEach(function (ele, index) {
                result._data[index] = ele;
            });
            return result;
        },
        enumerable: true,
        configurable: true
    });
    return ColoumVector;
}());
exports.ColoumVector = ColoumVector;
/**
 * 虽然一排列向量和一列行向量都可以当矩阵
 * 但这里是一排列向量
 */
var Matrix = /** @class */ (function () {
    function Matrix(height, width) {
        this.height = height;
        this.width = width;
        this._data = [];
        for (var n = 0; n < width; n += 1) { //零向量满上
            this._data.push(new ColoumVector(height));
        }
    }
    //增删改查没有增删
    Matrix.prototype.writeColoum = function (index, coloum) {
        this._data[index].cover(coloum);
    };
    Matrix.prototype.write = function (row, col, value) {
        // console.log(row +"|" + col);
        if (row >= this.height || col >= this.width || row < 0 || col < 0) {
            throw new DOMException("Not funny didn't laugh", "Not Funny Exception");
        }
        this._data[col].write(row, value);
    };
    Matrix.prototype.readColoum = function (index) {
        return this._data[index];
    };
    Matrix.prototype.read = function (row, col) {
        return this._data[col].read(row);
    };
    //加减乘除没有减除
    Matrix.prototype.transColVector = function (v) {
        if (v.height !== this.width) {
            throw new DOMException("Not funny didn't laugh", "Not Funny Exception");
        }
        var result = new ColoumVector(this.height);
        for (var col = 0; col < this.width; col += 1) {
            result = result.plus(this._data[col].multi(v.read(col)));
        }
        return result;
    };
    //旋转
    Matrix.prototype.rotateClock = function () {
        var result = new Matrix(this.width, this.height);
        for (var down = 0; down < result.height; down += 1) {
            for (var right = 0; right < result.width; right += 1) {
                var from = this.read(this.height - 1 - right, down);
                result.write(down, right, from);
            }
        }
        return result;
    };
    //其他函数
    Matrix.prototype.str = function () {
        var result = "";
        for (var row = 0; row < this.height; row += 1) {
            for (var col = 0; col < this.width; col += 1) {
                result += this._data[col].read(row) + "\t";
            }
            result += "\n";
        }
        return result;
    };
    Matrix.prototype.print = function () {
        console.log(this.str());
    };
    return Matrix;
}());
exports.Matrix = Matrix;
var MyMath = /** @class */ (function () {
    function MyMath() {
    }
    //Laya模块
    /**
     * 判断两个矩形对象是否重叠
     * @param rec0 一个矩形
     * @param rec1 另一个矩形
     */
    MyMath.overlap_Rec = function (rec0, rec1) {
        return this.overlap_2d(rec0.x, rec1.x, rec0.width, rec1.width) &&
            this.overlap_2d(rec0.y, rec1.y, rec0.height, rec1.height);
    };
    /**
     * 在指定绘图节点中绘制矩形
     * @param spr 绘图节点
     * @param rec 矩形
     * @param color 颜色
     */
    MyMath.drawRec = function (spr, rec, color) {
        if (color === void 0) { color = "#ffffff"; }
        spr.graphics.drawRect(rec.x, rec.y, rec.width, rec.height, color, "#888888", 2);
    };
    //Laya模块
    /**
     * 判断在数轴上两条线是否重叠
     * @param point0 线段0的左侧端点
     * @param point1 线段1的左侧端点
     * @param length0 线段0的长度
     * @param length1 线段1的长度
     */
    MyMath.overlap_2d = function (point0, point1, length0, length1) {
        return MyMath.include_2d(point0, length0, point1) ||
            MyMath.include_2d(point0, length0, point1 + length1);
    };
    /**
     * 判断在数轴上一个点是否处于一条线段上
     * @param locate 线段左侧端点位置
     * @param length 线段长度
     * @param dot 点位
     */
    MyMath.include_2d = function (locate, length, dot) {
        return dot >= locate && dot <= locate + length;
    };
    /**
     * @param upLimit 上界
     * @param loLimit 下界
     * @returns 上界与下界之间的随机整数
     */
    MyMath.randomInt = function (upLimit, loLimit) {
        if (loLimit === void 0) { loLimit = 0; }
        return Math.round(Math.random() * (upLimit - loLimit) + loLimit);
    };
    /**
     *
     * @param front 原数字
     * @param shift 增加量
     * @param end 增加上限（若增加量为负，则为下限）
     *
     */
    MyMath.moveTo = function (front, shift, end) {
        var result = front + shift;
        if (shift > 0 && result > end) {
            result = end;
        }
        else if (shift < 0 && result < end) {
            result = end;
        }
        return result;
    };
    /**
     * 冒泡排序
     * 注意这个算法会直接修改原数组
     * @param source 原数组
     * @param value 优先值取值函数
     * @param increase 是否升序（默认升序）
     */
    MyMath.bubbleSort = function (source, value, increase) {
        if (increase === void 0) { increase = true; }
        // let time = 0;
        var complete = true;
        for (var n = source.length - 1; n > 0; n -= 1) {
            complete = true;
            for (var m = 0; m < n; m += 1) {
                var cur = value(source[m]);
                var next = value(source[m + 1]);
                if (increase ? (cur > next) : (cur < next)) {
                    var store = source[m];
                    source[m] = source[m + 1];
                    source[m + 1] = store;
                    complete = false;
                }
                // time += 1;
            }
            if (complete) {
                break;
            }
        }
    };
    return MyMath;
}());
exports.default = MyMath;
},{}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var GameSceneUI = /** @class */ (function (_super) {
        __extends(GameSceneUI, _super);
        function GameSceneUI() {
            return _super.call(this) || this;
        }
        GameSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("GameScene");
        };
        return GameSceneUI;
    }(Scene));
    ui.GameSceneUI = GameSceneUI;
    REG("ui.GameSceneUI", GameSceneUI);
    var LoadingSceneUI = /** @class */ (function (_super) {
        __extends(LoadingSceneUI, _super);
        function LoadingSceneUI() {
            return _super.call(this) || this;
        }
        LoadingSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("LoadingScene");
        };
        return LoadingSceneUI;
    }(Scene));
    ui.LoadingSceneUI = LoadingSceneUI;
    REG("ui.LoadingSceneUI", LoadingSceneUI);
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xheWEvTGF5YUFpcklERS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL1NjZW5lTWFuYWdlci50cyIsInNyYy9TY2VuZVNjcmlwdC9HYW1lLnRzIiwic3JjL1NjZW5lU2NyaXB0L0dhbWVPYmovRG9jdG9yLnRzIiwic3JjL1NjZW5lU2NyaXB0L0dhbWVPYmovRW5lbXlDZW50cmUudHMiLCJzcmMvU2NlbmVTY3JpcHQvR2FtZU9iai9HYW1lRmllbGRVSS50cyIsInNyYy9TY2VuZVNjcmlwdC9HYW1lT2JqL09wcnRDZW50cmUudHMiLCJzcmMvU2NlbmVTY3JpcHQvR2FtZU9iai9QZW9wbGVfc3R1ZmYvRW5lbXkudHMiLCJzcmMvU2NlbmVTY3JpcHQvR2FtZU9iai9QZW9wbGVfc3R1ZmYvT3BydC50cyIsInNyYy9TY2VuZVNjcmlwdC9HYW1lT2JqL1Blb3BsZV9zdHVmZi9QZW9wbGUudHMiLCJzcmMvU2NlbmVTY3JpcHQvR2FtZU9iai9QZW9wbGVfc3R1ZmYvUHJlc2VudC50cyIsInNyYy9TY2VuZVNjcmlwdC9HYW1lT2JqL1Blb3BsZV9zdHVmZi9TdGF0ZS50cyIsInNyYy9TY2VuZVNjcmlwdC9Mb2FkaW5nLnRzIiwic3JjL1RveWJveC9EYXRhU3RydWN0dXJlLnRzIiwic3JjL1RveWJveC9EYXRhYmFzZS50cyIsInNyYy9Ub3lib3gvRXZlbnRDZW50cmUudHMiLCJzcmMvVG95Ym94L0dsb2JhbC50cyIsInNyYy9Ub3lib3gvbXlNYXRoLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMkNBQXFDO0FBQ3JDLGlEQUEyQztBQUMzQzs7RUFFRTtBQUNG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QVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoQyxDQUFDO1FBQ0wsa0JBQUM7SUFBRCxDQVJBLEFBUUMsQ0FSZ0MsS0FBSyxHQVFyQztJQVJZLGNBQVcsY0FRdkIsQ0FBQTtJQUNELEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxXQUFXLENBQUMsQ0FBQztJQUNsQztRQUFvQyxrQ0FBSztRQUNyQzttQkFBZSxpQkFBTztRQUFBLENBQUM7UUFDdkIsdUNBQWMsR0FBZDtZQUNJLGlCQUFNLGNBQWMsV0FBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkMsQ0FBQztRQUNMLHFCQUFDO0lBQUQsQ0FOQSxBQU1DLENBTm1DLEtBQUssR0FNeEM7SUFOWSxpQkFBYyxpQkFNMUIsQ0FBQTtJQUNELEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxjQUFjLENBQUMsQ0FBQztBQUM1QyxDQUFDLEVBbkJhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQW1CZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vU2NlbmVTY3JpcHQvR2FtZVwiXG5pbXBvcnQgTG9hZGluZyBmcm9tIFwiLi9TY2VuZVNjcmlwdC9Mb2FkaW5nXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTE4MDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj05MDA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cIm5vc2NhbGVcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkxvYWRpbmdTY2VuZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwiU2NlbmVTY3JpcHQvR2FtZS50c1wiLEdhbWUpO1xuICAgICAgICByZWcoXCJTY2VuZVNjcmlwdC9Mb2FkaW5nLnRzXCIsTG9hZGluZyk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgU2NlbmVNYW5hZ2VyIGZyb20gXCIuL1NjZW5lTWFuYWdlclwiO1xyXG5cclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRuZXcgU2NlbmVNYW5hZ2VyKCk7XHJcblx0XHQvLyBHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBFdmVudENlbnRyZSBmcm9tIFwiLi9Ub3lib3gvRXZlbnRDZW50cmVcIjtcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCIuL1RveWJveC9EYXRhYmFzZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmVNYW5hZ2Vye1xyXG4gICAgcHJpdmF0ZSBsb2FkaW5nU2NlbmU6c3RyaW5nID0gXCJMb2FkaW5nU2NlbmUuc2NlbmVcIjtcclxuICAgIHByaXZhdGUgZ2FtZVNjZW5lOnN0cmluZyA9IFwiR2FtZVNjZW5lLnNjZW5lXCI7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluaXQoKTtcclxuICAgICAgICBEYXRhYmFzZS5pbml0KCk7XHJcbiAgICAgICAgLy/liJ3lp4vljJbkuovku7bkuK3lv4PlkozmlbDmja7lupNcclxuICAgICAgICBcclxuICAgICAgICBMYXlhLlNjZW5lLm9wZW4odGhpcy5sb2FkaW5nU2NlbmUpOy8v5omT5byA5Yqg6L295Zy65pmvXHJcblxyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uY2UoXCJJbml0XCIsIFwiUmVndWxhclwiLCB0aGlzLCAoKT0+ey8v55uR5ZCs5Yqg6L295a6M5q+V5LqL5Lu2XHJcbiAgICAgICAgICAgIExheWEuU2NlbmUub3Blbih0aGlzLmdhbWVTY2VuZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi4vVG95Ym94L0RhdGFiYXNlXCI7XHJcbmltcG9ydCBFdmVudENlbnRyZSBmcm9tIFwiLi4vVG95Ym94L0V2ZW50Q2VudHJlXCI7XHJcbmltcG9ydCBHYW1lRmllbGRTY2VuZVVJIGZyb20gXCIuL0dhbWVPYmovR2FtZUZpZWxkVUlcIjtcclxuaW1wb3J0IEdhbWVGaWVsZFVJIGZyb20gXCIuL0dhbWVPYmovR2FtZUZpZWxkVUlcIjtcclxuaW1wb3J0IEVuZW15Q2VudHJlIGZyb20gXCIuL0dhbWVPYmovRW5lbXlDZW50cmVcIjtcclxuaW1wb3J0IHsgU3RydWMgfSBmcm9tIFwiLi4vVG95Ym94L0RhdGFTdHJ1Y3R1cmVcIjtcclxuaW1wb3J0IE15TWF0aCwgeyBDb2xvdW1WZWN0b3IsIE1hdHJpeCB9IGZyb20gXCIuLi9Ub3lib3gvbXlNYXRoXCI7XHJcbmltcG9ydCBNYXNzRWZmZWN0LCB7IENvbGlCb3gsIENvbGlQYXJlTGlzdCB9IGZyb20gXCIuLi9Ub3lib3gvTWFzc0VmZmVjdFwiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4vR2FtZU9iai9QZW9wbGVfc3R1ZmYvRW5lbXlcIjtcclxuaW1wb3J0IE15R2xvYmFsIGZyb20gXCIuLi9Ub3lib3gvR2xvYmFsXCI7XHJcbmltcG9ydCBPcHJ0Q2VudHJlIGZyb20gXCIuL0dhbWVPYmovT3BydENlbnRyZVwiO1xyXG5pbXBvcnQgeyBXZWFwb24gfSBmcm9tIFwiLi9HYW1lT2JqL1Blb3BsZV9zdHVmZi9QZW9wbGVcIjtcclxuaW1wb3J0IERvY3RvciBmcm9tIFwiLi9HYW1lT2JqL0RvY3RvclwiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIGV4dGVuZHMgdWkuR2FtZVNjZW5lVUl7XHJcbiAgICBwdWJsaWMgc3RhdGljIFVJU2V0OkxheWEuU3ByaXRlO1xyXG4gICAgcHVibGljIHN0YXRpYyBzdGFnZTpMYXlhLlN0YWdlO1xyXG4gICAgcHJpdmF0ZSBfcGF1c2U6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBcclxuICAgICAgICBEb2N0b3IuaW5zdGFuY2UubW92ZWluKHRoaXMuVUlTZXQpO1xyXG4gICAgICAgIC8vIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCAoKT0+e2NvbnNvbGUubG9nKFwiaGlcIil9KTtcclxuICAgICAgICAvLyBsZXQgbTpNYXRyaXggPSBuZXcgTWF0cml4KDUsNik7XHJcbiAgICAgICAgLy8gbS53cml0ZSgwLDAsMSk7XHJcbiAgICAgICAgLy8gbS5wcmludCgpO1xyXG4gICAgICAgIC8vIG0ucm90YXRlQ2xvY2soKS5wcmludCgpO1xyXG4gICAgICAgIC8vIG0ucm90YXRlQ2xvY2soKS5yb3RhdGVDbG9jaygpLnByaW50KCk7XHJcbiAgICAgICAgLy8gbS5yb3RhdGVDbG9jaygpLnJvdGF0ZUNsb2NrKCkucm90YXRlQ2xvY2soKS5wcmludCgpO1xyXG4gICAgICAgIC8vIGlmIChNYXRoLnJhbmRvbSgpID4gLTEpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBcclxuICAgICAgICBHYW1lLlVJU2V0ID0gdGhpcy5VSVNldDtcclxuICAgICAgICBHYW1lLnN0YWdlID0gdGhpcy5zdGFnZTtcclxuXHJcbiAgICAgICAgbGV0IHNwcjpMYXlhLlNwcml0ZSA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuVUlTZXQuYWRkQ2hpbGQoc3ByKTtcclxuICAgICAgICBNeUdsb2JhbC5VSVNldF9zdWIgPSBzcHI7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIEdhbWVGaWVsZFVJLmluaXQodGhpcy5zY2VuZSk7Ly91aeWIneWni+WMllxyXG4gICAgICAgIE9wcnRDZW50cmUuaW5pdCgpOy8v5bmy5ZGY566h55CG57G75Yid5aeL5YyWXHJcbiAgICAgICAgRW5lbXlDZW50cmUuaW5pdCgpOy8v5pWM5Lq6566h55CG57G75Yid5aeL5YyWXHJcbiAgICAgICAgLy8gTWFzc0VmZmVjdC5pbml0KHRoaXMpOy8v54mp55CG57G75Yid5aeL5YyWXHJcbiAgICAgICAgLy8gTWFzc0VmZmVjdC5pLnRlc3QoKTsvL+eJqeeQhuexu+i/m+ihjOa1i+ivlSDlj6/np7vpmaRcclxuICAgICAgICBcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5QQVVTRSwgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXVzZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGF1c2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5wYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgTGF5YS50aW1lci5sb29wKDE3LHRoaXMsdGhpcy51cGRhdGUpOy8v5byA5aeL5bin5b6q546vXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdGltZTpudW1iZXIgPSAwO1xyXG4gICAgLy/ov5nkuKrlj5jph4/ku6PooajmuLjmiI/ku47lvIDlp4vliLDnjrDlnKjov5DooYzkuoblpJrlsJHluKdcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6dm9pZHtcclxuICAgICAgICBcclxuICAgICAgICBFbmVteUNlbnRyZS5pLnVwZGF0ZSh0aGlzLl90aW1lKTtcclxuICAgICAgICBPcHJ0Q2VudHJlLmkudXBkYXRlKCk7XHJcbiAgICAgICAgR2FtZUZpZWxkVUkuaS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLl90aW1lICs9IDE7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERvY3RvcntcclxuICAgIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2U6RG9jdG9yID0gbmV3IERvY3RvcigpO1xyXG5cclxuICAgIHByaXZhdGUgX3Nwcml0ZTpMYXlhLlNwcml0ZSA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgcHJpdmF0ZSBfbGlmZTpudW1iZXIgPSAyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdmVpbihzcHI6TGF5YS5TcHJpdGUpOnZvaWR7XHJcbiAgICAgICAgc3ByLmFkZENoaWxkKHRoaXMuX3Nwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLnBvcygwLDU3MCk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmZpbGxUZXh0KFwi5LuO5bem5L6n54uX5aS05Lq65aS05YOP5bCG54uX5aS05ouW5ou95Yiw5Zy65Zyw5LiK77yM5p2+5byA6byg5qCH5bm25YaN5qyh5Y2V5Ye76byg5qCH6YCJ5oup5pa55ZCR5Lul6YOo572yXCIsIDAsMCxcIjIwcHggQXJpYWxcIixcIiNmZmZmZmZcIixcImxlZnRcIik7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmZpbGxUZXh0KFwi6L+Z5LiqZGVtb+WFtuWunuS4jeS9hueugOmZi+i/mOacieaMuuWkmmJ1Z+eahFwiLCAwLDIyLFwiMjBweCBBcmlhbFwiLFwiI2ZmZmZmZlwiLFwibGVmdFwiKTtcclxuICAgICAgICB0aGlzLl9zcHJpdGUuZ3JhcGhpY3MuZmlsbFRleHQoXCLkvYbmiJHlrp7lnKjmmK/ogp3kuI3liqjkuobvvIzlhYjlj5HkuKrlpKfmpoLlkKfjgILpobnnm67ku6PnoIHkuZ/ln7rmnKzkuIrooqvns5/ouYvlvpfml6Dms5Xnu7TmiqTkuobvvIjlj43mraPkuZ/opoHph43mnoTvvIlcIiwgMCw0NCxcIjIwcHggQXJpYWxcIixcIiNmZmZmZmZcIixcImxlZnRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vdGUoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIGlmICh0aGlzLl9saWZlID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmZpbGxUZXh0KFwi5Y2a5aOrIFvmiYvmkpXnrbflrZBdIOaKgOiDveeCueWJqeS9mTpcIiArIHRoaXMuX2xpZmUsIDAsMCxcIjIwcHggQXJpYWxcIixcIiNmZmZmZmZcIixcImxlZnRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmZpbGxUZXh0KFwi56235a2Q5ZCD5o6J5LqG5a6B55qE6ISR5a2QXCIsIDAsMCxcIjIwcHggQXJpYWxcIixcIiNmZjAwMDBcIixcImxlZnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkYW1hZ2UoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX2xpZmUgLT0gMTtcclxuICAgICAgICB0aGlzLm5vdGUoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBFbmVteSBmcm9tIFwiLi9QZW9wbGVfc3R1ZmYvRW5lbXlcIjtcclxuaW1wb3J0IHsgU3RydWMgfSBmcm9tIFwiLi4vLi4vVG95Ym94L0RhdGFTdHJ1Y3R1cmVcIjtcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCIuLi8uLi9Ub3lib3gvRGF0YWJhc2VcIjtcclxuaW1wb3J0IEV2ZW50Q2VudHJlIGZyb20gXCIuLi8uLi9Ub3lib3gvRXZlbnRDZW50cmVcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteUNlbnRyZXtcclxuICAgIHB1YmxpYyBzdGF0aWMgaTpFbmVteUNlbnRyZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5pID0gbmV3IEVuZW15Q2VudHJlKCk7XHJcbiAgICAgICAgdGhpcy5pbml0ID0gKCk9Pnt9O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuX2VuZW15R3JvdXAgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvL1N0YXJ0XHJcbiAgICAgICAgLy/liJ3lp4vljJbml7bpl7TovbRcclxuICAgICAgICBsZXQgdGltZURhdGE6YW55ID0gRGF0YWJhc2UuaS5nZXRUaW1ldGFibGUoKTtcclxuICAgICAgICB0aGlzLl90aW1ldGFibGUgPSBuZXcgU3RydWMuUG9pbnRlckxpc3Q8YW55Pih0aW1lRGF0YSk7XHJcbiAgICAgICAgLy/liJ3lp4vljJbml7bpl7TovbRcclxuICAgICAgICAvL0VuZFxyXG5cclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5FTkVNWV9ERUFELCB0aGlzLCB0aGlzLm9uRW5lbXlEZWFkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9lbmVteUdyb3VwOkVuZW15W107XHJcbiAgICBwcml2YXRlIF90aW1ldGFibGU6U3RydWMuUG9pbnRlckxpc3Q8YW55PjtcclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUodGltZTpudW1iZXIpOnZvaWR7XHJcbiAgICAgICAgLypcclxuICAgICAgICDov5nkuKrlh73mlbDmmK9FbmVteUNlbnRyZeexu+avj+W4p+aJgOWBmueahOS6i+aDhVxyXG4gICAgICAgIHRpbWXmmK/mraTmrKHmuLjmiI/oh6rmuLjmiI/lvIDlp4voh7Pov5nkuKrlh73mlbDov5DooYzkuYvml7blt7Lnu4/nu4/ov4fnmoTluKfmlbBcclxuICAgICAgICDlnKjpooTmnJ/kuK3vvIzov5nkuKrmlbDlgLzkvJrku44w5byA5aeL77yM5q+P5binKzFcclxuICAgICAgICAqL1xyXG5cclxuICAgICAgICAvLzIwMTkvMTEvMThcclxuICAgICAgICAvL+S4i+mdoui/meS4quWIpOaWreadoeS7tueahD095pS55oiQ5LqGPj0s6L+Y5rKh5rWL6K+V6L+H77yM6K6w5b6X5rWL6K+VXHJcbiAgICAgICAgaWYgKCF0aGlzLl90aW1ldGFibGUuZXhjZWVkaW5nICYmIHRpbWUgPj0gdGhpcy5fdGltZXRhYmxlLnJlYWQoKVtcInRpbWVcIl0pIHtcclxuICAgICAgICAgICAgLy/nqbrlgLzmo4Dmn6UgJiYg5b2T5YmN5pe26Ze05LiO5pe26Ze06KGo5LiK55qE5pe26Ze05LiA6Ie0XHJcbiAgICAgICAgICAgIGxldCBkYXRhOmFueSA9IHRoaXMuX3RpbWV0YWJsZS5yZWFkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRW5lbXkoZGF0YVtcInR5cGVcIl0sIGRhdGFbXCJwYXRoXCJdKTtcclxuICAgICAgICAgICAgdGhpcy5fdGltZXRhYmxlLnN0ZXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fZW5lbXlHcm91cC5mb3JFYWNoKGVuZW15PT57Ly/mr4/kuKpFbmVteeaMqOS4quWBmuS6i1xyXG4gICAgICAgICAgICBlbmVteS51cGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uRW5lbXlEZWFkKGVuZW15OkVuZW15KTp2b2lke1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZW5lbXlHcm91cC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5lbXlHcm91cFtpXSA9PT0gZW5lbXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VuZW15R3JvdXAuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlRW5lbXkoZW5lbXlJRDpzdHJpbmcsIHBhdGhJRDpzdHJpbmcpOnZvaWR7XHJcbiAgICAgICAgbGV0IGVuZW15OkVuZW15ID0gbmV3IEVuZW15KGVuZW15SUQsIHBhdGhJRCk7XHJcbiAgICAgICAgdGhpcy5fZW5lbXlHcm91cC5wdXNoKGVuZW15KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgRGF0YWJhc2UgZnJvbSBcIi4uLy4uL1RveWJveC9EYXRhYmFzZVwiO1xyXG5pbXBvcnQgRXZlbnRDZW50cmUgZnJvbSBcIi4uLy4uL1RveWJveC9FdmVudENlbnRyZVwiO1xyXG5pbXBvcnQgeyBTdHJ1YywgQm94IH0gZnJvbSBcIi4uLy4uL1RveWJveC9EYXRhU3RydWN0dXJlXCI7XHJcbmltcG9ydCBNeU1hdGggZnJvbSBcIi4uLy4uL1RveWJveC9teU1hdGhcIjtcclxuaW1wb3J0IFBlb3BsZSwgeyBXZWFwb24gfSBmcm9tIFwiLi9QZW9wbGVfc3R1ZmYvUGVvcGxlXCI7XHJcbmltcG9ydCBNeUdsb2JhbCBmcm9tIFwiLi4vLi4vVG95Ym94L0dsb2JhbFwiO1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi4vR2FtZVwiO1xyXG5pbXBvcnQgT3BydENlbnRyZSBmcm9tIFwiLi9PcHJ0Q2VudHJlXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi9QZW9wbGVfc3R1ZmYvRW5lbXlcIjtcclxuaW1wb3J0IE9wcnQgZnJvbSBcIi4vUGVvcGxlX3N0dWZmL09wcnRcIjtcclxuaW1wb3J0IFByZXNlbnQgZnJvbSBcIi4vUGVvcGxlX3N0dWZmL1ByZXNlbnRcIjtcclxuXHJcbmNsYXNzIFRlbXBQc3QgZXh0ZW5kcyBQcmVzZW50e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcihudWxsKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmVIZWFsdGhCYXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5bmy5ZGY5qCP55qE5LiA5Liq5Y2V5YWDXHJcbiAqL1xyXG5jbGFzcyBPcHJ0UHJvZmlsZXtcclxuICAgIHB1YmxpYyBzcHJpdGU6TGF5YS5TcHJpdGU7XHJcbiAgICBwdWJsaWMgaWQ6c3RyaW5nO1xyXG4gICAgcHVibGljIGltZzpzdHJpbmc7ICAgICAgICAgIC8v5Zu+54mH6Lev5b6EXHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6c3RyaW5nKXtcclxuICAgICAgICAvL+iOt+WPlui1hOaWmVxyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICBsZXQgZGF0YTphbnkgPSBEYXRhYmFzZS5pLmdldE9wcnQoaWQpO1xyXG4gICAgICAgIHRoaXMuaW1nID0gZGF0YVtcImltZ1wiXTtcclxuXHJcbiAgICAgICAgLy/liJvlu7pzcHJpdGVcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IExheWEuU3ByaXRlLmZyb21JbWFnZShkYXRhW1wiaW1nXCJdKTtcclxuICAgICAgICAvL+ebkeWQrOeCueWHu+S6i+S7tlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5vbk1vdXNlRG93bik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Nb3VzZURvd24oKTp2b2lke1xyXG4gICAgICAgIGxldCBzcHI6TGF5YS5TcHJpdGUgPSBMYXlhLlNwcml0ZS5mcm9tSW1hZ2UodGhpcy5pbWcpOy8v5Yib5bu65bm26LCD5pW05ouW5Yqo5Zu+5qCHXHJcbiAgICAgICAgc3ByLnNpemUoRGF0YWJhc2UuaS5Vbml0U2l6ZSwgRGF0YWJhc2UuaS5Vbml0U2l6ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/nu5jliLbmlrnlnZdcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcHN0OlRlbXBQc3QgPSBuZXcgVGVtcFBzdCgpO1xyXG4gICAgICAgIHBzdC5yZW1vdmVIZWFsdGhCYXIoKTtcclxuICAgIFxyXG4gICAgICAgIC8vIGxldCB3ZWFwb246V2VhcG9uID0gbmV3IFdlYXBvbigyLDAsNSk7XHJcbiAgICAgICAgLy8gcHN0LmRyYXdBdHRhY2tSYW5nZSh3ZWFwb24pO1xyXG4gICAgICAgIC8v57uY5Yi25pa55Z2XXHJcblxyXG5cclxuICAgICAgICBHYW1lRmllbGRVSS5pLlVJU2V0LmFkZENoaWxkKHNwcik7XHJcblxyXG5cclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoMjAsIHRoaXMsIHRoaXMub25Mb29wLCBbc3ByLCBHYW1lRmllbGRVSS5pLkNlbnRyZS5yYW5nZSwgcHN0XSk7Ly/mi5bliqjlm77moIflvIDlp4vot5/pmo/pvKDmoIdcclxuICAgICAgICB0aGlzLnNwcml0ZS5zdGFnZS5vbmNlKExheWEuRXZlbnQuTU9VU0VfVVAsIHRoaXMsIHRoaXMub25Nb3VzZVVwLCBbc3ByLCBHYW1lRmllbGRVSS5pLkNlbnRyZS5yYW5nZSwgcHN0XSk7Ly/nm5HlkKzpvKDmoIfmiqzotbfkuovku7ZcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTG9vcChzcHI6TGF5YS5TcHJpdGUsIHJhbmdlOkJveCwgcHN0OlRlbXBQc3QpOnZvaWR7XHJcbiAgICAgICAgbGV0IHg6bnVtYmVyID0gR2FtZS5VSVNldC5tb3VzZVg7XHJcbiAgICAgICAgbGV0IHk6bnVtYmVyID0gR2FtZS5VSVNldC5tb3VzZVk7XHJcbiAgICAgICAgaWYgKCh4PjAgJiYgeDxyYW5nZS5yaWdodCkgJiYgKHk+MCYmeTxyYW5nZS5ib3R0b20pKSB7XHJcbiAgICAgICAgICAgIGxldCBzaXplOm51bWJlciA9IERhdGFiYXNlLmkuVW5pdFNpemU7XHJcbiAgICAgICAgICAgIHggPSB4LXglc2l6ZTtcclxuICAgICAgICAgICAgeSA9IHkteSVzaXplO1xyXG4gICAgICAgICAgICBzcHIucG9zKHgsIHkpO1xyXG4gICAgICAgICAgICBwc3QuY2xlYXJBdHRhY2tSYW5nZSgpO1xyXG4gICAgICAgICAgICBwc3QuZHJhd0F0dGFja1JhbmdlKG5ldyBXZWFwb24oTWF0aC5mbG9vcih5L3NpemUpLE1hdGguZmxvb3IoeC9zaXplKSw1KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3ByLnBvcyh4IC0gc3ByLndpZHRoLzIsIHkgLSBzcHIuaGVpZ2h0LzIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Nb3VzZVVwKHNwcjpMYXlhLlNwcml0ZSwgcmFuZ2U6Qm94LCBwc3Q6VGVtcFBzdCk6dm9pZHtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMub25Mb29wKTsvL+WBnOatoui3n+maj+W+queOr1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB4Om51bWJlciA9IEdhbWUuVUlTZXQubW91c2VYO1xyXG4gICAgICAgIGxldCB5Om51bWJlciA9IEdhbWUuVUlTZXQubW91c2VZO1xyXG4gICAgICAgIGlmICgoeD4wICYmIHg8cmFuZ2UucmlnaHQpICYmICh5PjAmJnk8cmFuZ2UuYm90dG9tKSkgey8v6byg5qCH5aSE5LqO5Zyw5Zu+6IyD5Zu05YaFXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgbGV0IHNpemU6bnVtYmVyID0gRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgICAgICAgICAgeCA9ICh4LXglc2l6ZSkvc2l6ZTsvL+iuoeeul+WNleS9jeS9jee9rlxyXG4gICAgICAgICAgICB5ID0gKHkteSVzaXplKS9zaXplO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeE1hbjpudW1iZXIgPSB4KnNpemU7XHJcbiAgICAgICAgICAgIGNvbnN0IHlFczpudW1iZXIgPSB5KnNpemU7XHJcblxyXG4gICAgICAgICAgICAvL0xvb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vcFxyXG4gICAgICAgICAgICBsZXQgZGlyTnVtOm51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Q6RnVuY3Rpb24gPSAoKT0+e1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRYID0gR2FtZS5VSVNldC5tb3VzZVg7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFkgPSBHYW1lLlVJU2V0Lm1vdXNlWTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WCA+IHhNYW4gJiYgY3VycmVudFkgPiB5RXMgJiYgY3VycmVudFkgPCB5RXMgKyBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyaWdodFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHBzdC5jbGVhckF0dGFja1JhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHN0LmRyYXdBdHRhY2tSYW5nZShuZXcgV2VhcG9uKHkseCw1KSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRYIDwgeE1hbiAmJiBjdXJyZW50WSA+IHlFcyAmJiBjdXJyZW50WSA8IHlFcyArIHNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyTnVtID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBwc3QuY2xlYXJBdHRhY2tSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBzdC5kcmF3QXR0YWNrUmFuZ2UobmV3IFdlYXBvbih5LHgsNSkucm90YXRlQ2xvY2soKS5yb3RhdGVDbG9jaygpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFkgPCB5RXMgJiYgY3VycmVudFggPiB4TWFuICYmIGN1cnJlbnRYIDwgeE1hbiArIHNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpck51bSA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgcHN0LmNsZWFyQXR0YWNrUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBwc3QuZHJhd0F0dGFja1JhbmdlKG5ldyBXZWFwb24oeSx4LDUpLnJvdGF0ZUNsb2NrKCkucm90YXRlQ2xvY2soKS5yb3RhdGVDbG9jaygpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFkgPiB5RXMgJiYgY3VycmVudFggPiB4TWFuICYmIGN1cnJlbnRYIDwgeE1hbiArIHNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImRvd25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyTnVtID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBwc3QuY2xlYXJBdHRhY2tSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBzdC5kcmF3QXR0YWNrUmFuZ2UobmV3IFdlYXBvbih5LHgsNSkucm90YXRlQ2xvY2soKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgTGF5YS50aW1lci5sb29wKDIwLCB0aGlzLCBkaXJlY3QpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9uY2UoTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgcHN0LmNsZWFyQXR0YWNrUmFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCBkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgT3BydENlbnRyZS5pLmNyZWF0ZU9wcnQoeSwgeCwgdGhpcy5pZCwgZGlyTnVtKTtcclxuICAgICAgICAgICAgICAgIHNwci5kZXN0cm95KCk7Ly/mtojpmaTmi5bliqjlm77moIdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7Ly/pvKDmoIflpITkuo7lnLDlm77ojIPlm7TlpJZcclxuICAgICAgICAgICAgLy/lhbblrp7msqHku4DkuYjopoHlgZrnmoRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkvqfovrnmoI9VSeexu1xyXG4gKiDkuZ/lsLHmmK/lubLlkZjmoI9cclxuICovXHJcbmNsYXNzIFNpZGVGaWVsZHtcclxuICAgIHByaXZhdGUgX29yaWdpbjpMYXlhLlNwcml0ZTsvL+atpOWMuuWdl+eahOWdkOagh+WOn+eCuVxyXG4gICAgcHJpdmF0ZSBfcGl4V2lkdGg6bnVtYmVyID0gMTAwOyAgICAgLy/lrr3luqZcclxuICAgIHByaXZhdGUgX3BpeEhlaWdodDpudW1iZXIgPSA1MDA7ICAgIC8v6auY5bqmXHJcbiAgICBwcml2YXRlIF9wcm9maWxlczpPcHJ0UHJvZmlsZVtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6TGF5YS5TY2VuZSwgcmlnaHRTaGlmdDpudW1iZXIpe1xyXG4gICAgICAgIC8v6I635Y+W5Y6f54K5XHJcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gc2NlbmUuZ2V0Q2hpbGRCeU5hbWUoXCJTaWRlQmFyXCIpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIC8v56e75Yqo5Y6f54K55YiwQ2VudHJlRmllbGTnmoTlj7PovrkzMHB45aSEXHJcbiAgICAgICAgdGhpcy5fb3JpZ2luLnBvcyhyaWdodFNoaWZ0LCB0aGlzLl9vcmlnaW4ueSk7XHJcbiAgICAgICAgLy/nu5jliLbmlrnmoYZcclxuICAgICAgICB0aGlzLl9vcmlnaW4uZ3JhcGhpY3MuZHJhd1JlY3QoMCwwLDEwMCw1MDAsXCIjZmExNTY2XCIpO1xyXG4gICAgICAgIC8v5qC55o2u5Y+v6YCJ5bmy5ZGY5YiX6KGo55Sf5oiQ5b6F6YCJ5bmy5ZGY5qCPXHJcbiAgICAgICAgbGV0IGxpc3Q6c3RyaW5nW10gPSBNeUdsb2JhbC5MaXN0T2ZPcHJ0Oy8vR2xvYmFsLkxpc3RPZk9wcnTku4XlnKjlvIDlj5Hml7bph4fnlKjvvIzlkI7nu63lsIbkvJrpgJrov4fliLblrprmoIflh4bop4TlrprlubLlkZjliJfooajnmoTmnaXmupBcclxuXHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChlbGUsIGluZGV4KT0+e1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudE9wcnQgPSBuZXcgT3BydFByb2ZpbGUoZWxlKTtcclxuICAgICAgICAgICAgY3VycmVudE9wcnQuc3ByaXRlLnBvcygwLDgwKmluZGV4KS5zaXplKDgwLDgwKTtcclxuICAgICAgICAgICAgdGhpcy5fb3JpZ2luLmFkZENoaWxkKGN1cnJlbnRPcHJ0LnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2ZpbGVzW2luZGV4XSA9IGN1cnJlbnRPcHJ0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDkuK3lpK7ljLrln59VSeexu1xyXG4gKi9cclxuY2xhc3MgQ2VudHJlRmllbGR7XHJcbiAgICBwcml2YXRlIF9vcmlnaW46TGF5YS5TcHJpdGU7ICAgICAgICAvL+S4reWkruWMuuWfn+eahOWOn+eCuVxyXG4gICAgcHJpdmF0ZSBfc3ViTGF5ZXI6TGF5YS5TcHJpdGUgPSBuZXcgTGF5YS5TcHJpdGUoKTsgIC8v5rWL6K+V55So5Zu+5bGCXHJcbiAgICBwcml2YXRlIF90b3BMYXllcjpMYXlhLlNwcml0ZSA9IG5ldyBMYXlhLlNwcml0ZSgpOyAgLy/kuIrlsYLlm77lsYJcclxuICAgIHByaXZhdGUgX2Jsb2NrczpMYXlhLlNwcml0ZVtdW107ICAgIC8v5ZCE5Liq5Zyw5Zu+6IqC54K5XHJcbiAgICAgLypcclxuICAgIGJsb2Nrc+aYr+a4uOaIj+eVjOmdouWMheWQq+eahOagvOWtkHNwcml0ZembhuWQiFxyXG4gICAg5q+P5Liqc3ByaXRl55qE54i257qnc3ByaXRl6YO95pivc2NlbmXkuIvnmoRVSVNldFxyXG4gICAg5Zyo5Y+W55SoYmxvY2vml7bvvIznrKzkuIDlsYLmlbDnu4TnmoRpbmRleOWAvOS4uuaoquWdkOagh++8jOesrOS6jOWxguaVsOe7hOeahGluZGV45YC85Li657q15Z2Q5qCHXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmVjczpCb3hbXVtdOyAgICAgICAgICAgICAgLy/lkITkuKrlnLDlm77oioLngrnlr7nlupTnmoTmlrnmoLxcclxuICAgIHByaXZhdGUgX2VuZW15RGlzdHJpYnV0aW9uOkVuZW15W11bXVtdID0gW107ICAgIC8v5pWM5Lq65omA5aSE55qE5Yy65Z+fXHJcbiAgICBwcml2YXRlIF9zY2VuZTpMYXlhLlNjZW5lOyAgICAgICAgICAvL+WcuuaZr1xyXG4gICAgcHJpdmF0ZSBfc2l6ZTpudW1iZXI7ICAgICAgICAgICAgICAgLy/moLzlrZDlpKflsI/vvIjlg4/ntKDvvIkgICAgICAgICAgICAgICBcclxuICAgIHByaXZhdGUgX3dpZHRoOm51bWJlcjsgICAgICAgICAgICAgIC8v5qiq5ZCR5qC85a2Q5pWw6YePXHJcbiAgICBwcml2YXRlIF9oZWlnaHQ6bnVtYmVyOyAgICAgICAgICAgICAvL+e6teWQkeagvOWtkOaVsOmHj1xyXG5cclxuICAgIHB1YmxpYyByYW5nZTpCb3g7ICAgICAgICAgICAgICAgICAgIC8v5Lit5b+D5Yy65Z+f6IyD5Zu0XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6TGF5YS5TY2VuZSl7XHJcbiAgICAgICAgLy/ojrflj5bmlbDmja5cclxuICAgICAgICBjb25zdCBkYXRhOmFueSA9IERhdGFiYXNlLmkuZ2V0R3JvdW5kKCk7XHJcbiAgICAgICAgY29uc3QgW3dpZHRoLCBoaWdodCwgc2l6ZV0gPSBbZGF0YVtcIndpZHRoXCJdLCBkYXRhW1wiaGVpZ2h0XCJdLCBkYXRhW1wic2l6ZVwiXV07XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoaWdodDtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuX29yaWdpbiA9IHNjZW5lLmdldENoaWxkQnlOYW1lKFwiVUlTZXRcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5fb3JpZ2luLmFkZENoaWxkKHRoaXMuX3N1YkxheWVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5fb3JpZ2luLnBhcmVudC5hZGRDaGlsZCh0aGlzLl90b3BMYXllcik7XHJcbiAgICAgICAgdGhpcy5fdG9wTGF5ZXIucG9zKHRoaXMuX29yaWdpbi54LHRoaXMuX29yaWdpbi55KTtcclxuICAgICAgICB0aGlzLl90b3BMYXllci56T3JkZXIgPSAxMDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/liJvlu7pDZW50cmVGaWVsZOWMuuWfn+aVsOaNrlxyXG4gICAgICAgIHRoaXMucmFuZ2UgPSBuZXcgQm94KCk7XHJcbiAgICAgICAgdGhpcy5yYW5nZS5zaXplKHdpZHRoKnNpemUsaGlnaHQqc2l6ZSk7XHJcblxyXG4gICAgICAgIC8vU3RhcnRcclxuICAgICAgICAvL+WIm+W7uuWcsOWbvuaWueagvCDlkozlr7nlupTnmoRCb3hcclxuXHJcbiAgICAgICAgdGhpcy5fYmxvY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5fcmVjcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGlnaHQ7IHkgKz0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9ja3NbeV0gPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fcmVjc1t5XSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKERhdGFiYXNlLmkuZ2V0R3JvdW5kKCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBuZ051bTpudW1iZXIgPSBEYXRhYmFzZS5pLmdldEdyb3VuZCgpW1wibWF0cml4XCJdW3ldW3hdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrOkxheWEuU3ByaXRlID0gTGF5YS5TcHJpdGUuZnJvbUltYWdlKGBCYXNpYy8ke3BuZ051bX0ucG5nYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW4uYWRkQ2hpbGQoYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suc2l6ZShzaXplLHNpemUpLnBvcyh4KnNpemUseSpzaXplKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2Nrc1t5XVt4XSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjc1t5XVt4XSA9IG5ldyBCb3goKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3NbeV1beF0ucG9zKHgqc2l6ZSx5KnNpemUpLnNpemUoc2l6ZSxzaXplKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3NbeV1beF0udW5pdFggPSB4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjc1t5XVt4XS51bml0WSA9IHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/liJvlu7rlnLDlm77mlrnmoLxcclxuICAgICAgICAvL0VuZFxyXG5cclxuICAgICAgICAvL+ebkeaOp+aVjOS6uuS9jee9rlxyXG4gICAgICAgIGZvciAobGV0IHJvdzpudW1iZXIgPSAwOyByb3cgPCBoaWdodDsgcm93ICs9IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5lbXlEaXN0cmlidXRpb25bcm93XSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2w6bnVtYmVyID0gMDsgY29sIDwgd2lkdGg7IGNvbCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJ1blwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VuZW15RGlzdHJpYnV0aW9uW3Jvd11bY29sXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRDZW50cmUuaW5zdGFuY2Uub24oRXZlbnRDZW50cmUuRmllbGROYW1lLkNPTExJU0lPTixcclxuICAgICAgICAgICAgICAgICAgICBFdmVudENlbnRyZS5UeXBlTmFtZS5JTihyb3csY29sKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLCB0aGlzLl9vbkVuZW15RW50cmUsIFtyb3csIGNvbF0pO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRDZW50cmUuaW5zdGFuY2Uub24oRXZlbnRDZW50cmUuRmllbGROYW1lLkNPTExJU0lPTixcclxuICAgICAgICAgICAgICAgICAgICBFdmVudENlbnRyZS5UeXBlTmFtZS5PVVQocm93LGNvbCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcywgdGhpcy5fb25FbmVteUxlYXZlLCBbcm93LCBjb2xdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9lbmVteURpc3RyaWJ1dGlvbik7XHJcblxyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5HTE9CQUwsIEV2ZW50Q2VudHJlLlR5cGVOYW1lLkVGRkVDVCwgdGhpcywgdGhpcy5vbkF0dGFja09jY3VyKTtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLFxyXG4gICAgICAgICAgICBFdmVudENlbnRyZS5UeXBlTmFtZS5FRkZFQ1QsXHJcbiAgICAgICAgICAgIFs1MDAsNTAwLFwiMlwiXVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOatpOWHveaVsOS7heWcqDI55pel6YeN5p6E5YmN5L2/55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhdHRhY2tFZmZlY3QoZnJvbVg6bnVtYmVyLCBmcm9tWTpudW1iZXIsIHRvWDpudW1iZXIsIHRvWTpudW1iZXIpOnZvaWR7XHJcbiAgICAgICAgbGV0IHNwcml0ZTpMYXlhLlNwcml0ZSA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RvcExheWVyLmFkZENoaWxkKHNwcml0ZSk7XHJcbiAgICAgICAgc3ByaXRlLnpPcmRlciA9IDEwMDAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNwcml0ZS5ncmFwaGljcy5kcmF3UmVjdChmcm9tWCxmcm9tWSwxMCwxMCxcIiNmZjAwMDBcIik7XHJcbiAgICAgICAgbGV0IGNvdW50Om51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IG1heDpudW1iZXIgPSAzMDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZnVuYzpGdW5jdGlvbiA9ICgpPT57XHJcbiAgICAgICAgICAgIHNwcml0ZS5ncmFwaGljcy5kcmF3UmVjdChmcm9tWCArICh0b1gtZnJvbVgpKmNvdW50L21heCwgZnJvbVkgKyAodG9ZLWZyb21ZKSpjb3VudC9tYXgsIDUsIDUsIFwiI2ZmMDA0MFwiKTtcclxuICAgICAgICAgICAgY291bnQgKz0gMTtcclxuICAgICAgICAgICAgaWYgKGNvdW50IDw9IG1heCkge1xyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwLHRoaXMsZnVuYyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuZ3JhcGhpY3MuZHJhd1JlY3QodG9YLHRvWSwxMCwxMCxcIiNmZjAwNDBcIik7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTUwMCx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9wTGF5ZXIucmVtb3ZlQ2hpbGQoc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov5nkuKrkuZ/lj6rlnKhkZW1v6YeM5L2/55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbkF0dGFja09jY3VyKHg6bnVtYmVyLCB5Om51bWJlciwgY29sb3I6c3RyaW5nKTp2b2lke1xyXG4gICAgICAgIHggKz0gTWF0aC5yYW5kb20oKSoyMCAtIDEwO1xyXG4gICAgICAgIHkgKz0gTWF0aC5yYW5kb20oKSoyMCAtIDEwO1xyXG5cclxuICAgICAgICBsZXQgc3ByOkxheWEuU3ByaXRlID0gbmV3IExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuX3RvcExheWVyLmFkZENoaWxkKHNwcik7XHJcblxyXG4gICAgICAgIGxldCB0aW1lOm51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IHNjYWxlOm51bWJlciA9IDAuNztcclxuICAgICAgICBjb25zdCBzaXplOm51bWJlciA9IERhdGFiYXNlLmkuVW5pdFNpemU7XHJcbiAgICAgICAgbGV0IHNjYWxlSW5jcmVhc2VSYXRlOm51bWJlciA9IDAuNDtcclxuICAgICAgICBsZXQgc2NhbGVJbmNyZWFzZVJhdGVJbmNyZWFzZVJhdGU6bnVtYmVyID0gLTAuMDY7XHJcblxyXG4gICAgICAgIGxldCBvazpGdW5jdGlvbiA9ICgpPT57XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTaXplOm51bWJlciA9IHNpemUqc2NhbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0ZTpudW1iZXIgPSAoc2l6ZS1jdXJyZW50U2l6ZSkvMjtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgIHNwci5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICBzcHIuZ3JhcGhpY3MuZHJhd1JlY3QoeCArIGxvY2F0ZSwgeSArIGxvY2F0ZSwgY3VycmVudFNpemUsIDQsIGNvbG9yKTtcclxuICAgICAgICAgICAgc3ByLmdyYXBoaWNzLmRyYXdSZWN0KHggKyBsb2NhdGUsIHkgKyBsb2NhdGUsIDQsIGN1cnJlbnRTaXplLCBjb2xvcik7XHJcbiAgICAgICAgICAgIHNwci5ncmFwaGljcy5kcmF3UmVjdCh4ICsgbG9jYXRlICsgY3VycmVudFNpemUsIHkgKyBsb2NhdGUsIDQsIGN1cnJlbnRTaXplLCBjb2xvcik7XHJcbiAgICAgICAgICAgIHNwci5ncmFwaGljcy5kcmF3UmVjdCh4ICsgbG9jYXRlLCB5ICsgbG9jYXRlICsgY3VycmVudFNpemUsIGN1cnJlbnRTaXplLCA0LCBjb2xvcik7XHJcblxyXG5cclxuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSArIHNjYWxlSW5jcmVhc2VSYXRlO1xyXG4gICAgICAgICAgICBzY2FsZUluY3JlYXNlUmF0ZSA9IE1hdGgubWF4KDAuMDEsIHNjYWxlSW5jcmVhc2VSYXRlICsgc2NhbGVJbmNyZWFzZVJhdGVJbmNyZWFzZVJhdGUpO1xyXG4gICAgICAgICAgICB0aW1lICs9IDE7XHJcblxyXG4gICAgICAgICAgICBpZiAodGltZSA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMjAsIHRoaXMsIG9rKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNwci5wYXJlbnQucmVtb3ZlQ2hpbGQoc3ByKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb2soKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5p+l55yL54m55a6a5Z2Q5qCH5Lit5piv5ZCm5YyF5ZCr6L6T5YWl55qEZW5lbXnlr7nosaFcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNlYXJjaFBvaW50KHJvdzpudW1iZXIsIGNvbDpudW1iZXIsIGVuZW15OkVuZW15KTpib29sZWFue1xyXG4gICAgICAgIGlmIChyb3cgPCAwIHx8IGNvbCA8IDAgfHwgcm93ID49IHRoaXMuX2hlaWdodCB8fCBjb2wgPj0gdGhpcy5fd2lkdGggKSB7Ly/otoXlh7rovrnnlYznm7TmjqVmYWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhcnI6RW5lbXlbXSA9IHRoaXMuX2VuZW15RGlzdHJpYnV0aW9uW3Jvd11bY29sXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCG5omA5pyJ5a2Y5ZyoZW5lbXnnmoTlnLDlm77oioLngrnnu5jliLbkuLrntKvoibJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcGFpbnQoKTp2b2lke1xyXG4gICAgICAgIGlmICghTXlHbG9iYWwuTElORV9FRkZFQ1RfT04pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc3ViTGF5ZXIuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLl9lbmVteURpc3RyaWJ1dGlvbi5mb3JFYWNoKChyb3cseSk9PntcclxuICAgICAgICAgICAgcm93LmZvckVhY2goKGVsZSx4KT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZS5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdWJMYXllci5ncmFwaGljcy5kcmF3UmVjdCh4KkRhdGFiYXNlLmkuVW5pdFNpemUsIHkqRGF0YWJhc2UuaS5Vbml0U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBEYXRhYmFzZS5pLlVuaXRTaXplLCBEYXRhYmFzZS5pLlVuaXRTaXplLCBcIiNmZjAwZmZcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uRW5lbXlFbnRyZShyb3c6bnVtYmVyLCBjb2w6bnVtYmVyLCBlbmVteTpFbmVteSk6dm9pZHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkVudHJlOlwiICsgcm93ICsgXCJ8XCIgKyBjb2wpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX2VuZW15RGlzdHJpYnV0aW9uW3Jvd11bY29sXSk7XHJcbiAgICAgICAgdGhpcy5fZW5lbXlEaXN0cmlidXRpb25bcm93XVtjb2xdLnB1c2goZW5lbXkpO1xyXG4gICAgICAgIHRoaXMuX3BhaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25FbmVteUxlYXZlKHJvdzpudW1iZXIsIGNvbDpudW1iZXIsIGVuZW15OkVuZW15KTp2b2lke1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTGVhdmU6XCIgKyByb3cgKyBcInxcIiArIGNvbCk7XHJcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMuX2VuZW15RGlzdHJpYnV0aW9uW3Jvd11bY29sXS5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5lbXlEaXN0cmlidXRpb25bcm93XVtjb2xdW2ldID09PSBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5lbXlEaXN0cmlidXRpb25bcm93XVtjb2xdLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcGFpbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQ3JlYXRlU3ByaXRlKGltZ1VSTDpzdHJpbmcseDpudW1iZXIgPSAwLHk6bnVtYmVyID0gMCk6TGF5YS5TcHJpdGV7XHJcbiAgICAgICAgbGV0IHNwcml0ZTpMYXlhLlNwcml0ZSA9IExheWEuU3ByaXRlLmZyb21JbWFnZShpbWdVUkwpOy8v5Yib5bu6c3ByaXRlXHJcbiAgICAgICAgdGhpcy5fc2NlbmUuZ2V0Q2hpbGRCeU5hbWUoXCJVSVNldFwiKS5hZGRDaGlsZChzcHJpdGUpOy8v5o+S5YWl5Lit5b+D5Yy65Z+fXHJcbiAgICAgICAgc3ByaXRlLnNpemUoRGF0YWJhc2UuaS5Vbml0U2l6ZSwgRGF0YWJhc2UuaS5Vbml0U2l6ZSk7Ly/moLnmja7mlbDmja7lupPmj5DkvpvnmoTluLjph4/orr7nva7lpKflsI9cclxuICAgICAgICBzcHJpdGUucG9zKHgseSk7Ly/noa7lrprkvY3nva5cclxuICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi+k+WFpeS4gOS4quaWueagvO+8jOi+k+WHuuS4juWFtuS6pOWPoOeahOWcsOWbvuaWueagvFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29sbGlzaW9uKGZyb206Qm94KTpCb3hbXSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG9yaWdpbl94ID0gdGhpcy5yb3VuZChmcm9tLngsdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgbGV0IG9yaWdpbl95ID0gdGhpcy5yb3VuZChmcm9tLnksdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMucm91bmQoZnJvbS5ib3R0b20sdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5yb3VuZChmcm9tLnJpZ2h0LHRoaXMuX3NpemUpO1xyXG4gICAgICAgIGlmIChvcmlnaW5feCA+PSB0aGlzLl93aWR0aCB8fCBvcmlnaW5feSA+PSB0aGlzLl9oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIG9yaWdpbl94ID0gb3JpZ2luX3g8MD8wOm9yaWdpbl94Oy8vb3JpZ2luX3ggaXMgYXQgbGVhc3QgMFxyXG4gICAgICAgIG9yaWdpbl95ID0gb3JpZ2luX3k8MD8wOm9yaWdpbl95Oy8vb3JpZ2luX3kgaXMgYXQgbGVhc3QgMFxyXG4gICAgICAgIGJvdHRvbSA9IGJvdHRvbT49dGhpcy5faGVpZ2h0P3RoaXMuX2hlaWdodC0xOmJvdHRvbS8vYm90dG9tIGlzIGF0IG1vc3QgdGhpcy5faGVpZ2h0XHJcbiAgICAgICAgcmlnaHQgPSByaWdodD49dGhpcy5fd2lkdGg/dGhpcy5fd2lkdGgtMTpyaWdodC8vcmlnaHQgaXMgYXQgbW9zdCB0aGlzLl9yaWdodFxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OkJveFtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaGVpID0gb3JpZ2luX3k7IGhlaSA8PSBib3R0b207IGhlaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHdpZCA9IG9yaWdpbl94OyB3aWQgPD0gcmlnaHQ7IHdpZCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLl9yZWNzW2hlaV1bd2lkXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmsYJjID0gYSAvIGJcclxuICAgICAqIOi/lOWbnmPlnKjmlbDovbTkuIrlkJEw56e75Yqo5pe257uP6L+H55qE56ys5LiA5Liq5pW05pWw5YC8XHJcbiAgICAgKiBAcGFyYW0gYSBcclxuICAgICAqIEBwYXJhbSBiIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcm91bmQoYTpudW1iZXIsIGI6bnVtYmVyKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIChhLWElYikvYjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS9jee9ruWIpOWumuetlueVpVxyXG4gICAgICogMS7lnKjmr4/kuIDkuKrluKflvqrnjq/kuK3vvIzmr4/kuIDkuKrnp7vliqjkuobnmoRQZW9wbGXpgJrov4dDZW50cmVGaWVsZC5pLmdldFJlY+iOt+W+l+iHqui6q+aJgOWkhOeahOWMuuWfn+aWueWdl1xyXG4gICAgICogMi7kuIrov7BQZW9wbGXlr7nmr5Toh6rouqvlvZPliY3miYDlpITnmoTljLrln5/mlrnlnZflkozkuIrkuIDluKfmiYDlpITnmoTljLrln5/mlrnlnZfvvIzmib7lh7roh6rouqvpgIDlh7rnmoTlkozov5vlhaXnmoTmlrnlnZdcclxuICAgICAqIDMu5LiK6L+wUGVvcGxl5Y+R5biD6L+b5YWlL+emu+W8gOaWueWdl+S6i+S7tlxyXG4gICAgICogXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG59ICAgIFxyXG5cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIOaVtOS4quS4u+imgeWcuuaZr+eahFVJ57G7XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRmllbGRVSXtcclxuICAgIC8qXHJcbiAgICDmjqfliLbmlbTkuKpHYW1l5Zy65pmv5Lit5Y+v6KeG5YWD57Sg55qE57G7XHJcbiAgICDmraTnsbvmmK/ljZXkvotcclxuICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGk6R2FtZUZpZWxkVUk7XHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoc2NlbmU6TGF5YS5TY2VuZSk6dm9pZHtcclxuICAgICAgICB0aGlzLmkgPSBuZXcgR2FtZUZpZWxkVUkoc2NlbmUpO1xyXG4gICAgICAgIHRoaXMuaW5pdCA9ICgpPT57fTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHNjZW5lKXtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLlVJU2V0ID0gc2NlbmUuZ2V0Q2hpbGRCeU5hbWUoXCJVSVNldFwiKTtcclxuICAgICAgICB0aGlzLlNpZGVCYXIgPSBzY2VuZS5nZXRDaGlsZEJ5TmFtZShcIlNpZGVCYXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NlbnRyZSA9IG5ldyBDZW50cmVGaWVsZChzY2VuZSk7XHJcbiAgICAgICAgdGhpcy5fc2lkZSA9IG5ldyBTaWRlRmllbGQoc2NlbmUsIHRoaXMuVUlTZXQueCArIHRoaXMuX2NlbnRyZS5yYW5nZS53aWR0aCArIDIwKTtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5byE5Liq5pqC5YGc6ZSu5YeR5ZCI55SoXHJcbiAgICAgICAgbGV0IHBhdXNlQnV0dG9uOkxheWEuU3ByaXRlID0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgcGF1c2VCdXR0b24uc2l6ZSg1MCw1MCkucG9zKDAsMCk7XHJcbiAgICAgICAgcGF1c2VCdXR0b24uZ3JhcGhpY3MuZHJhd1JlY3QoMCwwLDUwLDUwLFwiI2ZmMDAwMFwiKTtcclxuICAgICAgICB0aGlzLl9zY2VuZS5hZGRDaGlsZChwYXVzZUJ1dHRvbik7XHJcbiAgICAgICAgcGF1c2VCdXR0b24ub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5QQVVTRSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3NjZW5lOkxheWEuU2NlbmU7XHJcbiAgICBwcml2YXRlIF9zaWRlOlNpZGVGaWVsZDsgICAgICAgIC8v5Zy65pmv5Y+z5L6n55qE5bmy5ZGY6YCJ5qGGXHJcbiAgICBwcml2YXRlIF9jZW50cmU6Q2VudHJlRmllbGQ7ICAgIC8v5Zy65pmv5Lit6Ze055qE5ri45oiP5Zyw5Zu+XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgVUlTZXQ6TGF5YS5TcHJpdGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgU2lkZUJhcjpMYXlhLlNwcml0ZTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IENlbnRyZSgpOkNlbnRyZUZpZWxke1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jZW50cmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBTaWRlKCk6U2lkZUZpZWxke1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaWRlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lke1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG59IiwiaW1wb3J0IE9wcnQgZnJvbSBcIi4vUGVvcGxlX3N0dWZmL09wcnRcIjtcclxuaW1wb3J0IEV2ZW50Q2VudHJlIGZyb20gXCIuLi8uLi9Ub3lib3gvRXZlbnRDZW50cmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wcnRDZW50cmV7XHJcbiAgICBwdWJsaWMgc3RhdGljIGk6T3BydENlbnRyZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5pID0gbmV3IE9wcnRDZW50cmU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5PUFJUX0RFQUQsIHRoaXMsIHRoaXMub25PcHJ0RGVhZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk9wcnREZWFkKG9wcnQ6T3BydCk6dm9pZHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wcnRHcm91cC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3BydEdyb3VwW2ldID09PSBvcHJ0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHJ0R3JvdXAuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vcHJ0R3JvdXA6T3BydFtdID0gW107XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZU9wcnQodW5pdFk6bnVtYmVyLCB1bml0WDpudW1iZXIsIGlkOnN0cmluZywgcm90YXRlOm51bWJlciA9IDApe1xyXG4gICAgICAgIGxldCBvcHJ0Ok9wcnQgPSBuZXcgT3BydCh1bml0WSwgdW5pdFgsIGlkLCByb3RhdGUpO1xyXG4gICAgICAgIHRoaXMuX29wcnRHcm91cC5wdXNoKG9wcnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IE9wZXJhdG9yIGF0IFwiICsgdW5pdFkgKyBcIl9cIiArIHVuaXRYKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fb3BydEdyb3VwLmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgZWxlLnVwZGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBQZW9wbGUsIHsgRGFtYWdlLCBXZWFwb24sIEVuZW15V2VhcG9uLCBEYW1hZ2VUeXBlIH0gZnJvbSBcIi4vUGVvcGxlXCI7XHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L0RhdGFiYXNlXCI7XHJcbmltcG9ydCBFdmVudENlbnRyZSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L0V2ZW50Q2VudHJlXCI7XHJcbmltcG9ydCBHYW1lRmllbGRVSSBmcm9tIFwiLi4vR2FtZUZpZWxkVUlcIjtcclxuaW1wb3J0IHsgU3RydWMsIEJveCB9IGZyb20gXCIuLi8uLi8uLi9Ub3lib3gvRGF0YVN0cnVjdHVyZVwiO1xyXG5pbXBvcnQgUHJlc2VudCBmcm9tIFwiLi9QcmVzZW50XCI7XHJcbmltcG9ydCBTdGF0ZSBmcm9tIFwiLi9TdGF0ZVwiO1xyXG5pbXBvcnQgTXlNYXRoIGZyb20gXCIuLi8uLi8uLi9Ub3lib3gvbXlNYXRoXCI7XHJcbmltcG9ydCBNYXNzRWZmZWN0LCB7IENvbGlCb3ggfSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L01hc3NFZmZlY3RcIjtcclxuaW1wb3J0IE15R2xvYmFsIGZyb20gXCIuLi8uLi8uLi9Ub3lib3gvR2xvYmFsXCI7XHJcbmltcG9ydCBPcHJ0IGZyb20gXCIuL09wcnRcIjtcclxuaW1wb3J0IERvY3RvciBmcm9tIFwiLi4vRG9jdG9yXCI7XHJcblxyXG4vKipcclxuICog5pWM5Lq655qE6KGo546w57G7XHJcbiAqL1xyXG5jbGFzcyBFbmVteVBzdCBleHRlbmRzIFByZXNlbnR7XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmw6c3RyaW5nKXtcclxuICAgICAgICBzdXBlcih1cmwsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmlYzkurrnmoTnirbmgIHnsbtcclxuICovXHJcbmNsYXNzIEVuZW15U3R0IGV4dGVuZHMgU3RhdGV7XHJcbiAgICBwcml2YXRlIF9wYXRoOlN0cnVjLlBvaW50ZXJMaXN0PHt4Om51bWJlcix5Om51bWJlcn0+OyAgIC8v6Lev5b6E5L+h5oGvIOaVjOS6uuS8muaMiemhuuW6j+ebtOe6v+i1sOi/h+i3r+W+hOagh+WHuueahOavj+S4gOS4queCue+8jHBvaW50ZXLooajnpLrnjrDlnKjotbDliLDlk6rkuoZcclxuICAgIHByaXZhdGUgX3hTcGVlZDpudW1iZXI7ICAgICAgICAgLy946L206YCf5bqmXHJcbiAgICBwcml2YXRlIF95U3BlZWQ6bnVtYmVyOyAgICAgICAgIC8veei9tOmAn+W6plxyXG4gICAgcHJpdmF0ZSBfc3BlZWQ6bnVtYmVyOyAgICAgICAgICAvL+aAu+mAn+W6piAgICDmgLvpgJ/luqZeMiA9IHjovbTpgJ/luqZeMiArIHnovbTpgJ/luqZeMlxyXG4gICAgcHVibGljIGlzT3V0OmJvb2xlYW4gPSBmYWxzZTsgICAgIC8v6L+Z5Liq5pWM5Lq65piv5ZCm6L+Y5pyJ5LiL5LiA5Liq6Lev5b6E5Z2Q5qCHXHJcbiAgICBwdWJsaWMgaXNTdG9wOmJvb2xlYW4gPSBmYWxzZTsgICAgIC8v6L+Z5Liq5pWM5Lq65piv5ZCm5Zyo56e75YqoXHJcblxyXG4gICAgcHJpdmF0ZSBfYm9keUJveDpCb3g7ICAgICAgICAgICAvL+i/meaYr+S4gOS4queisOaSnueusSAgXHJcbiAgICBwdWJsaWMgb2xkQ29sbGlzaW9uOkJveFtdID0gW107ICAgICAgLy/ov5nmmK/kuIrkuIDmrKHnorDliLDnmoTlnLDlm77oioLngrlcclxuXHJcbiAgICBwdWJsaWMgd2VhcG9uOkVuZW15V2VhcG9uID0gbmV3IEVuZW15V2VhcG9uKCk7XHJcblxyXG4gICAgXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6YW55LCBwYXRoSUQ6c3RyaW5nKXtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICBjb25zdCBzaXplOm51bWJlciA9IERhdGFiYXNlLmkuc3ViVW5pdFNpemU7XHJcblxyXG4gICAgICAgIC8v5Yid5aeL5YyW6Lev5b6EXHJcbiAgICAgICAgdGhpcy5fcGF0aCA9IG5ldyBTdHJ1Yy5Qb2ludGVyTGlzdDx7eDpudW1iZXIseTpudW1iZXJ9PigpO1xyXG4gICAgICAgIGxldCByYXdQYXRoOm51bWJlcltdW10gPSBEYXRhYmFzZS5pLmdldFBhdGgocGF0aElEKTtcclxuICAgICAgICByYXdQYXRoLmZvckVhY2goKGVsZSxpbmRleCk9PntcclxuICAgICAgICAgICAgdGhpcy5fcGF0aC5wdXNoKHt4OmVsZVswXSwgeTplbGVbMV19KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+WIneWni+WMluS9jee9rlxyXG4gICAgICAgIHRoaXMuX3ggPSB0aGlzLl9wYXRoLmZpcnN0Lng7XHJcbiAgICAgICAgdGhpcy5feSA9IHRoaXMuX3BhdGguZmlyc3QueTtcclxuICAgICAgICAvL+WIneWni+WMlumAn+W6plxyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gZGF0YVtcInNwZWVkXCJdO1xyXG4gICAgICAgIC8v5Yid5aeL5YyW6L206YCf5bqmXHJcbiAgICAgICAgdGhpcy5fcmVzZXRBeGlzU3BlZWQoKTtcclxuICAgICAgICAvL+WIneWni+WMluWfuuehgOWxnuaAp1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gZGF0YVsnSFAnXTsgLy/ooYDph49cclxuICAgICAgICB0aGlzLmZ1bGxIZWFsdGggPSB0aGlzLmhlYWx0aDtcclxuXHJcbiAgICAgICAgLy/ms6jlhoznorDmkp7nrrFcclxuICAgICAgICB0aGlzLl9ib2R5Qm94ID0gbmV3IEJveCgpLnNpemUoc2l6ZSxzaXplKTtcclxuICAgICAgICB0aGlzLnJlc2V0Qm9keVBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0Qm9keVBvc2l0aW9uKCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9ib2R5Qm94LnggPSB0aGlzLl94ICsgMTsvL+iusOW+l+S/ruaUuei/meS4quW4uOaVsFxyXG4gICAgICAgIHRoaXMuX2JvZHlCb3gueSA9IHRoaXMuX3kgKyAxO1xyXG4gICAgICAgIC8vIHRoaXMuX2JvZHlCb3gucG9zKHRoaXMuX3gsIHRoaXMuX3kpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3Jlc2V0QXhpc1NwZWVkKCk6dm9pZHtcclxuICAgICAgICBpZiAodGhpcy5fcGF0aC5hdEVuZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbid0IHJlc2V0IHNwZWVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZXh0Ont4Om51bWJlcix5Om51bWJlcn0gPSB0aGlzLl9wYXRoLm5leHQoKTtcclxuICAgICAgICBjb25zdCBbeF9kaXMsIHlfZGlzXSA9IFtuZXh0LnggLSB0aGlzLl94LCBuZXh0LnkgLSB0aGlzLl95XTtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh4X2RpcywyKSArIE1hdGgucG93KHlfZGlzLDIpKTtcclxuICAgICAgICBjb25zdCB0aW1lID0gZGlzdGFuY2UvdGhpcy5fc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5feFNwZWVkID0geF9kaXMvdGltZTtcclxuICAgICAgICB0aGlzLl95U3BlZWQgPSB5X2Rpcy90aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQb3NpdGlvbih4Om51bWJlciwgeTpudW1iZXIpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5feCA9IHg7XHJcbiAgICAgICAgdGhpcy5feSA9IHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5leHRUYXJnZXQoKTp2b2lke1xyXG4gICAgICAgIGlmICh0aGlzLl9wYXRoLmF0RW5kKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcGF0aC5zdGVwKCk7XHJcbiAgICAgICAgdGhpcy5fcmVzZXRBeGlzU3BlZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlzQXJyaXZlZCgpOmJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl94ID09PSB0aGlzLl9wYXRoLm5leHQoKS54KSAmJiAodGhpcy5feSA9PT0gdGhpcy5fcGF0aC5uZXh0KCkueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB4U3BlZWQoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3hTcGVlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgeVNwZWVkKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl95U3BlZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHRhcmdldCgpOnt4Om51bWJlciwgeTpudW1iZXJ9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aC5uZXh0KCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IGJvZHlCb3goKTpCb3h7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHlCb3g7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmlYzkurrnmoTpgLvovpHnsbtcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZW15IGV4dGVuZHMgUGVvcGxle1xyXG4gICAgcHJpdmF0ZSBfZGF0YTphbnk7XHJcbiAgICBwcml2YXRlIF9wYXRoOlN0cnVjLlBvaW50ZXJMaXN0PG51bWJlcltdPjtcclxuICAgIHByaXZhdGUgX3ByZXNlbnQ6RW5lbXlQc3Q7XHJcbiAgICBwcml2YXRlIF9zdGF0ZTpFbmVteVN0dDtcclxuXHJcbiAgICBwdWJsaWMgdHJ5QXR0YWNrKG9wcnQ6T3BydCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9zdGF0ZS53ZWFwb24uY291bnQob3BydCk7XHJcbiAgICAgICAgbGV0IHN0YWdlID0gdGhpcy5fc3RhdGUud2VhcG9uLnN0YWdlO1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQuZHJhd0FjdGlvbkJhcihzdGFnZS5zdGFnZUFUSywgc3RhZ2UuYmVmb3JlQVRLLCBzdGFnZS5jb21wbGV0ZUFUSyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBpZCDmlYzkurppZO+8jOeUqOS6juiOt+WPluaVjOS6uuaVsOaNrlxyXG4gICAgICogQHBhcmFtIHBhdGhJRCDot6/lvoRpZO+8jOeUqOS6juiOt+WPlui3r+W+hOaVsOaNrlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihpZDpzdHJpbmcsIHBhdGhJRDpzdHJpbmcpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/ojrflj5bmlbDmja7lkozot6/lvoRcclxuICAgICAgICBsZXQgZGF0YTphbnkgPSBEYXRhYmFzZS5pLmdldEVuZW15KGlkKTtcclxuICAgICAgICBsZXQgcGF0aDphbnkgPSBEYXRhYmFzZS5pLmdldFBhdGgocGF0aElEKTtcclxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLl9wYXRoID0gbmV3IFN0cnVjLlBvaW50ZXJMaXN0PG51bWJlcltdPihwYXRoKTtcclxuXHJcbiAgICAgICAgLy/liJvlu7rooajnjrDnsbvlkozmlbDmja7nsbtcclxuICAgICAgICB0aGlzLl9wcmVzZW50ID0gbmV3IEVuZW15UHN0KGRhdGFbXCJpbWdcIl0pO1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQucmVsYXRlZFBlb3BsZSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgRW5lbXlTdHQoZGF0YSwgcGF0aElEKTtcclxuXHJcbiAgICAgICAgLy/liJ3lp4vljJbliqjkvZzmnaFcclxuICAgICAgICB0aGlzLl9wcmVzZW50LmRyYXdBY3Rpb25CYXIoMCwxLDIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWvueS8oOWFpeeahOS8pOWus+i/m+ihjOWkhOeQhlxyXG4gICAgICogQHBhcmFtIGRhbWFnZSBcclxuICAgICAqL1xyXG4gICAgXHJcbiAgICBwdWJsaWMgaGFuZGxlRGFtYWdlKGRhbWFnZTpEYW1hZ2UpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUuaGVhbHRoIC09IGRhbWFnZS52YWx1ZTtcclxuICAgICAgICB0aGlzLl9wcmVzZW50LmRyYXdIZWFsdGhCYXIodGhpcy5fc3RhdGUuaGVhbHRoLHRoaXMuX3N0YXRlLmZ1bGxIZWFsdGgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWFkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+Z5Liq5Ye95pWw55yf5piv5Lmx5Yiw5LiA5a6a56iL5bqm5LqG4oCm4oCmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjbGVhckFjdGlvbkJhcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fcHJlc2VudC5kcmF3QWN0aW9uQmFyKDAsMSwyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOatu+S6oeWHveaVsFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9kZWFkKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnVwZGF0ZSA9ICgpPT57XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW52YWxpZCB1cGRhdGVcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9wcmVzZW50LmhpZGUoKTtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5FTkVNWV9ERUFELCBbdGhpc10pO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlLm9sZENvbGxpc2lvbi5mb3JFYWNoKChlbGUpPT57XHJcbiAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sIEV2ZW50Q2VudHJlLlR5cGVOYW1lLk9VVChlbGUudW5pdFksIGVsZS51bml0WCksIFt0aGlzXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7nmr5TkuKTmrKHlhYjlkI7norDmkp7nmoTnu5PmnpzvvIzovpPlh7rku5bku6znmoTlt67lvIJcclxuICAgICAqIEBwYXJhbSBwcmV2aW91cyDkuIrkuIDmrKHnmoTnorDmkp7nu5PmnpxcclxuICAgICAqIEBwYXJhbSBjdXJyZW50IOi/meS4gOasoeeahOeisOaSnue7k+aenFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbXBhcmVDb2xpUmVzdWx0KHByZXZpb3VzOkJveFtdLCBjdXJyZW50OkJveFtdKTp7aW46Qm94W10sIG91dDpCb3hbXX17XHJcbiAgICAgICAgbGV0IGluTGlzdDpCb3hbXSA9IFtdO1xyXG4gICAgICAgIGxldCBvdXRMaXN0OkJveFtdID0gW107XHJcblxyXG4gICAgICAgIHByZXZpb3VzLmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgbGV0IHRvSW5zZXJ0OmJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IobGV0IG4gPSAwOyBuIDwgY3VycmVudC5sZW5ndGg7IG4gKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZSA9PT0gY3VycmVudFtuXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvSW5zZXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvSW5zZXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBvdXRMaXN0LnB1c2goZWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjdXJyZW50LmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgbGV0IHRvSW5zZXQ6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgcHJldmlvdXMubGVuZ3RoOyBuICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGUgPT09IHByZXZpb3VzW25dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9JbnNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b0luc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpbkxpc3QucHVzaChlbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7aW46aW5MaXN0LCBvdXQ6b3V0TGlzdH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgTnVtWCgpOm51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUueDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGdldCBOdW1ZKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS55O1xyXG4gICAgfVxyXG5cclxuICAgIC8v5L6b5aSW6YOo6LCD55So55qE5pa55rOV6ZuGXHJcbiAgICBwdWJsaWMgc3RvcCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUuaXNTdG9wID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdW5zdG9wKCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9zdGF0ZS5pc1N0b3AgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0IFVuaXRYKCk6bnVtYmVye1xyXG4gICAgLy8gICAgIHJldHVybiBHYW1lRmllbGRVSS5pLkNlbnRyZS5cclxuICAgIC8vIH1cclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5pc091dCB8fCB0aGlzLl9zdGF0ZS5pc1N0b3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvL+i/m+ihjOenu+WKqFxyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5pc0Fycml2ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUubmV4dFRhcmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQge3gseSx4U3BlZWQseVNwZWVkLHRhcmdldH0gPSB0aGlzLl9zdGF0ZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5pc091dCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGFtYWdlKG5ldyBEYW1hZ2UoMTE0NTE0LCB0aGlzLCBEYW1hZ2VUeXBlLlBIWVNJQ0FMKSk7XHJcbiAgICAgICAgICAgIERvY3Rvci5pbnN0YW5jZS5kYW1hZ2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBuZXd4Om51bWJlciA9IE15TWF0aC5tb3ZlVG8oeCx4U3BlZWQsdGFyZ2V0LngpO1xyXG4gICAgICAgIGxldCBuZXd5Om51bWJlciA9IE15TWF0aC5tb3ZlVG8oeSx5U3BlZWQsdGFyZ2V0LnkpO1xyXG5cclxuICAgICAgICB0aGlzLl9zdGF0ZS5zZXRQb3NpdGlvbihuZXd4LG5ld3kpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlLnJlc2V0Qm9keVBvc2l0aW9uKCk7XHJcbiAgICAgICAgLy/liLfmlrDkvY3nva5cclxuICAgICAgICB0aGlzLl9wcmVzZW50LnBlcmZvcm0odGhpcy5fc3RhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v56Kw5pKe5qOA5rWLXHJcbiAgICAgICAgbGV0IHJlc3VsdDpCb3hbXSA9IEdhbWVGaWVsZFVJLmkuQ2VudHJlLmNvbGxpc2lvbih0aGlzLl9zdGF0ZS5ib2R5Qm94KTsgICAgLy/ojrflj5blvZPliY3kuI7oh6rouqvmnInmiYDph43lj6DnmoTmiYDmnInmlrnlnZdcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5jb21wYXJlQ29saVJlc3VsdCh0aGlzLl9zdGF0ZS5vbGRDb2xsaXNpb24sIHJlc3VsdCk7ICAvL+WvueavlOW9k+WJjeS4juS4iuS4gOW4p+eahOmHjeWPoOaWueWdl+W8guWQjFxyXG4gICAgICAgIHRoaXMuX3N0YXRlLm9sZENvbGxpc2lvbiA9IHJlc3VsdDsgIC8v5pu05paw56Kw5pKe57uT5p6cXHJcblxyXG4gICAgICAgIC8v5Y+R6YCB5LqL5Lu2XHJcbiAgICAgICAgZXZlbnRzLmluLmZvckVhY2goKGVsZSk9PnsvL+WPkeW4g+emu+W8gOaWueagvOS6i+S7tlxyXG4gICAgICAgICAgICAvLyBjb25zdCB1bml0WDpudW1iZXIgPSAoZWxlLngtZWxlLnglRGF0YWJhc2UuaS5Vbml0U2l6ZSkvRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgICAgICAgICAgLy8gY29uc3QgdW5pdFk6bnVtYmVyID0gKGVsZS55LWVsZS55JURhdGFiYXNlLmkuVW5pdFNpemUpL0RhdGFiYXNlLmkuVW5pdFNpemU7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHVuaXRYID09PSBlbGUudW5pdFggJiYgdW5pdFkgPT09IGVsZS51bml0WSk7XHJcbiAgICAgICAgICAgIC8vIEV2ZW50Q2VudHJlLmkuZXZlbnQoRXZlbnRDZW50cmUuRmllbGROYW1lLkNPTExJU0lPTiwgYElOJHt1bml0WStcIlwiK3VuaXRYfWAsIFt0aGlzXSk7XHJcbiAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sIGBJTiR7ZWxlLnVuaXRZK1wiXCIrZWxlLnVuaXRYfWAsIFt0aGlzXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV2ZW50cy5vdXQuZm9yRWFjaCgoZWxlKT0+ey8v5Y+R5biD6L+b5YWl5pa55qC85LqL5Lu2XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHVuaXRYOm51bWJlciA9IChlbGUueC1lbGUueCVEYXRhYmFzZS5pLlVuaXRTaXplKS9EYXRhYmFzZS5pLlVuaXRTaXplO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB1bml0WTpudW1iZXIgPSAoZWxlLnktZWxlLnklRGF0YWJhc2UuaS5Vbml0U2l6ZSkvRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgICAgICAgICAgLy8gRXZlbnRDZW50cmUuaS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuQ09MTElTSU9OLCBgT1VUJHt1bml0WStcIlwiK3VuaXRYfWAsIFt0aGlzXSk7XHJcbiAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sIGBPVVQke2VsZS51bml0WStcIlwiK2VsZS51bml0WH1gLCBbdGhpc10pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBlb3BsZSwgeyBXZWFwb24sIERhbWFnZSB9IGZyb20gXCIuL1Blb3BsZVwiO1xyXG5pbXBvcnQgU3RhdGUgZnJvbSBcIi4vU3RhdGVcIjtcclxuaW1wb3J0IFByZXNlbnQgZnJvbSBcIi4vUHJlc2VudFwiO1xyXG5pbXBvcnQgRGF0YWJhc2UgZnJvbSBcIi4uLy4uLy4uL1RveWJveC9EYXRhYmFzZVwiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4vRW5lbXlcIjtcclxuaW1wb3J0IEV2ZW50Q2VudHJlIGZyb20gXCIuLi8uLi8uLi9Ub3lib3gvRXZlbnRDZW50cmVcIjtcclxuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uLy4uLy4uL1RveWJveC9teU1hdGhcIjtcclxuXHJcblxyXG5jbGFzcyBPcHJ0UHN0IGV4dGVuZHMgUHJlc2VudHtcclxuICAgIGNvbnN0cnVjdG9yKHVybDpzdHJpbmcpe1xyXG4gICAgICAgIHN1cGVyKHVybCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE9wcnRTdHQgZXh0ZW5kcyBTdGF0ZXtcclxuICAgIHB1YmxpYyB1bml0WTpudW1iZXI7XHJcbiAgICBwdWJsaWMgdW5pdFg6bnVtYmVyO1xyXG4gICAgcHVibGljIGNhcHR1cmU6RW5lbXlbXSA9IFtdO1xyXG4gICAgcHVibGljIHdlYXBvbjpXZWFwb247XHJcbiAgICBwdWJsaWMgaGVhbHRoOm51bWJlcjtcclxuICAgIHB1YmxpYyBmdWxsSGVhbHRoOm51bWJlcjtcclxuICAgIFxyXG4gICAgcHVibGljIHN0b3BwaW5nOkVuZW15ID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOmFueSl7XHJcbiAgICAgICAgc3VwZXIoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB4KCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRYICogRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGdldCB5KCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRZICogRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BydCBleHRlbmRzIFBlb3BsZXtcclxuICAgIHByaXZhdGUgX3N0YXRlOk9wcnRTdHQ7XHJcbiAgICBwcml2YXRlIF9wcmVzZW50Ok9wcnRQc3Q7XHJcbiAgICBcclxuICAgIFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVuaXRZOm51bWJlciwgdW5pdFg6bnVtYmVyLCBpZDpzdHJpbmcsIHJvdGF0ZTpudW1iZXIgPSAwKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6I635Y+W5pWw5o2uXHJcbiAgICAgICAgbGV0IHNpemU6bnVtYmVyID0gRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgICAgICBsZXQgZGF0YTphbnkgPSBEYXRhYmFzZS5pLmdldE9wcnQoaWQpO1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy/mlrDlu7rooajnjrDnsbvlkoznirbmgIHnsbtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IG5ldyBPcHJ0U3R0KGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQgPSBuZXcgT3BydFBzdChkYXRhW1wic21hbGxcIl0pO1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQucmVsYXRlZFBlb3BsZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8v56Gu5a6a6KGA6YePXHJcbiAgICAgICAgdGhpcy5fc3RhdGUuZnVsbEhlYWx0aCA9IGRhdGFbXCJIUFwiXTtcclxuICAgICAgICB0aGlzLl9zdGF0ZS5oZWFsdGggPSB0aGlzLl9zdGF0ZS5mdWxsSGVhbHRoO1xyXG5cclxuICAgICAgICB0aGlzLl9zdGF0ZS51bml0WCA9IHVuaXRYO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlLnVuaXRZID0gdW5pdFk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUud2VhcG9uID0gbmV3IFdlYXBvbih0aGlzLl9zdGF0ZS51bml0WSwgdGhpcy5fc3RhdGUudW5pdFgsIDUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm90YXRlOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUud2VhcG9uLnJvdGF0ZUNsb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQucGVyZm9ybSh0aGlzLl9zdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3N0YXRlLndlYXBvbi5nZXRJbmRleExvY2F0aW9ucygpKTsvL1xyXG5cclxuICAgICAgICAvL+ebkeWQrOS6i+S7tlxyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sIGBJTiR7dW5pdFkrXCJcIit1bml0WH1gLCB0aGlzLCB0aGlzLm9uQ2FwdHVyZUVuZW15KTtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuQ09MTElTSU9OLCBgT1VUJHt1bml0WStcIlwiK3VuaXRYfWAsIHRoaXMsIHRoaXMub25SZWxlYXNlRW5lbXkpO1xyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5HTE9CQUwsIEV2ZW50Q2VudHJlLlR5cGVOYW1lLlNIT1dfUkFOR0UsIHRoaXMsIHRoaXMuc2hvd1JhbmdlKTtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5ISURFX1JBTkdFLCB0aGlzLCB0aGlzLmhpZGVSYW5nZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93UmFuZ2UocHJlc2VudDpQcmVzZW50KTp2b2lke1xyXG4gICAgICAgIGlmICh0aGlzLl9wcmVzZW50ICE9PSBwcmVzZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJlc2VudC5kcmF3QXR0YWNrUmFuZ2UodGhpcy5fc3RhdGUud2VhcG9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZVJhbmdlKHByZXNlbnQ6UHJlc2VudCk6dm9pZHtcclxuICAgICAgICBpZiAodGhpcy5fcHJlc2VudCAhPT0gcHJlc2VudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQuY2xlYXJBdHRhY2tSYW5nZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYW5kbGVEYW1hZ2UoZGFtYWdlOkRhbWFnZSk6dm9pZHtcclxuICAgICAgICB0aGlzLl9zdGF0ZS5oZWFsdGggLT0gZGFtYWdlLnZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnQuZHJhd0hlYWx0aEJhcih0aGlzLl9zdGF0ZS5oZWFsdGgsIHRoaXMuX3N0YXRlLmZ1bGxIZWFsdGgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5kZWFkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVhZCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fcHJlc2VudC5zcHJpdGUucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuX3ByZXNlbnQuc3ByaXRlKTtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUuc3RvcHBpbmcgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc3RvcHBpbmcuY2xlYXJBY3Rpb25CYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5vblJlbGVhc2VFbmVteSh0aGlzLl9zdGF0ZS5zdG9wcGluZyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5PUFJUX0RFQUQsIFt0aGlzXSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUgPSAoKT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImludmFsaWQgdXBkYXRlXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNhcHR1cmVFbmVteShlbmVteTpFbmVteSk6dm9pZHtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUuc3RvcHBpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgZW5lbXkuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5zdG9wcGluZyA9IGVuZW15O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uUmVsZWFzZUVuZW15KGVuZW15OkVuZW15KTp2b2lke1xyXG4gICAgICAgIGVuZW15LnVuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlLnN0b3BwaW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6dm9pZHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIOaMieeFp+WOn+S9nOeahOmAu+i+ke+8jOW5suWRmOWcqOaUu+WHu+aXtuS8mumUgeWumuS4gOS4quaVjOS6uu+8jOW8gOWni+WJjeaRh+OAglxyXG4gICAgICAgICAqIOWmguaenOatpOaVjOS6uuS4jeWGjeaYr+aUu+WHu+ebruagh++8jOWwhuS8mumHjeaWsOi/m+ihjOWJjeaRh+OAglxyXG4gICAgICAgICAqIOS9hui/memHjOeahOmAu+i+keaYr+KAnOWPquimgeiMg+WbtOWGheacieaVjOS6uu+8jOWwsei/m+ihjOWJjeaRh+WSjOaUu+WHu+KAneOAglxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS53ZWFwb24uY2FwdHVyZUxpc3QubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLndlYXBvbi5zdGFnZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFbmVteUZvdW5kXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUud2VhcG9uLnN0YWdlLmF0a1JlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZS53ZWFwb24uYXR0YWNrKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkF0dGFja1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLndlYXBvbi5zdGFnZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkVuZW15IGxvc3QsIEF0dGFjayByZXNldFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlLnN0b3BwaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnN0b3BwaW5nLnRyeUF0dGFjayh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJlc2VudC5kcmF3QWN0aW9uQmFyKHRoaXMuX3N0YXRlLndlYXBvbi5zdGFnZS5zdGFnZUFUSywgdGhpcy5fc3RhdGUud2VhcG9uLnN0YWdlLmJlZm9yZUFUSywgdGhpcy5fc3RhdGUud2VhcG9uLnN0YWdlLmNvbXBsZXRlQVRLKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbGlCb3ggfSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L01hc3NFZmZlY3RcIjtcclxuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uLy4uLy4uL1RveWJveC9teU1hdGhcIjtcclxuaW1wb3J0IEVuZW15IGZyb20gXCIuL0VuZW15XCI7XHJcbmltcG9ydCBFdmVudENlbnRyZSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L0V2ZW50Q2VudHJlXCI7XHJcbmltcG9ydCBHYW1lRmllbGRVSSBmcm9tIFwiLi4vR2FtZUZpZWxkVUlcIjtcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCIuLi8uLi8uLi9Ub3lib3gvRGF0YWJhc2VcIjtcclxuaW1wb3J0IE9wcnQgZnJvbSBcIi4vT3BydFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgUGVvcGxle1xyXG4gICAgcHVibGljIGdldCBVbml0WCgpOm51bWJlcnsvL+mcgOimgeWcqOWFt+S9k+WunueOsOS4remHjeWGmVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgVW5pdFkoKTpudW1iZXJ7Ly/pnIDopoHlnKjlhbfkvZPlrp7njrDkuK3ph43lhpnvvIjpgqPmiJHkuLrku4DkuYjkuI3lvITkuKrmjqXlj6PlkaLvvJ9cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IE51bVgoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBOdW1ZKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBoYW5kbGVEYW1hZ2UoZGFtYWdlOkRhbWFnZSk6dm9pZHsvL+mcgOimgeWcqOWFt+S9k+WunueOsOS4remHjeWGme+8iOaEn+iniei/meeOqeaEj+WlveWDj+ecn+aYr+S4quaOpeWPo+KApuKAplxyXG5cclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJ1ZmZ7XHJcbiAgICBwcml2YXRlIHBlcm1hbmVudDpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBjb3VudERvd246bnVtYmVyO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIERhbWFnZVR5cGV7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBIWVNJQ0FMOnN0cmluZyA9IFwiUEhZU0lDQUxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUFHSUNBTDpzdHJpbmcgPSBcIk1BR0lDQUxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ1JJVElDQUw6c3RyaW5nID0gXCJDUklUSUNBTFwiO1xyXG59XHJcblxyXG4vKipcclxuICogRGFtYWdl5piv5LiA5Liq5YKo5a2Y5Lyk5a6z5L+h5oGv55qE57G7XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGFtYWdle1xyXG4gICAgcHJpdmF0ZSBfdmFsdWU6bnVtYmVyOyAgICAgIC8v5aSa6auY55qE5Lyk5a6zXHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jcmVhdG9yOlBlb3BsZTsgICAgLy/osIHpgKDmiJDnmoTkvKTlrrNcclxuICAgIHB1YmxpYyBnZXQgY3JlYXRvcigpOlBlb3BsZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF90eXBlOnN0cmluZzsgICAgICAgLy/kvKTlrrPnsbvlnoso54mp5Lyk5rOV5Lyk55yf5LykKVxyXG4gICAgcHVibGljIGdldCB0eXBlKCk6c3RyaW5ne1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOm51bWJlciwgY3JlYXRvcjpQZW9wbGUsIHR5cGU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0b3IgPSBjcmVhdG9yO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog55SxV2VhcG9u54us5pyJ55qE5LiA5Liq5pWw5o2u57G7XHJcbiAqIOWtmOWCqOWJjeaRhy/lkI7mkYfml7bpl7Tkv6Hmga9cclxuICog5biu5Yqp5Yik5pat5L2V5pe26L+b6KGM5pS75Ye7XHJcbiAqIOaPkOS+m+S/ruaUuei/meS6m+S/oeaBr+eahEFQSVxyXG4gKi9cclxuY2xhc3MgQVRLc3RhZ2V7XHJcbiAgICBwcml2YXRlIF9iZWZvcmVBVEs6bnVtYmVyID0gMTAvLyDliY3mkYfml7bpl7Qv5binXHJcbiAgICBcclxuICAgIHByaXZhdGUgX2NvbXBsZXRlQVRLOm51bWJlciA9IDIwLy8g5pS75Ye75a6M5oiQ5ZGo5pyfKOWJjeaRh+S4juWQjuaRh+aXtumXtOS5i+WSjCkv5binXHJcbiAgICBcclxuICAgIHByaXZhdGUgX2hhZEF0dGFja2VkOmJvb2xlYW4gPSBmYWxzZS8v5Zyo5b2T5YmN5ZGo5pyf5Lit5bey6L+b6KGM6L+H5pS75Ye7XHJcbiAgICBwcml2YXRlIF9zdGFnZUFUSzpudW1iZXIgPSAwLy8g5bey57uP57uP5Y6G55qE5pS75Ye75pe26Ze0XHJcblxyXG4gICAgcHVibGljIGdldCBiZWZvcmVBVEsoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZUFUSztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbXBsZXRlQVRLKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wbGV0ZUFUSztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0YWdlQVRLKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFnZUFUSztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGJlZm9yZSDorr7lrprliY3mkYfml7bpl7RcclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDorr7lrprmlLvlh7vlrozmiJDlkajmnJ/vvIjliY3mkYfkuI7lkI7mkYfml7bpl7TkuYvlkozvvIlcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoYmVmb3JlOm51bWJlciwgY29tcGxldGU6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLl9iZWZvcmVBVEsgPSBiZWZvcmU7XHJcbiAgICAgICAgdGhpcy5fY29tcGxldGVBVEsgPSBjb21wbGV0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiusOW9leS4gOW4p+mihOWkh+aUu+WHu+eKtuaAgVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9zdGFnZUFUSyArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGFnZUFUSyA+IHRoaXMuX2NvbXBsZXRlQVRLKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWdlQVRLID0gMDsvL+WRqOacn+iuoeaVsOW9kumbtlxyXG4gICAgICAgICAgICB0aGlzLl9oYWRBdHRhY2tlZCA9IGZhbHNlOy8v6YeN6K6+5pS75Ye76K6w5b2VXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+U5Zue4oCc5bey5YeG5aSH5aW96L+b6KGM5pS75Ye74oCd55qE55yf5YC8XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgYXRrUmVhZHkoKTpib29sZWFue1xyXG4gICAgICAgIHJldHVybiAodGhpcy5fc3RhZ2VBVEsgPj0gdGhpcy5fYmVmb3JlQVRLKSAmJiAoIXRoaXMuX2hhZEF0dGFja2VkKS8v5YmN5pGH6Zi25q615bey57uT5p2f77yM5LiU5q2k5qyh5b6q546v5Lit6L+Y5pyq5pS75Ye76L+HXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov5vooYzmlLvlh7tcclxuICAgICAqIOWwhuKAnOatpOasoeW+queOr+S4reW3suaUu+WHu+i/h+KAneiuvuS4uuecn1xyXG4gICAgICog5q+P5qyh6L+b6KGM5pS75Ye75pe25b+F6aG76LCD55So5q2k5Ye95pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhdHRhY2tSZWNvcmQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX2hhZEF0dGFja2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmHjee9ruaUu+WHu+eKtuaAgVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVzZXQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX3N0YWdlQVRLID0gMDtcclxuICAgICAgICB0aGlzLl9oYWRBdHRhY2tlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEVuZW15V2VhcG9u5piv5LiA5Liq5YKo5a2Y5pWM5Lq65pS75Ye76IO95Yqb5L+h5oGv55qE57G7XHJcbiAqIOi/meS6m1dlYXBvbuexu+etiemHjeaehOS5i+WQjumDveW+l+mHjeWGmeKApuKAplxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmVteVdlYXBvbntcclxuICAgIHByaXZhdGUgX3Bvd2VyOm51bWJlciA9IDM7XHJcbiAgICBwcml2YXRlIF90YXJnZXQ6T3BydDtcclxuICAgIHB1YmxpYyBzdGFnZTpBVEtzdGFnZSA9IG5ldyBBVEtzdGFnZSg2MCwxODApO1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb3VudChvcHJ0Ok9wcnQpOnZvaWR7XHJcbiAgICAgICAgaWYgKG9wcnQgPT09IHRoaXMuX3RhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YWdlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFnZS5hdGtSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFnZS5hdHRhY2tSZWNvcmQoKTtcclxuICAgICAgICAgICAgICAgIG9wcnQuaGFuZGxlRGFtYWdlKG5ldyBEYW1hZ2UodGhpcy5fcG93ZXIsIG51bGwsIERhbWFnZVR5cGUuUEhZU0lDQUwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhZ2UucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gb3BydDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXZWFwb27mmK/kuIDkuKrlgqjlrZjlubLlkZjmlLvlh7vog73lipvkv6Hmga/nmoTnsbtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBXZWFwb257XHJcbiAgICBwcml2YXRlIF9zaXplOm51bWJlcjsgICAgICAgICAgIC8v5pS75Ye76IyD5Zu05aSn5bCPXHJcbiAgICBwdWJsaWMgX21hdHJpeDpNYXRyaXg7ICAgICAgICAgLy/mlLvlh7vojIPlm7TmoIfor4bnn6npmLVcclxuICAgIHByaXZhdGUgX29yaWdpblg6bnVtYmVyID0gMDsgICAgLy946L205Lit5b+D54K5XHJcbiAgICBwcml2YXRlIF9vcmlnaW5ZOm51bWJlciA9IDA7ICAgIC8veei9tOS4reW/g+eCuVxyXG4gICAgcHJpdmF0ZSBfY2VudHJlOm51bWJlciA9IDA7ICAgLy/nn6npmLXkuK3lv4PlnZDmoIdcclxuICAgIHByaXZhdGUgX3NoaWZ0WDpudW1iZXIgPSAwOyAgICAgLy946L205Z2Q5qCH57O75YGP56e75YC8XHJcbiAgICBwcml2YXRlIF9zaGlmdFk6bnVtYmVyID0gMDsgICAgIC8veei9tOWdkOagh+ezu+WBj+enu+WAvFxyXG5cclxuICAgIHByaXZhdGUgX2Jsb2NrTGlzdDpFbmVteVtdID0gW107Ly/mraPlnKjpmLvmjKHnmoTmlYzkurpcclxuICAgIHByaXZhdGUgX2NhcHR1cmVMaXN0OkVuZW15W10gPSBbXTsgIC8v5pS75Ye76IyD5Zu05Lit55qE5pWM5Lq6XHJcbiAgICBwdWJsaWMgZ2V0IGNhcHR1cmVMaXN0KCk6RW5lbXlbXXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FwdHVyZUxpc3Q7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwb3dlcjpudW1iZXIgPSAyOy8v5pS75Ye75YqbXHJcblxyXG4gICAgcHVibGljIHN0YWdlOkFUS3N0YWdlO1xyXG5cclxuICAgIFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65LiA5Liqd2VhcG9uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcmlnaW5ZIOWNleS9jee6tei9tOWdkOagh++8iOS4jeaYr+eyvuehruWdkOagh++8iVxyXG4gICAgICogQHBhcmFtIG9yaWdpblgg5Y2V5L2N5qiq6L205Z2Q5qCH77yI5LiN5piv57K+56Gu5Z2Q5qCH77yJXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDku4XlpYfmlbDlj6/nlKhcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3JpZ2luWTpudW1iZXIsIG9yaWdpblg6bnVtYmVyLCBzaXplOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3IE1hdHJpeChzaXplLHNpemUpO1xyXG4gICAgICAgIHRoaXMuX29yaWdpblggPSBvcmlnaW5YO1xyXG4gICAgICAgIHRoaXMuX29yaWdpblkgPSBvcmlnaW5ZO1xyXG4gICAgICAgIHRoaXMuX2NlbnRyZSA9IChzaXplLTEpLzI7XHJcbiAgICAgICAgdGhpcy5fc2hpZnRYID0gdGhpcy5fb3JpZ2luWCAtIHRoaXMuX2NlbnRyZTtcclxuICAgICAgICB0aGlzLl9zaGlmdFkgPSB0aGlzLl9vcmlnaW5ZIC0gdGhpcy5fY2VudHJlO1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgICAgIDAgICAxICAgMiAgIDMgICA0ICAgNVxyXG4gICAgICAgICAqIDAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICogMSAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgKiAyICAgICAgICBTICAgMSAgIDIgICAzICAgNFxyXG4gICAgICAgICAqIDMgICAgICAgIDEgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICogNCAgICAgICAgMiAgICAgICBDICAgICAgIHxcclxuICAgICAgICAgKiA1ICAgICAgICAzICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAqIDYgICAgLSAgIDQgICAtICAgLSAgIC0gICAtXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICog5Zu+5L6L77ya5ZyoKDQsMynnlJ/miJDkuIDkuKpzaXpl5Li6NeeahHdlYXBvbu+8jOWFtuS4reW/g+eCueWcqOe7neWvueWdkOagh+ezu+S4reS4ukMoNCwzKVxyXG4gICAgICAgICAqIOWFtl9jZW50cmXlgLzkuLooNS0xKS8yID0gMiwgY2VudHJl5YC85piv55+p6Zi15Lit5b+D54K5Q+eahOebuOWvueWdkOagh1xyXG4gICAgICAgICAqIOWFtl9zaGlmdOWAvOS4ulMoMiwxKSzov5nmmK/nn6npmLXlnKjnu53lr7nlnZDmoIfns7vkuK3nmoTkvY3nva5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiDpgJrov4fmiornn6npmLXkuK3nmoTkuIDkupsw5pS55Li6Me+8jOWPr+S7peebkeaOp+e7neWvueWdkOagh+ezu+S4reebuOW6lOS9jee9rueahOeisOaSnuS6i+S7tlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICAvL+mihOiuvuWGheWuuVxyXG4gICAgICAgIHRoaXMuX21hdHJpeC53cml0ZSh0aGlzLl9jZW50cmUsdGhpcy5fY2VudHJlLDEpOy8v5Lit5b+D5L2N572u6K6+5Li6MVxyXG4gICAgICAgIHRoaXMuX21hdHJpeC53cml0ZSh0aGlzLl9jZW50cmUsdGhpcy5fY2VudHJlKzEsMSk7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4LndyaXRlKHRoaXMuX2NlbnRyZSx0aGlzLl9jZW50cmUrMiwxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9yZXNldEV2ZW50KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgQVRLc3RhZ2UoNTAsMTIwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcm90YXRlQ2xvY2soKTpXZWFwb257XHJcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IHRoaXMuX21hdHJpeC5yb3RhdGVDbG9jaygpO1xyXG4gICAgICAgIHRoaXMuX3Jlc2V0RXZlbnQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFtbeCx5XSwgW3gseV0sIFt4LHldXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SW5kZXhMb2NhdGlvbnMoKTpudW1iZXJbXVtde1xyXG4gICAgICAgIGxldCByZXN1bHQ6bnVtYmVyW11bXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHhTdGFydCA9IHRoaXMuX3NoaWZ0WDtcclxuICAgICAgICBjb25zdCB5U3RhcnQgPSB0aGlzLl9zaGlmdFk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuX3NpemU7IHJvdyArPSAxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMuX3NpemU7IGNvbCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0cml4LnJlYWQocm93LCBjb2wpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3hTdGFydCArIGNvbCwgeVN0YXJ0ICsgcm93XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byA54Ku77yBXHJcbiAgICAgKiDnm67liY1hdHRhY2vkvJrlr7nlpITkuo7mlLvlh7vojIPlm7TlhoXnmoTmiYDmnInmlYzkurrov5vooYzmlLvlh7tcclxuICAgICAqIOS8pOWus+aVsOWAvOWwseaYr3dlYXBvbueahHBvd2Vy5pWw5YC8XHJcbiAgICAgKiDmm7TlpJrpgInmi6nnm67moIfpgLvovpHlkozkvKTlrrPnsbvlnovjgIFidWZm5Yqg5oiQ5bCG5Zyo5ZCO57ut54mI5pys5a6e546wXHJcbiAgICAgKiDmraTmlrnms5XlupTnlLHkuIDkuKpPcHJ05a6e5L6L6LCD55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhdHRhY2soKTp2b2lke1xyXG5cclxuICAgICAgICBjb25zdCBibG9ja0xlbmd0aDpudW1iZXIgPSBEYXRhYmFzZS5pLlVuaXRTaXplO1xyXG4gICAgICAgIGxldCB0d2VsdmU6RnVuY3Rpb24gPSAoKTpudW1iZXI9PntcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkqMjQgLSAxMjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NhcHR1cmVMaXN0LmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkYW1hZ2U6RGFtYWdlID0gbmV3IERhbWFnZSh0aGlzLnBvd2VyLCBudWxsLCBEYW1hZ2VUeXBlLlBIWVNJQ0FMKTtcclxuICAgICAgICAgICAgZWxlLmhhbmRsZURhbWFnZShkYW1hZ2UpO1xyXG4gICAgICAgICAgICAvLyBHYW1lRmllbGRVSS5pLkNlbnRyZS5hdHRhY2tFZmZlY3QoXHJcbiAgICAgICAgICAgIC8vICAgICAodGhpcy5fb3JpZ2luWCkqYmxvY2tMZW5ndGggKyBibG9ja0xlbmd0aC8yICsgdHdlbHZlKCksXHJcbiAgICAgICAgICAgIC8vICAgICAodGhpcy5fb3JpZ2luWSkqYmxvY2tMZW5ndGggKyBibG9ja0xlbmd0aC8yICsgdHdlbHZlKCksXHJcbiAgICAgICAgICAgIC8vICAgICBlbGUuTnVtWCArIHR3ZWx2ZSgpICsgYmxvY2tMZW5ndGgvMixcclxuICAgICAgICAgICAgLy8gICAgIGVsZS5OdW1ZICsgdHdlbHZlKCkgKyBibG9ja0xlbmd0aC8yXHJcbiAgICAgICAgICAgIC8vIClcclxuXHJcbiAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5HTE9CQUwsIEV2ZW50Q2VudHJlLlR5cGVOYW1lLkVGRkVDVCxcclxuICAgICAgICAgICAgW2VsZS5OdW1YLCBlbGUuTnVtWSwgYCM5OWNjZmZgXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGFnZS5hdHRhY2tSZWNvcmQoKTtcclxuICAgIFxyXG4gICAgICAgIC8vIGNvbnN0IHNoaWZ0Om51bWJlciA9ICh0aGlzLl9zaXplLTEpLzI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAxLuino+mZpOaJgOacieeahOi/m+WFpS/nprvlvIDmlLvlh7vojIPlm7Tkuovku7bnmoTnm5HlkKxcclxuICAgICAqIDIu6YeN5paw6K6+572u6L+b5YWlL+emu+W8gOaUu+WHu+iMg+WbtOS6i+S7tuebkeWQrFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9yZXNldEV2ZW50KCk6dm9pZHtcclxuICAgICAgICAvL+esrOS4gOS7tuS6i+WFiOS4jeWBmu+8jOetiemcgOimgeWunueOsOS6huWGjeW8hO+8jOWFiOmHjeiuvlxyXG4gICAgICAgIGZvciAobGV0IHJvdzpudW1iZXIgPSAwOyByb3cgPCB0aGlzLl9tYXRyaXguaGVpZ2h0OyByb3cgKz0gMSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2w6bnVtYmVyID0gMDsgY29sIDwgdGhpcy5fbWF0cml4LndpZHRoOyBjb2wgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdHJpeC5yZWFkKHJvdywgY29sKSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5Li655+p6Zi15LiK5q+P5LiA5Liq5YC85Li6MeeahOeCueiuvue9ruebkeWQrOS6i+S7tlxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50Q2VudHJlLlR5cGVOYW1lLklOKHJvdyArIHRoaXMuX3NoaWZ0WSwgY29sICsgdGhpcy5fc2hpZnRYKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcywgdGhpcy5fb25FbmVteUVudHJlKTtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5vbihFdmVudENlbnRyZS5GaWVsZE5hbWUuQ09MTElTSU9OLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudENlbnRyZS5UeXBlTmFtZS5PVVQocm93ICsgdGhpcy5fc2hpZnRZLCBjb2wgKyB0aGlzLl9zaGlmdFgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLCB0aGlzLl9vbkVuZW15TGVhdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2NsZWFyRXZlbnQoKTp2b2lke1xyXG4gICAgICAgIGZvciAobGV0IHJvdzpudW1iZXIgPSAwOyByb3cgPCB0aGlzLl9tYXRyaXguaGVpZ2h0OyByb3cgKz0gMSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2w6bnVtYmVyID0gMDsgY29sIDwgdGhpcy5fbWF0cml4LndpZHRoOyBjb2wgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdHJpeC5yZWFkKHJvdywgY29sKSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5Li655+p6Zi15LiK5q+P5LiA5Liq5YC85Li6MeeahOeCueiuvue9ruebkeWQrOS6i+S7tlxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9mZihFdmVudENlbnRyZS5GaWVsZE5hbWUuQ09MTElTSU9OLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudENlbnRyZS5UeXBlTmFtZS5JTihyb3cgKyB0aGlzLl9zaGlmdFksIGNvbCArIHRoaXMuX3NoaWZ0WCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsIHRoaXMuX29uRW5lbXlFbnRyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRDZW50cmUuaW5zdGFuY2Uub2ZmKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5DT0xMSVNJT04sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50Q2VudHJlLlR5cGVOYW1lLk9VVChyb3cgKyB0aGlzLl9zaGlmdFksIGNvbCArIHRoaXMuX3NoaWZ0WCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsIHRoaXMuX29uRW5lbXlMZWF2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25FbmVteUVudHJlKGVuZW15OkVuZW15KTp2b2lke1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2FwdHVyZUxpc3QubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhcHR1cmVMaXN0W2ldID09PSBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOy8v5aaC5p6c5bey57uP5o2V5o2J5q2kRW5lbXnvvIzliJnlv73nlaXkuovku7ZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jYXB0dXJlTGlzdC5wdXNoKGVuZW15KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVuZW15IGNhcHR1cmVkXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2NhcHR1cmVMaXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbkVuZW15TGVhdmUoZW5lbXk6RW5lbXkpOnZvaWR7XHJcbiAgICAgICAgLy/mn6XnnIvor6XmlYzkurrmmK/lkKbku43lpITkuo7mlLvlh7vojIPlm7TnmoTlhbbku5bmoLzlrZDkuK3vvIzlpoLmnpzmmK/vvIzliJnkuI3liKDpmaTor6XmlYzkurpcclxuICAgICAgICAvL+ivpemAu+i+keacieW+heS8mOWMllxyXG4gICAgICAgIGxldCBmb3VuZDpib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5fc2l6ZTsgcm93ICs9IDEpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5fc2l6ZTsgY29sICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb25TdGF0dXM6bnVtYmVyID0gdGhpcy5fbWF0cml4LnJlYWQocm93LGNvbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25TdGF0dXMgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygodGhpcy5fc2hpZnRZICsgcm93KStcInxcIisgKHRoaXMuX3NoaWZ0WCArIGNvbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEdhbWVGaWVsZFVJLmkuQ2VudHJlLnNlYXJjaFBvaW50KHRoaXMuX3NoaWZ0WSArIHJvdywgdGhpcy5fc2hpZnRYICsgY29sLCBlbmVteSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gR2FtZUZpZWxkVUkuaS5DZW50cmUuc2VhcmNoUG9pbnQodGhpcy5fc2hpZnRZICsgcm93LCB0aGlzLl9zaGlmdFggKyBjb2wsIGVuZW15KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFbmVteSByZW1vdmUgZmFpbGVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lpoLmnpzmnKrmn6Xmib7liLDor6XmlYzkurrvvIjlh73mlbDmnKpyZXR1cm7vvInvvIzlsIbmraTmlYzkurrku47mjZXmjYnliJfooajkuK3np7vpmaRcclxuICAgICAgICBmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCB0aGlzLl9jYXB0dXJlTGlzdC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FwdHVyZUxpc3RbaV0gPT09IGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkVuZW15IHJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYXB0dXJlTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbiIsImltcG9ydCBHYW1lRmllbGRVSSBmcm9tIFwiLi4vR2FtZUZpZWxkVUlcIjtcclxuaW1wb3J0IFN0YXRlIGZyb20gXCIuL1N0YXRlXCI7XHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L0RhdGFiYXNlXCI7XHJcbmltcG9ydCBQZW9wbGUsIHsgV2VhcG9uIH0gZnJvbSBcIi4vUGVvcGxlXCI7XHJcbmltcG9ydCBFdmVudENlbnRyZSBmcm9tIFwiLi4vLi4vLi4vVG95Ym94L0V2ZW50Q2VudHJlXCI7XHJcblxyXG4vKipcclxuICog5omA5pyJ6KGo546w57G755qE5Z+657G7XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBQcmVzZW50e1xyXG4gICAgcHJvdGVjdGVkIF9yZWxhdGVkUGVvcGxlOlBlb3BsZTtcclxuICAgIHB1YmxpYyBfc3ByaXRlOkxheWEuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIF9hY3Rpb25CYXI6TGF5YS5TcHJpdGUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuICAgIHByb3RlY3RlZCBfYXRrUmFuZ2VPbjpib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgX2F0a1JhbmdlOkxheWEuU3ByaXRlID0gbmV3IExheWEuU3ByaXRlKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBkZWFkOmJvb2xlYW4gPSBmYWxzZTsvL+WPjeato+aIkeS5n+S4jee7tOaKpOi/meS6m+S4nOilv+S6hlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVybDpzdHJpbmcsIGZ1Y2s6Ym9vbGVhbiA9IGZhbHNlKXsvL+WwseaYr+KApuKApuWPjeato+aIkeS5n+S4jee7tOaKpOi/meS6m+S4nOilv+S6hlxyXG4gICAgICAgIHRoaXMuX3Nwcml0ZSA9IEdhbWVGaWVsZFVJLmkuQ2VudHJlLkNyZWF0ZVNwcml0ZSh1cmwpO1xyXG5cclxuICAgICAgICBsZXQgZnVja0xvYWQxOkZ1bmN0aW9uID0gKCk9PntcclxuICAgICAgICAgICAgdGhpcy5fc3ByaXRlLmxvYWRJbWFnZShcIkJhc2ljL+WFteiageWllOi3kTEucG5nXCIpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVhZCl7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMzAwLHRoaXMsZnVja0xvYWQyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZ1Y2tMb2FkMjpGdW5jdGlvbiA9ICgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5sb2FkSW1hZ2UoXCJCYXNpYy/lhbXomoHlpZTot5EyLnBuZ1wiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRlYWQpe1xyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDMwMCx0aGlzLGZ1Y2tMb2FkMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZ1Y2spIHtcclxuICAgICAgICAgICAgZnVja0xvYWQxKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLm9uKEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5HTE9CQUwsIEV2ZW50Q2VudHJlLlR5cGVOYW1lLkVORU1ZX0RFQUQsIHRoaXMsIChwZW9wbGU6UGVvcGxlKT0+e1xyXG4gICAgICAgICAgICBpZiAocGVvcGxlID09PSB0aGlzLl9yZWxhdGVkUGVvcGxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmFkZENoaWxkKHRoaXMuX2FjdGlvbkJhcik7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLnBhcmVudC5hZGRDaGlsZCh0aGlzLl9hdGtSYW5nZSk7XHJcbiAgICAgICAgdGhpcy5kcmF3SGVhbHRoQmFyKDEsMSk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5vbk1vdXNlRG93bik7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLm9uKExheWEuRXZlbnQuTU9VU0VfT1ZFUiwgdGhpcywgdGhpcy5vbkhvdmVyKTtcclxuICAgICAgICB0aGlzLl9zcHJpdGUub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsIHRoaXMsIHRoaXMub25Nb3VzZUxlYXZlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTW91c2VEb3duKCk6dm9pZHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9yZWxhdGVkUGVvcGxlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHJlbGF0ZWRQZW9wbGUocGVvcGxlOlBlb3BsZSl7XHJcbiAgICAgICAgdGhpcy5fcmVsYXRlZFBlb3BsZSA9IHBlb3BsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHNwcml0ZSgpOkxheWEuU3ByaXRle1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcHJpdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdBY3Rpb25CYXIoY3VycmVudDpudW1iZXIsIGF0a1BvaW50Om51bWJlciwgZnVsbDpudW1iZXIpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fYWN0aW9uQmFyLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgY29uc3QgcGVyY2VudDpudW1iZXIgPSBjdXJyZW50L2Z1bGw7XHJcbiAgICAgICAgY29uc3QgZnVsbExlbmd0aDpudW1iZXIgPSBEYXRhYmFzZS5pLlVuaXRTaXplO1xyXG4gICAgICAgIHRoaXMuX2FjdGlvbkJhci5ncmFwaGljcy5kcmF3UmVjdCgtMSwtMTksIGZ1bGxMZW5ndGgrMiwgNixcIiM0NDQ0NDRcIik7Ly/og4zmma/mnaFcclxuICAgICAgICB0aGlzLl9hY3Rpb25CYXIuZ3JhcGhpY3MuZHJhd1JlY3QoMCwtMTgsIGZ1bGxMZW5ndGgqcGVyY2VudCwgNCxcImZmZmYwMFwiKTsvL+WQjuaRh+adoVxyXG4gICAgICAgIHRoaXMuX2FjdGlvbkJhci5ncmFwaGljcy5kcmF3UmVjdCgwLC0xOCwgZnVsbExlbmd0aCpNYXRoLm1pbihwZXJjZW50LCBhdGtQb2ludC9mdWxsKSwgNCxcIiM0MGZmMDBcIik7Ly/liY3mkYfmnaFcclxuXHJcbiAgICAgICAgLy/nlLvkuKrpgJDmuJDnvKnlsI/nmoTmoYbooajnpLrov5vluqZcclxuICAgICAgICBpZiAoY3VycmVudCA8PSBhdGtQb2ludCAmJiBjdXJyZW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhcDpudW1iZXIgPSAoZnVsbExlbmd0aCpjdXJyZW50L2F0a1BvaW50KS8yO1xyXG4gICAgICAgICAgICBjb25zdCBsZWc6bnVtYmVyID0gZnVsbExlbmd0aCAtIDIqZ2FwO1xyXG4gICAgICAgICAgICBjb25zdCByZWFjaDpudW1iZXIgPSBmdWxsTGVuZ3RoIC0gZ2FwO1xyXG4gICAgICAgICAgICBjb25zdCB3aWQ6bnVtYmVyID0gNDtcclxuICAgICAgICAgICAgY29uc3QgY29sb3I6c3RyaW5nID0gXCIjNGRhNmZmXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbkJhci5ncmFwaGljcy5kcmF3UmVjdChnYXAsZ2FwLGxlZyx3aWQsY29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25CYXIuZ3JhcGhpY3MuZHJhd1JlY3QocmVhY2gsZ2FwLHdpZCxsZWcsY29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25CYXIuZ3JhcGhpY3MuZHJhd1JlY3QoZ2FwLHJlYWNoLGxlZyArIDQsd2lkLGNvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aW9uQmFyLmdyYXBoaWNzLmRyYXdSZWN0KGdhcCxnYXAsd2lkLGxlZyxjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3SGVhbHRoQmFyKGN1cnJlbnQ6bnVtYmVyLCBmdWxsOm51bWJlcik6dm9pZHtcclxuICAgICAgICBjb25zdCBwZXJjZW50Om51bWJlciA9IGN1cnJlbnQvZnVsbDtcclxuICAgICAgICBjb25zdCBiYXJMZW5ndGg6bnVtYmVyID0gRGF0YWJhc2UuaS5Vbml0U2l6ZSAqIHBlcmNlbnQ7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmRyYXdSZWN0KC0xLCAtMTEsIERhdGFiYXNlLmkuVW5pdFNpemUrMiwgNiwgXCIjNDQ0NDQ0XCIpOy8v6IOM5pmv5p2hXHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdyYXBoaWNzLmRyYXdSZWN0KDAsIC0xMCwgYmFyTGVuZ3RoLCA0LCBcIiNjYzAwMDBcIik7Ly/ooYDmnaFcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBlcmZvcm0oc3RhdGU6U3RhdGUpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLnBvcyhzdGF0ZS54LHN0YXRlLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoaWRlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fc3ByaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Ib3ZlcigpOnZvaWR7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJob3ZlclwiKTtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZS5ldmVudChFdmVudENlbnRyZS5GaWVsZE5hbWUuR0xPQkFMLCBFdmVudENlbnRyZS5UeXBlTmFtZS5TSE9XX1JBTkdFLCBbdGhpc10pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoKTp2b2lke1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib3V0XCIpO1xyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KEV2ZW50Q2VudHJlLkZpZWxkTmFtZS5HTE9CQUwsIEV2ZW50Q2VudHJlLlR5cGVOYW1lLkhJREVfUkFOR0UsIFt0aGlzXSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3QXR0YWNrUmFuZ2Uod2VhcG9uOldlYXBvbik6dm9pZHtcclxuICAgICAgICBsZXQgbG9jYXRpb246bnVtYmVyW11bXSA9IHdlYXBvbi5nZXRJbmRleExvY2F0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IHVuaXQ6bnVtYmVyID0gRGF0YWJhc2UuaS5Vbml0U2l6ZTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhsb2NhdGlvbik7XHJcbiAgICAgICAgbG9jYXRpb24uZm9yRWFjaChlbGU9PntcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZWxlKTtcclxuICAgICAgICAgICAgbGV0IHNwcjpMYXlhLlNwcml0ZSA9IExheWEuU3ByaXRlLmZyb21JbWFnZShcIi4vQmFzaWMvdmlzYS5wbmdcIik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNwcik7XHJcbiAgICAgICAgICAgIHNwci5zaXplKHVuaXQsdW5pdCk7XHJcbiAgICAgICAgICAgIHNwci5wb3MoZWxlWzBdKnVuaXQsIGVsZVsxXSp1bml0KTtcclxuICAgICAgICAgICAgdGhpcy5fYXRrUmFuZ2UuYWRkQ2hpbGQoc3ByKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5fYXRrUmFuZ2UuZ3JhcGhpY3MuZHJhd1JlY3QoZWxlWzBdKnVuaXQsIGVsZVsxXSp1bml0LCB1bml0LHVuaXQsXCIjMDA4OGZmXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkcmF3UmFuZ2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyQXR0YWNrUmFuZ2UoKTp2b2lke1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2xlYXJSYW5nZVwiKTtcclxuICAgICAgICB0aGlzLl9hdGtSYW5nZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fYXRrUmFuZ2UpO1xyXG4gICAgICAgIHRoaXMuX2F0a1JhbmdlID0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLnBhcmVudC5hZGRDaGlsZCh0aGlzLl9hdGtSYW5nZSk7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhdGUge1xyXG4gICAgcHJvdGVjdGVkIF94Om51bWJlcjtcclxuICAgIHByb3RlY3RlZCBfeTpudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVhbHRoOm51bWJlcjtcclxuICAgIHB1YmxpYyBmdWxsSGVhbHRoOm51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6YW55KSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB4KCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl94O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeSgpOm51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5feTtcclxuICAgIH1cclxufSIsImltcG9ydCB7dWl9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIlxyXG5pbXBvcnQgRXZlbnRDZW50cmUgZnJvbSBcIi4uL1RveWJveC9FdmVudENlbnRyZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZyBleHRlbmRzIHVpLkxvYWRpbmdTY2VuZVVJe1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgZ2FtZVNldDpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvR2FtZVNldC5qc29uXCIsXHJcbiAgICAgICAgZW5lbXlEYXRhYmFzZTpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvRW5lbXlEYXRhYmFzZS5qc29uXCIsXHJcbiAgICAgICAgb3BlcmF0b3JEYXRhYmFzZTpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvT3BlcmF0b3JEYXRhYmFzZS5qc29uXCI7XHJcblxyXG4gICAgICAgIC8v5Yqg6L295ri45oiP6K6+572u77yM5pWM5Lq65pWw5o2u5bqT77yM5bmy5ZGY5pWw5o2u5bqTXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChbZ2FtZVNldCxlbmVteURhdGFiYXNlLG9wZXJhdG9yRGF0YWJhc2VdLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Mb2FkZWQpLG51bGwsTGF5YS5Mb2FkZXIuSlNPTilcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWRlZCgpe1xyXG4gICAgICAgIEV2ZW50Q2VudHJlLmluc3RhbmNlLmV2ZW50KFwiSW5pdFwiLCBcIlJlZ3VsYXJcIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTXlNYXRoIGZyb20gXCIuL215TWF0aFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJveCBleHRlbmRzIExheWEuUmVjdGFuZ2xle1xyXG5cclxuICAgIHB1YmxpYyB1bml0WDpudW1iZXI7XHJcbiAgICBwdWJsaWMgdW5pdFk6bnVtYmVyO1xyXG4gICAgXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigwLDAsMCwwKTtcclxuICAgIH1cclxuICAgXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsLHmmK/igKbigKbmnaXkuIDnu4TvvIgxMDDkuKrvvInpmo/mnLrnmoTnorDmkp7nrrFcclxuICAgICAqIEBwYXJhbSB4UmFuZ2UgXHJcbiAgICAgKiBAcGFyYW0geVJhbmdlIFxyXG4gICAgICogQHBhcmFtIHdpZFJhbmdlIFxyXG4gICAgICogQHBhcmFtIGhpZ1JhbmdlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmFuZG9tQm94ZXMoeFJhbmdlOm51bWJlciA9IDEyMDAsIHlSYW5nZTpudW1iZXIgPSA4MDAsIHdpZFJhbmdlOm51bWJlciA9IDMwMCwgaGlnUmFuZ2U6bnVtYmVyID0gMzAwKTpCb3hbXXtcclxuICAgICAgICBjb25zdCByYWQ6RnVuY3Rpb24gPSBNeU1hdGgucmFuZG9tSW50O1xyXG4gICAgICAgIGxldCByZXN1bHQ6Qm94W10gPSBbXTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNTA7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQm94KCkpO1xyXG4gICAgICAgICAgICByZXN1bHRbaV0ucG9zKHJhZCh4UmFuZ2UpLCByYWQoeVJhbmdlKSkuc2l6ZShyYWQod2lkUmFuZ2UpLCByYWQoaGlnUmFuZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9zKHg6bnVtYmVyLCB5Om51bWJlcik6Qm94e1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2l6ZSh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpOkJveHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyc2VjdHNfWChyZWM6Qm94KTpib29sZWFue1xyXG4gICAgICAgIGlmICh0aGlzLnggPCByZWMueCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVjLmludGVyc2VjdHNfWCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICAodGhpcy54ID49IHJlYy54ICYmIHRoaXMueCA8PSByZWMucmlnaHQpIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5yaWdodCA+PSByZWMueCAmJiB0aGlzLnJpZ2h0IDw9IHJlYy5yaWdodClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJzZWN0c19ZKHJlYzpCb3gpOmJvb2xlYW57XHJcbiAgICAgICAgaWYgKHRoaXMueTxyZWMueSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVjLmludGVyc2VjdHNfWSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICAodGhpcy55ID49IHJlYy55ICYmIHRoaXMueSA8PSByZWMuYm90dG9tKSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuYm90dG9tID49IHJlYy55ICYmIHRoaXMuYm90dG9tIDw9IHJlYy5ib3R0b20pXHJcbiAgICB9XHJcbn1cclxuICAgIFxyXG5jbGFzcyBNYXBOb2RlPEssVj57XHJcbiAgICBwdWJsaWMga2V5O1xyXG4gICAgcHVibGljIHZhbHVlO1xyXG4gICAgY29uc3RydWN0b3Ioa2V5OkssIHZhbHVlOlYpe1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTm9kZTxFPntcclxuICAgIHB1YmxpYyBpdGVtOkU7XHJcbiAgICBwdWJsaWMgbmV4dDpOb2RlPEU+O1xyXG4gICAgY29uc3RydWN0b3IoaXRlbTpFLCBuZXh0Ok5vZGU8RT4pe1xyXG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IG1vZHVsZSBTdHJ1Y3tcclxuICAgIGV4cG9ydCBjbGFzcyBMaW5rTGlzdDxFPntcclxuICAgICAgICBwcml2YXRlIF9oZWFkOk5vZGU8RT47XHJcbiAgICAgICAgcHJpdmF0ZSBfdGFpbDpOb2RlPEU+O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgTm9kZTxFPihudWxsLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IG5ldyBOb2RlPEU+KG51bGwsIG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/ln7rnoYDlsZ7mgKdcclxuICAgICAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpOm51bWJlcntcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudDpOb2RlPEU+ID0gdGhpcy5faGVhZDtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQubmV4dCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IDE7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IGlzRW1wdHkoKTpib29sZWFue1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVhZC5uZXh0ID09PSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lop7liKDmlLnmn6VcclxuICAgICAgICAvL+WinlxyXG4gICAgICAgIHB1YmxpYyBwdXNoKGl0ZW06RSk6dm9pZHtcclxuICAgICAgICAgICAgbGV0IGxhc3Q6Tm9kZTxFPiA9IG5ldyBOb2RlPEU+KGl0ZW0sIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkLm5leHQgPSBsYXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXh0ID0gbGFzdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwubmV4dC5uZXh0ID0gbGFzdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwubmV4dCA9IGxhc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdW5zaGlmdChpdGVtOkUpOnZvaWR7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdDpOb2RlPEU+ID0gbmV3IE5vZGU8RT4oaXRlbSwgbnVsbCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwubmV4dCA9IGZpcnN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZC5uZXh0ID0gZmlyc3Q7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdC5uZXh0ID0gdGhpcy5faGVhZC5uZXh0Lm5leHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkLm5leHQgPSBmaXJzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGluc2VydChpbmRleDpudW1iZXIsIGl0ZW06RSk6Ym9vbGVhbntcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMubGVuZ3RoKSB7Ly/ov5nlj6XkuI3kuIDmoLdcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Ok5vZGU8RT4gPSB0aGlzLl9oZWFkOy8v6L+Z5Y+l5ZKM5YW25LuW6YGN5Y6G5piv5LiN5LiA5qC355qE77yM5Zug5Li66KaB6YCJ5Y+W5Yiw6YCJ5a6a5L2N572u55qE5YmN6Z2i5LiA5qC8XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgaW5kZXg7IG4gKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3VycmVudC5uZXh0ID0gbmV3IE5vZGU8RT4oaXRlbSwgY3VycmVudC5uZXh0KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liKBcclxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGluZGV4Om51bWJlcik6RXtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Ok5vZGU8RT4gPSB0aGlzLl9oZWFkLm5leHQ7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgaW5kZXg7IG4gKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW06RSA9IGN1cnJlbnQuaXRlbTtcclxuICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudC5pdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNoaWZ0KCk6RXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5faGVhZC5uZXh0Lml0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYWQubmV4dCA9IHRoaXMuX2hlYWQubmV4dC5uZXh0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90YWlsLm5leHQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mlLlcclxuICAgICAgICBwdWJsaWMgd3JpdGUoaW5kZXg6bnVtYmVyLCBpdGVtOkUpOnZvaWR7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQ6Tm9kZTxFPiA9IHRoaXMuX2hlYWQubmV4dDtcclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBpbmRleDsgbiArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50Lml0ZW0gPSBpdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mn6VcclxuICAgICAgICBwdWJsaWMgcmVhZChpbmRleDpudW1iZXIpOkV7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQ6Tm9kZTxFPiA9IHRoaXMuX2hlYWQubmV4dDtcclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBpbmRleDsgbiArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudC5pdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlYXJjaChpdGVtOkUpOm51bWJlcltde1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlcltdID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuZm9yZWFjaCgoZWxlOkUsIGluZGV4Om51bWJlcik9PntcclxuICAgICAgICAgICAgICAgIGlmIChlbGUgPT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yik5pat6ZO+6KGo5Lit5piv5ZCm5a2Y5Zyo5p+Q5LiA5YWD57SgXHJcbiAgICAgICAgICogQHBhcmFtIGl0ZW0gXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGhhcyhpdGVtOiBFKTpib29sZWFue1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Lml0ZW0gPT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/pq5jpmLblh73mlbBcclxuICAgICAgICBwdWJsaWMgZm9yZWFjaChmOihlbGU6RSwgaW5kZXg6bnVtYmVyLCBsaXN0OkxpbmtMaXN0PEU+KT0+dm9pZCk6dm9pZHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XHJcbiAgICAgICAgICAgIGxldCBudW06bnVtYmVyID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGYoY3VycmVudC5pdGVtLCBudW0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICAgICAgICAgIG51bSArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDor7fmmoLml7bkuI3opoHkvb/nlKjov5nkuKrlh73mlbDvvIzlm6DkuLrmiJHkuZ/kuI3nn6XpgZPlroPkvJrkuI3kvJrniIbngrhcclxuICAgICAgICAgKiDpmaTpnZ7kvaDor7vov4fov5nkuKrlh73mlbDnmoTmupDku6PnoIFcclxuICAgICAgICAgKiBAcGFyYW0gZiDliKTmlq3lhYPntKDkvJjlhYjnuqfnmoTlm57osIPlh73mlbBcclxuICAgICAgICAgKiBAcGFyYW0gaW5jcmVhc2Ug5piv5ZCm5Y2H5bqP77yM6buY6K6k5Y2H5bqPXHJcbiAgICAgICAgICogQHJldHVybnMg6L+U5Zue5LiA5Liq5o6S5bqP55qE6ZO+6KGoXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHNvcnRieShmOihlbGU6RSk9Pm51bWJlciwgaW5jcmVhc2U6Ym9vbGVhbiA9IHRydWUpOkxpbmtMaXN0PEU+e1xyXG4gICAgICAgICAgICBsZXQgcHJpb3JpdHk6TGlua0xpc3Q8bnVtYmVyPiA9IG5ldyBMaW5rTGlzdDxudW1iZXI+KCk7XHJcbiAgICAgICAgICAgIGxldCBzb3J0ZWQ6TGlua0xpc3Q8RT4gPSBuZXcgTGlua0xpc3Q8RT4oKTtcclxuICAgICAgICAgICAgcHJpb3JpdHkucHVzaCgtMCk7XHJcbiAgICAgICAgICAgIHNvcnRlZC5wdXNoKG51bGwpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbXBhcmU6KGE6bnVtYmVyLGI6bnVtYmVyKT0+Ym9vbGVhbiA9IGluY3JlYXNlPyhhLGIpPT57cmV0dXJuIGEgPCBiO306KGEsYik9PntyZXR1cm4gYSA+IGJ9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JlYWNoKChlbGUpPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFByaSA9IGYoZWxlKTtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlOk5vZGU8RT4gPSBzb3J0ZWQuX2hlYWQubmV4dDtcclxuICAgICAgICAgICAgICAgIGxldCBwcmlOb2RlOk5vZGU8bnVtYmVyPiA9IHByaW9yaXR5Ll9oZWFkLm5leHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kUGxhY2U6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUubmV4dCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjdXJyZW50UHJpIDwgcHJpTm9kZS5uZXh0Lml0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZShjdXJyZW50UHJpLCBwcmlOb2RlLm5leHQuaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5uZXh0ID0gbmV3IE5vZGU8RT4oZWxlLCBub2RlLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlOb2RlLm5leHQgPSBuZXcgTm9kZTxudW1iZXI+KGN1cnJlbnRQcmksIHByaU5vZGUubmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUGxhY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpTm9kZSA9IHByaU5vZGUubmV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kUGxhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0ZWQucHVzaChlbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5LnB1c2goY3VycmVudFByaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc29ydGVkLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3J0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBwdWJsaWMgYmJTb3J0QnkoZjooZWxlOkUpPT5udW1iZXIsIGluY3JlYXNlOmJvb2xlYW4gPSB0cnVlKTpMaW5rTGlzdDxFPntcclxuXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgTWFwPEssVj57XHJcbiAgICAgICAgcHJpdmF0ZSBfbGlzdDpBcnJheTxNYXBOb2RlPEssVj4+XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdCA9IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBnZXQoa2V5OkspOlZ7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGVsZSBvZiB0aGlzLl9saXN0KXtcclxuICAgICAgICAgICAgICAgIGlmIChlbGUua2V5ID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlLnZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcHVibGljIGdldEtleUJ5VmFsKHZhbDpWKTpLe1xyXG4gICAgICAgICAgICBmb3IgKGxldCBlbGUgb2YgdGhpcy5fbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZS52YWx1ZSA9PT0gdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZS5rZXlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMga2V5RXhpc3Qoa2V5OkspOmJvb2xlYW57XHJcbiAgICAgICAgICAgIGZvciAobGV0IGVsZSBvZiB0aGlzLl9saXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlLmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcHVibGljIHNldChrZXk6Syx2YWx1ZTpWKTpib29sZWFue1xyXG4gICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHRoaXMuX2xpc3QubGVuZ3RoOyBuICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9saXN0W25dLmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlzdFtuXS52YWx1ZSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QucHVzaChuZXcgTWFwTm9kZTxLLFY+KGtleSx2YWx1ZSkpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgYmF0Y2hTZXQoa2V5czpLW10sIHZhbHVlczpWW10pOmJvb2xlYW57XHJcbiAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwga2V5cy5sZW5ndGg7IG4gKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5c1tuXSwgdmFsdWVzW25dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyByZW1vdmUoa2V5OkspOmJvb2xlYW57XHJcbiAgICAgICAgICAgIGxldCBjb3VudDpudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBlbGUgb2YgdGhpcy5fbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZS5rZXkgPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGNvdW50LDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpOm51bWJlcntcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBmb3JlYWNoKGY6KGs6SywgdjpWKT0+dm9pZCk6dm9pZHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZWxlIG9mIHRoaXMuX2xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGYoZWxlLmtleSwgZWxlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBmaWx0ZXIoZjooazpLLHY6Vik9PmJvb2xlYW4pOk1hcDxLLFY+e1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hcDxLLFY+KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGVsZSBvZiB0aGlzLl9saXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZihlbGUua2V5LCBlbGUudmFsdWUpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGVsZS5rZXksIGVsZS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFBvaW50ZXJMaXN0PEU+e1xyXG4gICAgICAgIHByaXZhdGUgX2xpc3Q6QXJyYXk8RT4gPSBbXTtcclxuICAgICAgICBwcml2YXRlIF9wb2ludGVyOm51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3Ioc291cmNlOkFycmF5PEU+ID0gW10sIGluaXRQb2ludDpudW1iZXIgPSAwKXtcclxuICAgICAgICAgICAgc291cmNlLmZvckVhY2goKGVsZSk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3QucHVzaChlbGUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IGV4Y2VlZGluZygpOmJvb2xlYW57XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVyID49IHRoaXMuX2xpc3QubGVuZ3RoIHx8IHRoaXMuX3BvaW50ZXIgPCAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIOS7peS4i+azqOmHiuS4re+8jOaKiuaVsOe7hOeci+S9nOaoquWQkeaOkuWIl+eahOS4gOezu+WIl+WFg+e0oFxyXG4gICAgICAgIGluZGV4ID0gMOeahOWFg+e0oOWcqOacgOW3puS+p1xyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIHJlYWQoKTpFey8v5p+l55yL5b2T5YmNcG9pbnRlcuaJgOaMh+eahOWFg+e0oFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdFt0aGlzLl9wb2ludGVyXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RlcCgpOkV7Ly9wb2ludGVy5ZCR5Y+z56e75LiA5q2lXHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ZXIrPTE7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvKHBsYWNlOm51bWJlcik6UG9pbnRlckxpc3Q8RT57Ly9wb2ludGVy56e75Yiw5oyH5a6a5L2N572uXHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ZXIgPSBwbGFjZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVzaChkYXRhOkUpOlBvaW50ZXJMaXN0PEU+ey8v5Zyo5pWw57uE5pyr5bC+5aKe5Yqg5LiA5Liq5YWD57SgXHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QucHVzaChkYXRhKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0KGluZGV4Om51bWJlcixkYXRhOkUpOlBvaW50ZXJMaXN0PEU+ey8v6KaG5YaZ5pWw57uE54m55a6aaW5kZXjkuK3nmoTlhYPntKBcclxuICAgICAgICAgICAgdGhpcy5fbGlzdFtpbmRleF0gPSBkYXRhXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG5leHQoc2hpZnQ6bnVtYmVyID0gMSk6RXtcclxuICAgICAgICAgICAgLy/or7vlj5bkvY3kuo7lvZPliY1wb2ludGVy5omA5oyH55qE5YWD57Sg5Y+z6L656Iul5bmy5qC855qE5YWD57SgXHJcbiAgICAgICAgICAgIC8vc2hpZnTpu5jorqTkuLox77yM5Y2z5b2T5YmNcG9pbnRlcuWPs+i+ueebuOmCu+eahOWFg+e0oFxyXG4gICAgICAgICAgICAvL3NoaWZ05Li66LSf5pWw5pe26I635Y+W5bem5L6n55qE5YWD57SgXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0W3RoaXMuX3BvaW50ZXIrc2hpZnRdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgbGVuZ3RoKCk6bnVtYmVyey8v6I635Y+W5pWw57uE6ZW/5bqmXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IGxhc3QoKTpFey8v6I635Y+W5pyA5ZCO5LiA6aG5XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0W3RoaXMuX2xpc3QubGVuZ3RoLTFdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgZmlyc3QoKTpFey8v6I635Y+W6aaW6aG5XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0WzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IHBvaW50ZXIoKTpudW1iZXJ7Ly/ojrflj5Zwb2ludGVyXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVyXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgYXRFbmQoKTpib29sZWFuey8v5p+l55yL4oCccG9pbnRlcuaMh+WQkeaVsOe7hOacgOWPs+S+p+eahOWFg+e0oOKAneeahOecn+WAvFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlciA9PT0gdGhpcy5fbGlzdC5sZW5ndGggLSAxXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtTdHJ1Y30gZnJvbSBcIi4vRGF0YVN0cnVjdHVyZVwiXHJcblxyXG5cclxuY29uc3QgZ2FtZVNldF9VUkw6c3RyaW5nID0gXCIuL0RhdGFiYXNlL0dhbWVTZXQuanNvblwiLFxyXG5lbmVteURhdGFiYXNlX1VSTDpzdHJpbmcgPSBcIi4vRGF0YWJhc2UvRW5lbXlEYXRhYmFzZS5qc29uXCIsXHJcbm9wZXJhdG9yRGF0YWJhc2VfVVJMOnN0cmluZyA9IFwiLi9EYXRhYmFzZS9PcGVyYXRvckRhdGFiYXNlLmpzb25cIlxyXG5cclxuXHJcblxyXG5cclxudHlwZSBFbmVteUV2ZW50ID0ge1xyXG4gICAgdGltZTpudW1iZXIsXHJcbiAgICB0eXBlRGF0YTphbnksXHJcbiAgICBwYXRoOm51bWJlcltdW11cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YWJhc2V7XHJcblxyXG4gICAgLy/liJ3lp4vljJYgU3RhcnRcclxuICAgIHB1YmxpYyBzdGF0aWMgaTpEYXRhYmFzZVxyXG4gICAgLy/nm7TmjqVwdWJsaWMgc3RhdGljIGluc3Q6RGF0YWJhc2UgPSBuZXcgRGF0YWJhc2UoKSzmmK/lkKblj6/ku6XlnKjnsbvoo4Xovb3ml7blsLHliJvlu7rmiYDpnIDnmoTljZXkvos/XHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB0aGlzLmkgPSBuZXcgRGF0YWJhc2UoKVxyXG4gICAgICAgIHRoaXMuaW5pdCA9ICgpPT57fVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIExheWEubG9hZGVyLmxvYWQoW2VuZW15RGF0YWJhc2VfVVJMLG9wZXJhdG9yRGF0YWJhc2VfVVJMLGdhbWVTZXRfVVJMXSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uTG9hZGVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkxvYWRlZCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fZW5lbXlEYXRhID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGVuZW15RGF0YWJhc2VfVVJMKTtcclxuICAgICAgICB0aGlzLl9vcGVyYXRvckRhdGEgPSBMYXlhLmxvYWRlci5nZXRSZXMob3BlcmF0b3JEYXRhYmFzZV9VUkwpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVTZXQgPSBMYXlhLmxvYWRlci5nZXRSZXMoZ2FtZVNldF9VUkwpO1xyXG5cclxuICAgICAgICB0aGlzLl91bml0U2l6ZSA9IHRoaXMuX2dhbWVTZXRbXCJncm91bmRcIl0uc2l6ZTtcclxuICAgICAgICB0aGlzLl9zdWJVbml0U2l6ZSA9IE1hdGguZmxvb3IodGhpcy5fdW5pdFNpemUqNC81KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+WIneWni+WMliBFbmRcclxuXHJcbiAgICBwcml2YXRlIF9lbmVteURhdGE6SlNPTjsgICAgLy/mlYzkurrmlbDmja5qc29u5paH5Lu2XHJcbiAgICBwcml2YXRlIF9vcGVyYXRvckRhdGE6SlNPTjsgLy/lubLlkZjmlbDmja5qc29u5paH5Lu2XHJcbiAgICBwcml2YXRlIF9nYW1lU2V0OkpTT047ICAgICAgLy/muLjmiI/orr7lrppqc29u5paH5Lu2XHJcblxyXG4gICAgcHJpdmF0ZSBfdW5pdFNpemU6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfc3ViVW5pdFNpemU6bnVtYmVyO1xyXG4gICAgXHJcblxyXG4gICAgcHVibGljIGdldFBhdGgocGF0aE5hbWU6c3RyaW5nKTpudW1iZXJbXVtde1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nYW1lU2V0W1wicGF0aHNcIl1bcGF0aE5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbmVteShlbmVteU5hbWU6c3RyaW5nKTphbnl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZW15RGF0YVtlbmVteU5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRPcHJ0KG9wZXJhdG9yTmFtZTpzdHJpbmcpOmFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3BlcmF0b3JEYXRhW29wZXJhdG9yTmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEdyb3VuZCgpOmFueXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZVNldFtcImdyb3VuZFwiXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGltZXRhYmxlKCk6YW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nYW1lU2V0W1widGltZXRhYmxlXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgVW5pdFNpemUoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VuaXRTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc3ViVW5pdFNpemUoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YlVuaXRTaXplO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RydWMgfSBmcm9tIFwiLi9EYXRhU3RydWN0dXJlXCI7XHJcblxyXG5jbGFzcyBGaWVsZE5hbWV7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgR0xPQkFMOnN0cmluZyA9IFwiR0xPQkFMXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgUEVPUExFOnN0cmluZyA9IFwiUEVPUExFXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgQ1JFQVRFX0VORU1ZX1NQUklURTpzdHJpbmcgPSBcIkNSRUFURV9FTkVNWV9TUFJJVEVcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBDT0xMSVNJT046c3RyaW5nID0gXCJDT0xMSVNJT05cIjtcclxufVxyXG5cclxuXHJcbmNsYXNzIFR5cGVOYW1le1xyXG4gICAgcHVibGljIGdldCBBbnkoKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIFwiQW55XCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nlJ/miJDov5vlhaXkuovku7blrZfnrKbkuLJcclxuICAgIHB1YmxpYyBJTihyb3c6bnVtYmVyLCBjb2w6bnVtYmVyKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIGBJTiR7cm93K1wiXCIrY29sfWA7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgT1VUKHJvdzpudW1iZXIsIGNvbDpudW1iZXIpOnN0cmluZ3tcclxuICAgICAgICByZXR1cm4gYE9VVCR7cm93K1wiXCIrY29sfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IFBBVVNFOnN0cmluZyA9IFwiUEFVU0VcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBFTkVNWV9ERUFEOnN0cmluZyA9IFwiRU5FTVlfREVBRFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEVGRkVDVDpzdHJpbmcgPSBcIkVGRkVDVFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IE9QUlRfREVBRDpzdHJpbmcgPSBcIk9QUlRfREVBRFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IFNIT1dfUkFOR0U6c3RyaW5nID0gXCJTSE9XX1JBTkdFXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSElERV9SQU5HRTpzdHJpbmcgPSBcIkhJREVfUkFOR0VcIjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRDZW50cmV7XHJcbiAgICBwdWJsaWMgc3RhdGljIGluc3RhbmNlOkV2ZW50Q2VudHJlOy8v6Ieq6Lqr55qE5a6e5L6LXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbml0KCk6dm9pZHtcclxuICAgICAgICBFdmVudENlbnRyZS5pbnN0YW5jZSA9IG5ldyBFdmVudENlbnRyZSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdCA9ICgpPT57fTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCl7fTtcclxuXHJcbiAgICBwcml2YXRlIF9ldmVudEZpZWxkczpTdHJ1Yy5NYXA8c3RyaW5nLCBMYXlhLkV2ZW50RGlzcGF0Y2hlcj4gPSBuZXcgU3RydWMuTWFwPHN0cmluZywgTGF5YS5FdmVudERpc3BhdGNoZXI+KCk7XHJcbiAgICAvKipcclxuICAgICAqIOWMuuWIhuS4jeWQjOeahOS6i+S7tuWMuuWfn1xyXG4gICAgICog5LiA5Liq5LqL5Lu25Yy65Z+f55qE5LqL5Lu277yM5LiN6IO96KKr5Y+m5LiA5Liq5LqL5Lu25Yy65Z+f55qE55uR5ZCs5Zmo5b6X55+lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRmllbGROYW1lOkZpZWxkTmFtZSA9IG5ldyBGaWVsZE5hbWUoKTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVHlwZU5hbWU6VHlwZU5hbWUgPSBuZXcgVHlwZU5hbWUoKTtcclxuICAgIFxyXG4gICAgcHVibGljIG9uKGZpZWxkOnN0cmluZywgdHlwZTpzdHJpbmcsIGNhbGxlcjphbnksIG1ldGhvZDpGdW5jdGlvbiwgYXJncz86YW55W10pOnZvaWR7Ly/lsLHmr5RFdmVudERpc3BhdGNoZXIub27lpJrkuKrkuovku7bljLrln59cclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50RmllbGRzLmtleUV4aXN0KGZpZWxkKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudEZpZWxkcy5zZXQoZmllbGQsIG5ldyBMYXlhLkV2ZW50RGlzcGF0Y2hlcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZXZlbnRGaWVsZHMuZ2V0KGZpZWxkKS5vbih0eXBlLCBjYWxsZXIsIG1ldGhvZCwgYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV2ZW50KGZpZWxkOnN0cmluZywgdHlwZTpzdHJpbmcsIGFyZ3M/OmFueVtdKTp2b2lkey8v5bCx5q+URXZlbnREaXNwYXRjaGVyLmV2ZW505aSa5Liq5LqL5Lu25Yy65Z+fXHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudEZpZWxkcy5rZXlFeGlzdChmaWVsZCkpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2V2ZW50RmllbGRzLmdldChmaWVsZCkuZXZlbnQodHlwZSwgYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uY2UoZmllbGQ6c3RyaW5nLCB0eXBlOnN0cmluZywgY2FsbGVyOmFueSwgbWV0aG9kOkZ1bmN0aW9uLCBhcmdzPzphbnlbXSk6dm9pZHsvL+WwseavlEV2ZW50RGlzcGF0Y2hlci5vbmNl5aSa5Liq5LqL5Lu25Yy65Z+fXHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudEZpZWxkcy5rZXlFeGlzdChmaWVsZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRGaWVsZHMuc2V0KGZpZWxkLCBuZXcgTGF5YS5FdmVudERpc3BhdGNoZXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2V2ZW50RmllbGRzLmdldChmaWVsZCkub25jZSh0eXBlLCBjYWxsZXIsIG1ldGhvZCwgYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9mZihmaWVsZDpzdHJpbmcsIHR5cGU6c3RyaW5nLCBjYWxsZXI6YW55LCBmdW5jOkZ1bmN0aW9uKTp2b2lkey8v56e76Zmk5LqL5Lu25L6m5ZCs5ZmoXHJcbiAgICAgICAgdGhpcy5fZXZlbnRGaWVsZHMuZ2V0KGZpZWxkKS5vZmYodHlwZSwgY2FsbGVyLCBmdW5jKTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlHbG9iYWx7XHJcbiAgICBwdWJsaWMgc3RhdGljIFVJU2V0OkxheWEuU3ByaXRlOyAgICAgICAgLy/muLjmiI/lnLrmma/ph4znmoTkuK3lv4PljLrln5/ljp/ngrlcclxuICAgIHB1YmxpYyBzdGF0aWMgVUlTZXRfc3ViOkxheWEuU3ByaXRlOyAgICAvL+S4iumdoumCo+S4qnNwcml0ZeeahOS4gOS4quWtkOiKgueCue+8jOS4uuS6huS4jeaKiuWcsOWbvuaTpuaOie+8jOWPr+S7peWcqOi/meS4quiKgueCuemHjOe7mOWbvlxyXG4gICAgcHVibGljIHN0YXRpYyBMaXN0T2ZPcHJ0OnN0cmluZ1tdID0gWy8v5L6n6L655qCP6ZyA6KaB55So5Yiw55qE5Y+v6YCJ5bmy5ZGY5YiX6KGoXHJcbiAgICAgICAgXCJiaXJkXCJcclxuICAgIF07XHJcbiAgICBwdWJsaWMgc3RhdGljIExJTkVfRUZGRUNUX09OOmJvb2xlYW4gPSBmYWxzZTtcclxufVxyXG5cclxuIiwiLyoqXHJcbiAqIOiZveeEtuWIl+WQkemHj+WSjOihjOWQkemHj+mDveWwseaYr+S4quWumumVv+aVsOe7hFxyXG4gKiDkvYbmiJHov5nph4zov5jmmK/lvZPliJflkJHph4/lkKdcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb2xvdW1WZWN0b3J7XHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21BcnJheShhcnI6bnVtYmVyW10pOkNvbG91bVZlY3RvcntcclxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IENvbG91bVZlY3RvcihhcnIubGVuZ3RoKTtcclxuICAgICAgICBhcnIuZm9yRWFjaCgoZWxlLGluZGV4KT0+e1xyXG4gICAgICAgICAgICByZXN1bHQud3JpdGUoaW5kZXgsIGVsZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlaWdodDpudW1iZXI7XHJcbiAgICBwcml2YXRlIF9kYXRhOm51bWJlcltdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoaGVpZ2h0Om51bWJlcil7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2hpbGUoaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhLnB1c2goMClcclxuICAgICAgICAgICAgaGVpZ2h0IC09IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqg5YeP5LmY6Zmk5rKh5pyJ5YeP6ZmkXHJcbiAgICBwdWJsaWMgcGx1cyh3OkNvbG91bVZlY3Rvcik6Q29sb3VtVmVjdG9ye1xyXG4gICAgICAgIGlmICh3LmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIk5vdCBmdW5ueSBkaWRuJ3QgbGF1Z2hcIiwgXCJOb3QgRnVubnkgRXhjZXB0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdDpDb2xvdW1WZWN0b3IgPSB0aGlzLmNsb25lO1xyXG4gICAgICAgIHcuX2RhdGEuZm9yRWFjaCgoZWxlLGluZGV4KT0+e1xyXG4gICAgICAgICAgICByZXN1bHQuX2RhdGFbaW5kZXhdICs9IGVsZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG11bHRpKGM6bnVtYmVyKTpDb2xvdW1WZWN0b3J7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpDb2xvdW1WZWN0b3IgPSB0aGlzLmNsb25lO1xyXG4gICAgICAgIHRoaXMuX2RhdGEuZm9yRWFjaCgoZWxlLGluZGV4KT0+e1xyXG4gICAgICAgICAgICByZXN1bHQuX2RhdGFbaW5kZXhdID0gYyplbGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/lop7liKDmlLnmn6XmsqHmnInlop7liKBcclxuICAgIHB1YmxpYyB3cml0ZShpbmRleDpudW1iZXIsIHZhbHVlOm51bWJlcik6dm9pZHtcclxuICAgICAgICB0aGlzLl9kYXRhW2luZGV4XSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkKGluZGV4Om51bWJlcik6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY292ZXIoc291cmNlOkNvbG91bVZlY3Rvcik6dm9pZHtcclxuICAgICAgICBpZiAoc291cmNlLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIk5vdCBmdW5ueSBkaWRuJ3QgbGF1Z2hcIiwgXCJOb3QgRnVubnkgRXhjZXB0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc291cmNlLl9kYXRhLmZvckVhY2goKGVsZSxpbmRleCk9PntcclxuICAgICAgICAgICAgdGhpcy5fZGF0YVtpbmRleF0gPSBlbGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v5YW25LuW5Ye95pWwXHJcbiAgICBwdWJsaWMgcHJpbnQoKTpDb2xvdW1WZWN0b3J7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fZGF0YS5qb2luKFwiXFxuXCIpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNsb25lKCk6Q29sb3VtVmVjdG9ye1xyXG4gICAgICAgIGxldCByZXN1bHQ6Q29sb3VtVmVjdG9yID0gbmV3IENvbG91bVZlY3Rvcih0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5fZGF0YS5mb3JFYWNoKChlbGUsaW5kZXgpPT57XHJcbiAgICAgICAgICAgIHJlc3VsdC5fZGF0YVtpbmRleF0gPSBlbGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOiZveeEtuS4gOaOkuWIl+WQkemHj+WSjOS4gOWIl+ihjOWQkemHj+mDveWPr+S7peW9k+efqemYtVxyXG4gKiDkvYbov5nph4zmmK/kuIDmjpLliJflkJHph49cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXRyaXh7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0Om51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSB3aWR0aDpudW1iZXI7XHJcbiAgICBwcml2YXRlIF9kYXRhOkNvbG91bVZlY3RvcltdO1xyXG4gICAgY29uc3RydWN0b3IoaGVpZ2h0Om51bWJlciwgd2lkdGg6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgd2lkdGg7IG4gKz0gMSkgey8v6Zu25ZCR6YeP5ruh5LiKXHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGEucHVzaChuZXcgQ29sb3VtVmVjdG9yKGhlaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5aKe5Yig5pS55p+l5rKh5pyJ5aKe5YigXHJcbiAgICBwdWJsaWMgd3JpdGVDb2xvdW0oaW5kZXg6bnVtYmVyLGNvbG91bTpDb2xvdW1WZWN0b3IpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fZGF0YVtpbmRleF0uY292ZXIoY29sb3VtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgd3JpdGUocm93Om51bWJlciwgY29sOm51bWJlciwgdmFsdWU6bnVtYmVyKTp2b2lke1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJvdyArXCJ8XCIgKyBjb2wpO1xyXG4gICAgICAgIGlmIChyb3cgPj0gdGhpcy5oZWlnaHQgfHwgY29sID49IHRoaXMud2lkdGggfHwgcm93IDwgMCB8fCBjb2wgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJOb3QgZnVubnkgZGlkbid0IGxhdWdoXCIsIFwiTm90IEZ1bm55IEV4Y2VwdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGF0YVtjb2xdLndyaXRlKHJvdywgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkQ29sb3VtKGluZGV4Om51bWJlcik6Q29sb3VtVmVjdG9ye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZChyb3c6bnVtYmVyLCBjb2w6bnVtYmVyKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbY29sXS5yZWFkKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDlh4/kuZjpmaTmsqHmnInlh4/pmaRcclxuICAgIHB1YmxpYyB0cmFuc0NvbFZlY3Rvcih2OkNvbG91bVZlY3Rvcik6Q29sb3VtVmVjdG9ye1xyXG4gICAgICAgIGlmICh2LmhlaWdodCAhPT0gdGhpcy53aWR0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiTm90IGZ1bm55IGRpZG4ndCBsYXVnaFwiLCBcIk5vdCBGdW5ueSBFeGNlcHRpb25cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IENvbG91bVZlY3Rvcih0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy53aWR0aDsgY29sICs9IDEpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnBsdXModGhpcy5fZGF0YVtjb2xdLm11bHRpKHYucmVhZChjb2wpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ml4vovaxcclxuICAgIHB1YmxpYyByb3RhdGVDbG9jaygpOk1hdHJpeHtcclxuICAgICAgICBsZXQgcmVzdWx0Ok1hdHJpeCA9IG5ldyBNYXRyaXgodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGZvciAobGV0IGRvd24gPSAwOyBkb3duIDwgcmVzdWx0LmhlaWdodDsgZG93biArPSAxKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCByaWdodCA9IDA7IHJpZ2h0IDwgcmVzdWx0LndpZHRoOyByaWdodCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tOm51bWJlciA9IHRoaXMucmVhZCh0aGlzLmhlaWdodC0xLXJpZ2h0LCBkb3duKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC53cml0ZShkb3duLCByaWdodCwgZnJvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lhbbku5blh73mlbBcclxuICAgIHB1YmxpYyBzdHIoKTpTdHJpbmd7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuaGVpZ2h0OyByb3cgKz0gMSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCB0aGlzLndpZHRoOyBjb2wgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuX2RhdGFbY29sXS5yZWFkKHJvdykgKyBcIlxcdFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCs9XCJcXG5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJpbnQoKTp2b2lke1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RyKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeU1hdGh7XHJcbiAgICAvL0xheWHmqKHlnZdcclxuICAgIC8qKlxyXG4gICAgICog5Yik5pat5Lik5Liq55+p5b2i5a+56LGh5piv5ZCm6YeN5Y+gXHJcbiAgICAgKiBAcGFyYW0gcmVjMCDkuIDkuKrnn6nlvaJcclxuICAgICAqIEBwYXJhbSByZWMxIOWPpuS4gOS4quefqeW9olxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIG92ZXJsYXBfUmVjKHJlYzA6TGF5YS5SZWN0YW5nbGUsIHJlYzE6TGF5YS5SZWN0YW5nbGUpOmJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAgdGhpcy5vdmVybGFwXzJkKHJlYzAueCxyZWMxLngscmVjMC53aWR0aCxyZWMxLndpZHRoKSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vdmVybGFwXzJkKHJlYzAueSxyZWMxLnkscmVjMC5oZWlnaHQscmVjMS5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Zyo5oyH5a6a57uY5Zu+6IqC54K55Lit57uY5Yi255+p5b2iXHJcbiAgICAgKiBAcGFyYW0gc3ByIOe7mOWbvuiKgueCuVxyXG4gICAgICogQHBhcmFtIHJlYyDnn6nlvaJcclxuICAgICAqIEBwYXJhbSBjb2xvciDpopzoibJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBkcmF3UmVjKHNwcjpMYXlhLlNwcml0ZSwgcmVjOkxheWEuUmVjdGFuZ2xlLCBjb2xvcjpzdHJpbmc9XCIjZmZmZmZmXCIpOnZvaWR7XHJcbiAgICAgICAgc3ByLmdyYXBoaWNzLmRyYXdSZWN0KHJlYy54LCByZWMueSwgcmVjLndpZHRoLCByZWMuaGVpZ2h0LCBjb2xvciwgXCIjODg4ODg4XCIsIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy9MYXlh5qih5Z2XXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3lnKjmlbDovbTkuIrkuKTmnaHnur/mmK/lkKbph43lj6BcclxuICAgICAqIEBwYXJhbSBwb2ludDAg57q/5q61MOeahOW3puS+p+err+eCuVxyXG4gICAgICogQHBhcmFtIHBvaW50MSDnur/mrrUx55qE5bem5L6n56uv54K5XHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoMCDnur/mrrUw55qE6ZW/5bqmXHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoMSDnur/mrrUx55qE6ZW/5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgb3ZlcmxhcF8yZChwb2ludDA6bnVtYmVyLCBwb2ludDE6bnVtYmVyLCBsZW5ndGgwOm51bWJlciwgbGVuZ3RoMTpudW1iZXIpOmJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuICBNeU1hdGguaW5jbHVkZV8yZChwb2ludDAsbGVuZ3RoMCxwb2ludDEpIHx8XHJcbiAgICAgICAgICAgICAgICBNeU1hdGguaW5jbHVkZV8yZChwb2ludDAsbGVuZ3RoMCxwb2ludDErbGVuZ3RoMSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWreWcqOaVsOi9tOS4iuS4gOS4queCueaYr+WQpuWkhOS6juS4gOadoee6v+auteS4ilxyXG4gICAgICogQHBhcmFtIGxvY2F0ZSDnur/mrrXlt6bkvqfnq6/ngrnkvY3nva5cclxuICAgICAqIEBwYXJhbSBsZW5ndGgg57q/5q616ZW/5bqmXHJcbiAgICAgKiBAcGFyYW0gZG90IOeCueS9jVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGluY2x1ZGVfMmQobG9jYXRlOm51bWJlciwgbGVuZ3RoOm51bWJlciwgZG90Om51bWJlcik6Ym9vbGVhbntcclxuICAgICAgICByZXR1cm4gZG90Pj1sb2NhdGUgJiYgZG90PD1sb2NhdGUrbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHVwTGltaXQg5LiK55WMXHJcbiAgICAgKiBAcGFyYW0gbG9MaW1pdCDkuIvnlYxcclxuICAgICAqIEByZXR1cm5zIOS4iueVjOS4juS4i+eVjOS5i+mXtOeahOmaj+acuuaVtOaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJhbmRvbUludCh1cExpbWl0Om51bWJlciwgbG9MaW1pdDpudW1iZXIgPSAwKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoodXBMaW1pdC1sb0xpbWl0KSArIGxvTGltaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZnJvbnQg5Y6f5pWw5a2XXHJcbiAgICAgKiBAcGFyYW0gc2hpZnQg5aKe5Yqg6YePXHJcbiAgICAgKiBAcGFyYW0gZW5kIOWinuWKoOS4iumZkO+8iOiLpeWinuWKoOmHj+S4uui0n++8jOWImeS4uuS4i+mZkO+8iVxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgbW92ZVRvKGZyb250Om51bWJlciwgc2hpZnQ6bnVtYmVyLCBlbmQ6bnVtYmVyKTpudW1iZXIge1xyXG4gICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gZnJvbnQgKyBzaGlmdDtcclxuICAgICAgICBpZiAoc2hpZnQ+MCAmJiByZXN1bHQ+ZW5kKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGVuZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0PDAgJiYgcmVzdWx0PGVuZCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBlbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhpLms6HmjpLluo9cclxuICAgICAqIOazqOaEj+i/meS4queul+azleS8muebtOaOpeS/ruaUueWOn+aVsOe7hFxyXG4gICAgICogQHBhcmFtIHNvdXJjZSDljp/mlbDnu4RcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDkvJjlhYjlgLzlj5blgLzlh73mlbBcclxuICAgICAqIEBwYXJhbSBpbmNyZWFzZSDmmK/lkKbljYfluo/vvIjpu5jorqTljYfluo/vvIkgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgYnViYmxlU29ydChzb3VyY2U6YW55W10sIHZhbHVlOkZ1bmN0aW9uLCBpbmNyZWFzZTpib29sZWFuID0gdHJ1ZSk6dm9pZHtcclxuICAgICAgICAvLyBsZXQgdGltZSA9IDA7XHJcbiAgICAgICAgbGV0IGNvbXBsZXRlOmJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IG4gPSBzb3VyY2UubGVuZ3RoIC0gMTsgbiA+IDA7IG4gLT0gMSkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcihsZXQgbSA9IDA7IG0gPCBuOyBtICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXI6bnVtYmVyID0gdmFsdWUoc291cmNlW21dKTtcclxuICAgICAgICAgICAgICAgIGxldCBuZXh0Om51bWJlciA9IHZhbHVlKHNvdXJjZVttICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluY3JlYXNlPyhjdXI+bmV4dCk6KGN1cjxuZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdG9yZSA9IHNvdXJjZVttXTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VbbV0gPSBzb3VyY2VbbSsxXTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VbbSArIDFdID0gc3RvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRpbWUgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVTY2VuZVVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIFVJU2V0OkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBTaWRlQmFyOkxheWEuU3ByaXRlO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkdhbWVTY2VuZVVJXCIsR2FtZVNjZW5lVUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIExvYWRpbmdTY2VuZVVJIGV4dGVuZHMgU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJMb2FkaW5nU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkuTG9hZGluZ1NjZW5lVUlcIixMb2FkaW5nU2NlbmVVSSk7XHJcbn1cciJdfQ==
